<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2022çš„èƒ¡è¨€ä¹±è¯­</title>
    <url>/2023/01/01/2022%E5%B9%B4%E7%9A%84%E8%83%A1%E8%A8%80%E4%B9%B1%E8%AF%AD/</url>
    <content><![CDATA[<p>æ¯ä¸€å¹´çš„ç»å†éƒ½å¾ˆæ–°å¥‡ï¼Œæ¯ä¸€å¹´çš„ç”Ÿæ´»éƒ½å¾ˆå¤šå½©ã€‚2022ï¼Œåˆåº¦è¿‡äº†ç¥å¥‡çš„ä¸€å¹´ã€‚</p>
<p>2022ä»è®ºæ–‡å¼€å§‹ã€‚2022å¹´çš„å…ƒæ—¦èŠ‚ï¼Œ1æœˆ1å·ï¼Œæˆ‘å®Œæˆäº†ç¡•å£«æ¯•ä¸šè®ºæ–‡çš„æœ€åä¸€ç« ï¼šè‡´è°¢ã€‚æˆ‘çœŸçš„æŠŠè¿™ä¸€ç« å½“ä½œæ•´ä¸ªæ¯•ä¸šè®ºæ–‡æœ€é‡è¦çš„ä¸€éƒ¨åˆ†å»å†™ã€‚æ„Ÿè°¢äº†çˆ¶æ¯ï¼Œè€å¸ˆï¼ŒåŒå­¦ï¼Œæœ‹å‹ï¼ŒåŒäº‹ï¼Œä¸¤å¹´æ¥æ‰€æœ‰æä¾›è¿‡å¸®åŠ©çš„äººã€‚å››æœˆä»½ä»å­¦æ ¡æ¯•ä¸šï¼Œåœ¨å®¶è¢«å°æ§äº†ä¸€ä¸ªæœˆï¼Œç”Ÿæ—¥å½“å¤©ä»éš”ç¦»ç‚¹å‡ºæ¥ã€‚äº”æœˆæ¥åˆ°æ­å·æ­£å¼å…¥èŒï¼Œå®Œæˆå­¦ç”Ÿåˆ°æ‰“å·¥äººçš„è½¬å˜ã€‚5-12æœˆå°±æ˜¯ä¸Šç­-å‡ºå»ç©-ä¸Šç­-å‡ºå»ç©ï¼Œæœ€åä¸€å¤©ä»¥è‡ªé©¾150å…¬é‡Œï¼Œåœ¨åƒå²›æ¹–çœ‹äº†åœºç”µå½±ç»“æŸäº†ã€‚</p>
<p><img src="/2023/01/01/2022%E5%B9%B4%E7%9A%84%E8%83%A1%E8%A8%80%E4%B9%B1%E8%AF%AD/%E5%8D%83%E5%B2%9B%E6%B9%96.jpg" alt></p>
<p>ä»Šå¹´å»äº†å¾ˆå¤šåœ°æ–¹ã€‚äº”æœˆä»½æ­£å¼æ¬åˆ°äº†æ­å·ï¼Œè¿™æ˜¯åº”è¯¥æ˜¯æˆ‘é•¿æœŸå±…ä½çš„ç¬¬ä¸‰ä¸ªåŸå¸‚ã€‚å»äº†èˆŸå±±ï¼Œå»äº†å®‰å‰ï¼Œå»äº†ä¸Šæµ·ï¼Œå»äº†åƒå²›æ¹–ï¼Œè¿˜æœ‰å¤§æŠŠæ—¶é—´æŒ¥éœåœ¨å—äº¬ï¼Œæˆ‘å·²ç»åœ¨è¿™ä¸ªåŸå¸‚å‘†äº†8å¹´äº†ï¼Œç›¸æ¯”æ­å·æˆ‘è¿˜æŒºå–œæ¬¢å—äº¬çš„ã€‚</p>
<p>ä»Šå¹´è®¤è¯†äº†å¾ˆå¤šæ–°çš„æœ‹å‹ã€‚å…¬å¸çš„åŒäº‹ã€å¤§æŠŠç¥ä»™ä¸€æ ·çš„é«˜På¤§ç‰›ï¼Œæ–°å‘˜å·¥åŸ¹è®­æ—¶å„æ–¹é¢é¡¶å°–çš„åŒé¾„äººã€‚å»è€ƒé©¾ç…§è®¤è¯†äº†ä¸€ä¸ªæœ‰ç‚¹æ„æ€çš„å°å§å§ã€‚ä½†æ‰“æ¸¸æˆå€’æ˜¯æ²¡ä»€ä¹ˆæ–°çš„æ¸¸æˆå¥½å‹ï¼Œå¤§æ¦‚æ˜¯ç”Ÿæ´»å¤ªç²¾å½©äº†ï¼Œæ¸¸æˆå¯¹æˆ‘å·²ç»æ²¡ä»€ä¹ˆå¸å¼•åŠ›äº†ã€‚</p>
<p>ä»Šå¹´æœ‰äº†æ›´å¤šæ–°å¥‡çš„ä½“éªŒã€‚å»èˆŸå±±èµ¶æµ·ï¼Œå»å®‰å‰æ»‘é›ªï¼Œå»åƒå²›æ¹–éª‘è½¦ï¼Œå»äº†ä¸Šæµ·æå±•ï¼Œè¿˜åœ¨è¥¿æ¹–è¾¹çœ‹å¤§çˆ·æ”¾é£ç­ã€‚åœ¨å—äº¬å»çœ‹è„±å£ç§€ï¼Œå»çœ‹ç”»å±•ï¼Œå»çŒ«å’–æ’¸çŒ«/ç‹—ï¼Œå»åƒäº†è¶Šå—/å°åº¦å„ç§å„æ ·ç¥å¥‡çš„èœï¼Œè·Ÿçªçªå‡ºå»ç©çœŸçš„å¾ˆå¼€å¿ƒã€‚å—å›¾ä»æˆ‘å¤§ä¸€çš„æ—¶å€™å°±å¬è¯´æŒºå¥½ï¼Œä»Šå¹´ç»ˆäºå»äº†ä¸€æ¬¡ã€‚å”¯ä¸€çš„é—æ†¾æ˜¯åä¸€é¢„çº¦å—åšä½†æ²¡æœ‰é¢„çº¦æˆã€‚</p>
<p>ä»Šå¹´æ‹¼äº†ä¸¤ä¸ªä¹é«˜ï¼Œè€å‹è®°å’Œæœå¡è¿ªã€‚<br><img src="/2023/01/01/2022%E5%B9%B4%E7%9A%84%E8%83%A1%E8%A8%80%E4%B9%B1%E8%AF%AD/%E8%80%81%E5%8F%8B%E8%AE%B0.jpg" alt><br><img src="/2023/01/01/2022%E5%B9%B4%E7%9A%84%E8%83%A1%E8%A8%80%E4%B9%B1%E8%AF%AD/%E6%9D%9C%E5%8D%A1%E8%BF%AA.jpg" alt></p>
<p>ä»Šå¹´åœ¨å·¥ä½œä¸­å†™äº†ä¸€ç¯‡æŠ€æœ¯åˆ†äº«çš„é•¿æ–‡ï¼Œå¾ˆå—å¤§å®¶æ¬¢è¿ï¼Œgithubæ¶¨äº†æ¥è¿‘200ä¸ªstarï¼ŒOSChinaä¸Šä¹Ÿæœ‰å¤§å‡ åƒçš„é˜…è¯»ï¼Œç”šè‡³å‡†å¤‡ä»¥æ­¤ä¸ºåŸºç¡€å‡†å¤‡å»å†™ä¸€æœ¬ç”µå­ä¹¦ï¼Œè¿™æ˜¯ä»Šå¹´æœ€æœ‰æˆå°±æ„Ÿçš„äº‹ã€‚å»å¹´å†™çš„paperç»ˆäºä¸­äº†ï¼Œè™½ç„¶åªæ˜¯ä¸€ä¸ªå¾ˆæ°´çš„ä¼šã€‚ä½†ä¹Ÿæ˜¯æˆ‘ä¸­çš„ç¬¬ä¸€ç¯‡paperã€‚</p>
<p>ä»Šå¹´ä¹Ÿæ˜¯æ‘†çƒ‚çš„ä¸€å¹´ï¼Œå‹‡äºå¼€å‘ä½†ä»ä¸å¡«å‘ã€‚è·Ÿyyjæarduboyæ¸¸æˆæœºå› ä¸ºå¤ªå¿™çƒ‚å°¾ï¼›ã€Šç¼–è¯‘åŸç†ã€‹ã€Šä»£ç å¤§å…¨ã€‹ã€Šæ•æ·è½¯ä»¶å¼€å‘ã€‹å‡ æœ¬ä¹¦çœ‹äº†ä¸€åŠæ²¡æœ‰å…´è¶£ç»§ç»­ä¸‹å»ï¼Œå”¯ä¸€çœ‹å®Œçš„æ˜¯ä¸€æœ¬ã€Šäººæœˆç¥è¯ã€‹ï¼›ä¸Šé¢çš„ç”µå­ä¹¦å·²ç»çƒ‚å°¾ï¼›å¸®çªçªå†™çš„ä¸œè¥¿ä¹Ÿä¸€ç›´æ²¡æ—¶é—´æï¼ˆè¿™ä¸ªå°½é‡ä¸çƒ‚å°¾&#x1F610;ï¼‰;ç”šè‡³å‡ ä¸ªæ¸¸æˆéƒ½çƒ‚æ‰ä¸æƒ³ç©äº†ã€‚äººç”Ÿå˜›ï¼Œæ€»æ˜¯åœ¨å¯»æ‰¾è‡ªå·±çˆ±çš„äººå’Œäº‹ï¼Œåªæ˜¯çŸ­æš‚çˆ±è¿‡ç½¢äº†ã€‚æ¯•ç«Ÿæµ·èª“å±±ç›Ÿå¹¶ä¸èƒ½å¤Ÿç»‘ä½æˆ‘ï¼Œä¸€ç™¾å¹´é‡Œæˆ‘æƒ³çˆ±çš„äºº(äº‹)é‚£ä¹ˆå¤šã€‚</p>
<p>ä»Šå¹´åˆå­¦äº†å¾ˆå¤šæŠ€èƒ½ã€‚å­¦ä¼šäº†ä¸€ç‚¹ç‚¹rustï¼Œå­¦äº†ä¸€ç‚¹ç‚¹kubernetesï¼Œå¯¹åŒºå—é“¾å’Œweb3.0æœ‰äº†ä¸€ç‚¹ç‚¹äº†è§£ï¼Œå†™äº†ä¸€ç‚¹ç‚¹llvmï¼Œä¹Ÿè¯»äº†ä¸€ä¸¢ä¸¢ã€Šæ¯›é€‰ã€‹ã€‚è‡ªå·±ä¹°äº†ä¸ªåŸŸåï¼Œæäº†åšå®¢ï¼ˆğŸ‘†å°±æ˜¯ä½ ä»¬çœ‹åˆ°çš„è¿™ä¸ªï¼‰ï¼Œè™½ç„¶å…¨æ˜¯æ°´æ–‡å’Œè‡ªå·±çš„èƒ¡è¨€ä¹±è¯­ã€‚å·¥ä½œä¸Šç¨å¾®æäº†ä¸€ä¸‹é¡¹ç›®çš„å¾®ä¿¡å…¬ä¼—å·ã€‚ä»Šå¹´leetcodeæäº¤äº†385æ¬¡ï¼ŒACäº†å¤§æ¦‚200å¤šé¢˜ï¼Œä½†æŸç§æ„ä¹‰ä¸Šä¹Ÿæ˜¯ä¸€ç§çƒ‚å°¾ã€‚å¹´åº•ç»ˆäºå»å­¦äº†æ‘©æ‰˜è½¦ï¼Œä¹Ÿæ‹¿åˆ°äº†é©¾ç…§ï¼Œæ–°çš„ä¸€å¹´å¸Œæœ›æœ‰æœºä¼šå¤šéª‘è½¦ï¼Œå¤šå’Œæœ‹å‹ä¸€èµ·å‡ºå»éª‘è½¦ã€‚</p>
<p>ä»Šå¹´ä¾æ—§èŠ±äº†å¾ˆå¤šæ—¶é—´æ‰“æ¸¸æˆã€‚å¹´åˆæˆä¸ºåŸæ‰¹ï¼Œæ¯•ä¸šå‰æ‰“äº†å‡ ä¸ªæœˆåŸç¥ã€‚ä¾æ—§åœ¨æ‰“LOLï¼Œåå¹´LOLæˆ‘ç»ˆäºåœ¨ä¸‹æ£‹ç¬¬ä¸€æ¬¡æ‰“ä¸Šäº†é’»çŸ³ï¼Œä½†rankè¶Šæ¥è¶Šæ‘†çƒ‚äº†ã€‚Apexä¾ç„¶åˆèœåˆçˆ±ç©ã€‚å¼€å§‹ç©å°˜åŸƒæ‹‰åŠ›èµ›ï¼Œè‡ªå·±ä¹°äº†æ–¹å‘ç›˜è¸æ¿å’Œæ‰‹åˆ¹ã€‚è¹­äº†å®¤å‹çš„switchå’ŒPS5ï¼Œæ‰‹æŸ„ç”¨èµ·æ¥åƒä¸ªæ®‹ç–¾äººï¼Œè¿˜å¾—æ˜¯é”®é¼ ã€‚ç©äº†å¾ˆå¤šå°æ¸¸æˆï¼Œç ´é—¨è€Œå…¥(CQB)ï¼Œboratatoï¼Œæ­»äº¡ç»†èƒï¼Œæªç«é‡ç”Ÿï¼ˆè‚‰é¸½ï¼‰ã€‚<del>æ‰“æ¸¸æˆè¿˜æ˜¯</del> ç”Ÿæ´»æ‰æ˜¯æˆ‘çš„ç¬¬ä¸€å¿«ä¹æºæ³‰ ã€‚</p>
<p>ä»Šå¹´æ˜¯ä¾æ—§å•èº«çš„ä¸€å¹´ã€‚</p>
<p>æœ¬æ¥ä¸æƒ³å†™å¤ªå¤šè·Ÿå·¥ä½œç›¸å…³çš„äº‹æƒ…ï¼Œå°±åƒæˆ‘è€æ¿è¯´çš„ï¼šâ€œèš‚èšäººçš„ä¸Šé™ä¸åº”è¯¥åªæœ‰375â€ã€‚â€œç¨‹åºå‘˜ä¹Ÿä¸åº”è¯¥åªä¸ºäº†å·¥ä½œå’Œèµšé’±è€Œæ´»ç€â€ï¼Œè¿™å’Œæˆ‘æƒ³åšä¸€ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜åº”è¯¥ä¹Ÿä¸çŸ›ç›¾ï¼ˆæˆ‘è§‰å¾—æˆ‘è¿˜ç®—æ˜¯ä¸€ä¸ªç¨‹åºå‘˜ï¼Œæˆ–è€…æ˜¯ç¼–ç¨‹çˆ±å¥½è€…ï¼Ÿï¼‰ã€‚</p>
<p>Enjoy my fucking life!</p>
]]></content>
      <categories>
        <category>èƒ¡è¨€ä¹±è¯­</category>
      </categories>
      <tags>
        <tag>èƒ¡è¨€ä¹±è¯­</tag>
        <tag>å¹´ç»ˆæ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS</title>
    <url>/2022/04/15/CSS/</url>
    <content><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20200507153758833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bhbl9oMTk5NQ==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h1 id="1-CSS"><a href="#1-CSS" class="headerlink" title="1 CSS"></a>1 CSS</h1><p>å¦‚ä½•å­¦ä¹ </p>
<ol>
<li>CSSæ˜¯ä»€ä¹ˆ</li>
<li>CSSæ€ä¹ˆç”¨ï¼ˆå¿«é€Ÿå…¥é—¨ï¼‰</li>
<li><strong>CSSé€‰æ‹©å™¨ï¼ˆé‡ç‚¹+éš¾ç‚¹ï¼‰</strong></li>
<li>ç¾åŒ–ç½‘é¡µï¼ˆæ–‡å­—ï¼Œé˜´å½±ï¼Œè¶…é“¾æ¥ï¼Œåˆ—è¡¨ï¼Œæ¸å˜â€¦ï¼‰</li>
<li>ç›’å­æ¨¡å‹</li>
<li>æµ®åŠ¨</li>
<li>å®šä½</li>
<li>ç½‘é¡µåŠ¨ç”»ï¼ˆç‰¹æ•ˆæ•ˆæœï¼‰</li>
</ol>
<span id="more"></span>
<h2 id="1-1-ä»€ä¹ˆæ˜¯CSS"><a href="#1-1-ä»€ä¹ˆæ˜¯CSS" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯CSS"></a>1.1 ä»€ä¹ˆæ˜¯CSS</h2><p>Cascading Style Sheetå±‚å æ ·å¼è¡¨</p>
<p>CSSï¼šè¡¨ç°ï¼ˆç¾åŒ–ç½‘é¡µï¼‰</p>
<p>å­—ä½“ï¼Œé¢œè‰²ï¼Œè¾¹è·ï¼Œé«˜åº¦ï¼Œå®½åº¦ï¼ŒèƒŒæ™¯å›¾ç‰‡ï¼Œç½‘é¡µå®šä½ï¼Œç½‘é¡µæµ®åŠ¨</p>
<h2 id="1-2-å‘å±•å²"><a href="#1-2-å‘å±•å²" class="headerlink" title="1.2 å‘å±•å²"></a>1.2 å‘å±•å²</h2><p>CSS1.0</p>
<p>CSS2.0ï¼šDIVï¼ˆå—ï¼‰+CSSï¼ŒHTMLä¸CSSç»“æ„åˆ†ç¦»çš„æ€æƒ³ï¼Œç½‘é¡µå˜å¾—ç®€å•ï¼ŒSEO</p>
<p>CSS2.1ï¼šæµ®åŠ¨ï¼Œå®šä½</p>
<p>CSS3.0ï¼šåœ†è§’ã€é˜´å½±ã€åŠ¨ç”»â€¦æµè§ˆå™¨å…¼å®¹æ€§~</p>
<h2 id="1-3-å¿«é€Ÿå…¥é—¨"><a href="#1-3-å¿«é€Ÿå…¥é—¨" class="headerlink" title="1.3 å¿«é€Ÿå…¥é—¨"></a>1.3 å¿«é€Ÿå…¥é—¨</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    è§„èŒƒï¼Œ&lt;style&gt; å¯ä»¥ç¼–å†™cssä»£ç </span></span><br><span class="line"><span class="comment">        è¯­æ³•ï¼š</span></span><br><span class="line"><span class="comment">        é€‰æ‹©å™¨&#123;</span></span><br><span class="line"><span class="comment">            å£°æ˜1ï¼›</span></span><br><span class="line"><span class="comment">            å£°æ˜2ï¼›</span></span><br><span class="line"><span class="comment">            ...</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>htmlä¸cssåˆ†ç¦»</p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    è§„èŒƒï¼Œ&lt;style&gt; å¯ä»¥ç¼–å†™cssä»£ç </span></span><br><span class="line"><span class="comment">        è¯­æ³•ï¼š</span></span><br><span class="line"><span class="comment">        é€‰æ‹©å™¨&#123;</span></span><br><span class="line"><span class="comment">            å£°æ˜1ï¼›</span></span><br><span class="line"><span class="comment">            å£°æ˜2ï¼›</span></span><br><span class="line"><span class="comment">            ...</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>cssï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>cssçš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>å†…å®¹ä¸è¡¨ç°åˆ†ç¦»</li>
<li>ç½‘é¡µç»“æ„è¡¨ç°ç»Ÿä¸€ï¼Œå¯ä»¥å®ç°å¤ç”¨</li>
<li>æ ·å¼ä¸°å¯Œ</li>
<li>å»ºè®®ä½¿ç”¨ç‹¬ç«‹äºhtmlçš„css</li>
<li>åˆ©äºSEOï¼Œå®¹æ˜“è¢«æœç´¢å¼•æ“æ”¶å½•</li>
</ol>
<h2 id="1-4-CSSçš„ä¸‰ç§å¯¼å…¥æ–¹å¼"><a href="#1-4-CSSçš„ä¸‰ç§å¯¼å…¥æ–¹å¼" class="headerlink" title="1.4 CSSçš„ä¸‰ç§å¯¼å…¥æ–¹å¼"></a>1.4 CSSçš„ä¸‰ç§å¯¼å…¥æ–¹å¼</h2><p>è¡Œå†…æ ·å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è¡Œå†…æ ·å¼ åœ¨æ ‡ç­¾å…ƒç´ ä¸­ï¼Œç¼–å†™ä¸€ä¸ªstyleå±æ€§ï¼Œç¼–å†™æ ·å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å†…éƒ¨æ ·å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--    å†…éƒ¨æ ·å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¤–éƒ¨æ ·å¼</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*å¤–éƒ¨æ ·å¼*/</span></span><br><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¼˜å…ˆçº§ å°±è¿‘åŸåˆ™</p>
<p>å¤–éƒ¨æ ·å¼ä¸¤ç§å†™æ³•</p>
<ul>
<li><p>é“¾æ¥å¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¤–éƒ¨æ ·å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¼å…¥å¼ CSS2.1</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¯¼å…¥å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="keyword">@import</span> url(<span class="string">&quot;css/style.css&quot;</span>);</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="2-é€‰æ‹©å™¨"><a href="#2-é€‰æ‹©å™¨" class="headerlink" title="2 é€‰æ‹©å™¨"></a>2 é€‰æ‹©å™¨</h1><blockquote>
<p>ä½œç”¨ï¼šé€‰æ‹©é¡µé¢ä¸Šçš„æŸä¸€ä¸ªæˆ–æŸä¸€ç±»å…ƒç´ </p>
</blockquote>
<h2 id="2-1åŸºæœ¬é€‰æ‹©å™¨"><a href="#2-1åŸºæœ¬é€‰æ‹©å™¨" class="headerlink" title="2.1åŸºæœ¬é€‰æ‹©å™¨"></a>2.1åŸºæœ¬é€‰æ‹©å™¨</h2><ol>
<li><p>æ ‡ç­¾é€‰æ‹©å™¨ é€‰æ‹©ä¸€ç±»æ ‡ç­¾  æ ‡ç­¾{}</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>12312sa<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ç±» é€‰æ‹©å™¨class é€‰ä¸­æ‰€æœ‰classå±æ€§ä¸€è‡´çš„æ ‡ç­¾,è·¨æ ‡ç­¾,  .class{}</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="comment">/*ç±»é€‰æ‹©å™¨çš„æ ¼å¼  .classçš„åç§°&#123;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">å¥½å¤„ï¼šå¯ä»¥å¤šä¸ªæ ‡ç­¾å½’ç±»ï¼Œæ˜¯åŒä¸€ä¸ªclass*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.zz</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.zzz</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.zzzz</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;zz&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;zzz&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;zzzz&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;zz&quot;</span>&gt;</span>sadasd<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>idé€‰æ‹©å™¨ å…¨å±€å”¯ä¸€ #id{}</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*id é€‰æ‹©å™¨æ ¼å¼:idå¿…é¡»ä¿è¯å…¨å±€å”¯ä¸€</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        #idåç§°&#123;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        ä¸éµå¾ªå°±è¿‘åŸåˆ™ id&gt;class&gt;æ ‡ç­¾é€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#zz</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.zz</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">h1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;zz&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;zz&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¼˜å…ˆçº§: ä¸éµå¾ªå°±è¿‘åŸåˆ™ id&gt;class&gt;æ ‡ç­¾é€‰æ‹©å™¨</p>
<h2 id="2-2å±‚æ¬¡é€‰æ‹©å™¨"><a href="#2-2å±‚æ¬¡é€‰æ‹©å™¨" class="headerlink" title="2.2å±‚æ¬¡é€‰æ‹©å™¨"></a>2.2å±‚æ¬¡é€‰æ‹©å™¨</h2><ol>
<li><p>åä»£é€‰æ‹©å™¨åœ¨æŸä¸ªå…ƒç´ çš„åé¢ </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> <span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>å­é€‰æ‹©å™¨</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&gt;<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*ç›¸é‚»å…„å¼Ÿï¼Œåªæœ‰ä¸€ä¸ªï¼ˆå‘ä¸‹ï¼‰*/</span></span><br><span class="line"><span class="selector-class">.p1</span>+<span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: chocolate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>é€šç”¨é€‰æ‹©å™¨</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨ ï¼ˆå‘ä¸‹ï¼‰*/</span></span><br><span class="line"><span class="selector-class">.p1</span>~<span class="selector-tag">p</span>&#123;<span class="attribute">background</span>: aqua;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-3ç»“æ„ä¼ªç±»é€‰æ‹©å™¨"><a href="#2-3ç»“æ„ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="2.3ç»“æ„ä¼ªç±»é€‰æ‹©å™¨"></a>2.3ç»“æ„ä¼ªç±»é€‰æ‹©å™¨</h2><p>ä¼ªç±»ï¼šä¼ªç±»å¯¹å…ƒç´ è¿›è¡Œåˆ†ç±»æ˜¯åŸºäºç‰¹å¾(characteristics)è€Œä¸æ˜¯å®ƒä»¬çš„åå­—ã€å±æ€§æˆ–è€…å†…å®¹</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*ulçš„ç¬¬ä¸€ä¸ªå­å…ƒç´ */</span></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:first</span>-child&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ulçš„æœ€åä¸€ä¸ªå­å…ƒç´ */</span></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*é€‰ä¸­p1  å®šä½åˆ°çˆ¶å…ƒç´ ï¼Œé€‰æ‹©å½“å‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">é€‰ä¸­å½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œé€‰æ‹©çˆ¶å…ƒç´ çš„ç¬¬nä¸ª,å¹¶ä¸”åªæœ‰æ˜¯å½“å‰å…ƒç´ æ‰ç”Ÿæ•ˆ*/</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="attribute">background</span>: aquamarine;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*é€‰ä¸­çˆ¶å…ƒç´ ä¸‹çš„ç¬¬nä¸ªpå…ƒç´ */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="attribute">color</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-4-å±æ€§é€‰æ‹©å™¨"><a href="#2-4-å±æ€§é€‰æ‹©å™¨" class="headerlink" title="2.4 å±æ€§é€‰æ‹©å™¨"></a>2.4 å±æ€§é€‰æ‹©å™¨</h2><p>id+classç»“åˆ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.demo</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#000000</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font</span>: bold <span class="number">20px</span>/<span class="number">50px</span> Arial;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        å­˜åœ¨idå±æ€§çš„å…ƒç´  a[]&#123;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        å±æ€§å   å±æ€§å=å±æ€§å€¼ï¼ˆæ­£åˆ™ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-attr">[id]</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-attr">[id=first]</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*classä¸­åˆlinksçš„å…ƒç´   =ç»å¯¹ç­‰äº  *=åŒ…å« ^=å¼€å¤´  $=ç»“å°¾*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-attr">[class*=<span class="string">&quot;links&quot;</span>]</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*é€‰ä¸­hrefä¸­ä»¥httpå¼€å¤´çš„å…ƒç´ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-attr">[href^=http]</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">class</span>=<span class="string">&quot;links item first&quot;</span> <span class="attr">id</span>=<span class="string">&quot;first&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;links item active&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">title</span>=<span class="string">&quot;test&quot;</span> &gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link item&quot;</span> &gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link item&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link item&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link item&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link item&quot;</span> <span class="attr">id</span>=<span class="string">&quot;last&quot;</span>&gt;</span>7<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="3-ç¾åŒ–ç½‘é¡µå…ƒç´ "><a href="#3-ç¾åŒ–ç½‘é¡µå…ƒç´ " class="headerlink" title="3 ç¾åŒ–ç½‘é¡µå…ƒç´ "></a>3 ç¾åŒ–ç½‘é¡µå…ƒç´ </h1><h2 id="3-1-ä¸ºä»€ä¹ˆè¦ç¾åŒ–é¡µé¢"><a href="#3-1-ä¸ºä»€ä¹ˆè¦ç¾åŒ–é¡µé¢" class="headerlink" title="3.1 ä¸ºä»€ä¹ˆè¦ç¾åŒ–é¡µé¢"></a>3.1 ä¸ºä»€ä¹ˆè¦ç¾åŒ–é¡µé¢</h2><ol>
<li>æœ‰æ•ˆä¼ é€’é¡µé¢ä¿¡æ¯</li>
<li>ç¾åŒ–ç½‘é¡µï¼Œé¡µé¢æ¼‚äº®æ‰èƒ½å¸å¼•ç”¨æˆ·</li>
<li>å‡¸æ˜¾é¡µé¢ä¸»é¢˜</li>
<li>æé«˜ç”¨æˆ·ä½“éªŒ</li>
</ol>
<p>spanæ ‡ç­¾ï¼šé‡ç‚¹è¦çªå‡ºçš„å­—ï¼Œä½¿ç”¨spanæ ‡ç­¾å¥—èµ·æ¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#title1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">æ¬¢è¿å­¦ä¹    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;title1&quot;</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-2-å­—ä½“æ ·å¼"><a href="#3-2-å­—ä½“æ ·å¼" class="headerlink" title="3.2 å­—ä½“æ ·å¼"></a>3.2 å­—ä½“æ ·å¼</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">    &lt;style&gt;</span><br><span class="line">&lt;!--</span><br><span class="line"><span class="attribute">font-family</span> å­—ä½“</span><br><span class="line"><span class="attribute">font-size</span> å­—ä½“å¤§å°</span><br><span class="line"><span class="attribute">font-weight</span> ç²—ç»†</span><br><span class="line"><span class="attribute">color</span> é¢œè‰²</span><br><span class="line">--&gt;</span><br><span class="line">        <span class="selector-tag">body</span>&#123;</span><br><span class="line">            <span class="attribute">font-family</span>: æ¥·ä½“;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-tag">h1</span>&#123;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">50px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-class">.p1</span>&#123;</span><br><span class="line">            <span class="attribute">font-weight</span>: bolder;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-class">.p2</span>&#123;</span><br><span class="line">            <span class="attribute">color</span>: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-æ–‡æœ¬æ ·å¼"><a href="#3-3-æ–‡æœ¬æ ·å¼" class="headerlink" title="3.3 æ–‡æœ¬æ ·å¼"></a>3.3 æ–‡æœ¬æ ·å¼</h2><ol>
<li>é¢œè‰²â€“&gt;color</li>
<li>æ–‡æœ¬å¯¹é½æ–¹å¼â€“&gt;text-alignï¼šcenter</li>
<li>é¦–è¡Œç¼©è¿›â€“&gt;text-indentï¼š2em</li>
<li>è¡Œé«˜â€“&gt;line-heightï¼š300pxï¼›è¡Œé«˜è·Ÿå—é«˜ä¸€è‡´å°±å¯ä»¥ä¸Šä¸‹å±…ä¸­</li>
<li>ä¸‹åˆ’çº¿â€“&gt;text-decoration</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="attribute">text-indent</span>: <span class="number">2em</span>;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">text-decoration</span>:underline<span class="comment">/*ä¸‹åˆ’çº¿*/</span></span><br><span class="line">text-decoration:line-through<span class="comment">/*ä¸­åˆ’çº¿*/</span></span><br><span class="line">text-decoration:overline<span class="comment">/*ä¸Šåˆ’çº¿*/</span></span><br><span class="line">text-decoration:none<span class="comment">/*è¶…é“¾æ¥å»ä¸‹åˆ’çº¿*/</span></span><br><span class="line">text-decoration-color: red;<span class="comment">/*çº¿çš„é¢œè‰²*/</span></span><br></pre></td></tr></table></figure>
<h2 id="3-4-é˜´å½±"><a href="#3-4-é˜´å½±" class="headerlink" title="3.4 é˜´å½±"></a>3.4 é˜´å½±</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* text-shadow: é˜´å½±é¢œè‰²ï¼Œæ°´å¹³åç§»ï¼Œå‚ç›´åç§»ï¼Œé˜´å½±åŠå¾„*/</span></span><br><span class="line">        <span class="selector-id">#author</span>&#123;</span><br><span class="line">            <span class="attribute">text-shadow</span>: aqua <span class="number">10px</span> <span class="number">10px</span> <span class="number">2px</span> ;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">/*	ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ°´å¹³åç§»</span></span><br><span class="line"><span class="comment">	ç¬¬äºŒä¸ªå‚æ•°ï¼šè¡¨ç¤ºå‚ç›´åç§»</span></span><br><span class="line"><span class="comment">	ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ¨¡ç³ŠåŠå¾„</span></span><br><span class="line"><span class="comment">	ç¬¬å››ä¸ªå‚æ•°ï¼šè¡¨ç¤ºé¢œè‰²</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attribute">text-shadow</span>:<span class="number">5px</span> <span class="number">5px</span> <span class="number">5px</span> é¢œè‰²</span><br></pre></td></tr></table></figure>
<p>3.5 è¶…é“¾æ¥ä¼ªç±»</p>
<p>å¸¸ç”¨ï¼šaï¼Œ a:hover</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*é»˜è®¤çš„é¢œè‰²*/</span></span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*é¼ æ ‡æ‚¬åœçš„é¢œè‰²*/</span></span><br><span class="line"><span class="selector-tag">a</span>ï¼šhover&#123;</span><br><span class="line">    <span class="attribute">color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*é¼ æ ‡æŒ‰ä½æœªé‡Šæ”¾çš„çŠ¶æ€*/</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-6-åˆ—è¡¨"><a href="#3-6-åˆ—è¡¨" class="headerlink" title="3.6 åˆ—è¡¨"></a>3.6 åˆ—è¡¨</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>å…¨éƒ¨å•†å“åˆ†ç±»<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å›¾ä¹¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>éŸ³å“<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ•°å­—å•†å“<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å®¶ç”¨ç”µå™¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ‰‹æœº<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ•°ç <span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç”µè„‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>åŠå…¬<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å®¶å±…<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å®¶è£…<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å¨å…·<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æœé¥°é‹å¸½<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ä¸ªæŠ¤åŒ–å¦†<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç¤¼å“ç®±åŒ…<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ä¸­æ ‡<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç å®<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>é£Ÿå“é¥®æ–™<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ä¿å¥é£Ÿå“<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å½©ç¥¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ—…è¡Œ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å……å€¼<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç¥¨åŠ¡<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#nav</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background</span>: grey;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ul li</span></span><br><span class="line"><span class="comment">list-style:</span></span><br><span class="line"><span class="comment">    noneï¼šå»æ‰åœ†ç‚¹</span></span><br><span class="line"><span class="comment">    circleï¼šç©ºå¿ƒåœ†</span></span><br><span class="line"><span class="comment">    decimalï¼šæ•°å­—</span></span><br><span class="line"><span class="comment">    spuareï¼šæ­£æ–¹å½¢</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: grey;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span></span><br><span class="line">;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: darkorange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-7-èƒŒæ™¯"><a href="#3-7-èƒŒæ™¯" class="headerlink" title="3.7 èƒŒæ™¯"></a>3.7 èƒŒæ™¯</h2><p>èƒŒæ™¯å›¾ç‰‡</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">700px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">    <span class="comment">/*é»˜è®¤çš„å¹³é“ºçš„*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;image/a.jpg&quot;</span>);</span><br><span class="line">    <span class="comment">/*æ°´å¹³å’Œç«–ç›´å¹³é“º ä¸å¹³é“º*/</span></span><br><span class="line">    <span class="comment">/*background-repeat: repeat-x;*/</span></span><br><span class="line">    <span class="comment">/*background-repeat: repeat-y;*/</span></span><br><span class="line">    <span class="comment">/*background-repeat: no-repeat;*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#nav</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background</span>: grey;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="comment">/*é¢œè‰² å›¾ç‰‡ ä½ç½® å¹³é“ºæ–¹å¼*/</span></span><br><span class="line">    <span class="attribute">background</span>: red <span class="built_in">url</span>(<span class="string">&quot;../images/d.jpg&quot;</span>) <span class="number">250px</span> no-repeat ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ul li</span></span><br><span class="line"><span class="comment">list-style:</span></span><br><span class="line"><span class="comment">    noneï¼šå»æ‰åœ†ç‚¹</span></span><br><span class="line"><span class="comment">    circleï¼šç©ºå¿ƒåœ†</span></span><br><span class="line"><span class="comment">    decimalï¼šæ•°å­—</span></span><br><span class="line"><span class="comment">    spuareï¼šæ­£æ–¹å½¢</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: grey;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;../images/l.jpg&quot;</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">212px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: darkorange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2022/04/15/CSS/image-20200812131854014.png" alt="image-20200812131854014"></p>
<p>3.8 æ¸å˜</p>
<p><a href="https://www.grabient.com/">https://www.grabient.com/</a></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FFFFFF</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">66deg</span>, <span class="number">#FFFFFF</span> <span class="number">0%</span>, <span class="number">#6284FF</span> <span class="number">50%</span>, <span class="number">#FF0000</span> <span class="number">100%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-ç›’å­æ¨¡å‹"><a href="#4-ç›’å­æ¨¡å‹" class="headerlink" title="4 ç›’å­æ¨¡å‹"></a>4 ç›’å­æ¨¡å‹</h2><h2 id="4-1-ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹"><a href="#4-1-ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹" class="headerlink" title="4.1 ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹"></a>4.1 ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹</h2><p><img src="/2022/04/15/CSS/image-20200812132601828.png" alt="image-20200812132601828"></p>
<p>marginï¼šå¤–è¾¹è·</p>
<p>paddingï¼šå†…è¾¹è·</p>
<p>borderï¼šè¾¹æ¡†</p>
<h2 id="4-2-è¾¹æ¡†"><a href="#4-2-è¾¹æ¡†" class="headerlink" title="4.2.è¾¹æ¡†"></a>4.2.è¾¹æ¡†</h2><p>1ã€è¾¹æ¡†çš„ç²—ç»†</p>
<p>2ã€è¾¹æ¡†çš„æ ·å¼</p>
<p>3ã€è¾¹æ¡†çš„é¢œè‰²</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*é»˜è®¤çš„è¾¹è· è®¾ä¸º0*/</span></span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">li</span>,<span class="selector-tag">a</span>,<span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">form</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">1</span>) <span class="selector-tag">input</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="comment">/*border: ç²—ç»† æ ·å¼ é¢œè‰²*/</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h2</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: burlywood;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-3-å†…å¤–è¾¹è·"><a href="#4-3-å†…å¤–è¾¹è·" class="headerlink" title="4.3 å†…å¤–è¾¹è·"></a>4.3 å†…å¤–è¾¹è·</h2><p>margin: 0 auto; å±…ä¸­å…ƒç´ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">        #box&#123;</span><br><span class="line">            width: 300px;</span><br><span class="line">            /*border: ç²—ç»† æ ·å¼ é¢œè‰²*/</span><br><span class="line">            border: 1px solid red;</span><br><span class="line">            /*margin: 0 auto; å±…ä¸­å…ƒç´ */</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">        &#125;</span><br><span class="line">        /*</span><br><span class="line">é¡ºæ—¶é’ˆé€‰ä¸­</span><br><span class="line">margin: 0px; ä¸Šä¸‹å·¦å³å…¨0</span><br><span class="line">margin: 0px 1px; ä¸Šä¸‹0 å·¦å³1</span><br><span class="line">margin: 1px 2px 3px 4px; ä¸Šå³ä¸‹å·¦ é¡ºæ—¶é’ˆ</span><br><span class="line">*/</span><br><span class="line">        h2&#123;</span><br><span class="line">            background-color: burlywood;</span><br><span class="line">            font-size: 16px;</span><br><span class="line">            line-height: 30px;</span><br><span class="line">            margin: 0 1px 2px 3px;</span><br><span class="line">        &#125;</span><br><span class="line">        div:nth-of-type(1) input&#123;</span><br><span class="line">            border: 3px solid black;</span><br><span class="line">            padding: 10px;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>ç›’å­è®¡ç®—æ–¹å¼ï¼šå…ƒç´ çš„å¤§å°</p>
<p><img src="/2022/04/15/CSS/image-20200812135533326.png" alt="image-20200812135533326"></p>
<p>margin + border + padding + å†…å®¹å®½åº¦</p>
<h2 id="4-4-åœ†è§’è¾¹æ¡†"><a href="#4-4-åœ†è§’è¾¹æ¡†" class="headerlink" title="4.4 åœ†è§’è¾¹æ¡†"></a>4.4 åœ†è§’è¾¹æ¡†</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">å·¦ä¸Š å³ä¸Š å³ä¸‹ å·¦ä¸‹ï¼Œé¡ºæ—¶é’ˆæ–¹å‘</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        åœ†åœˆï¼š åœ†è§’ = åŠå¾„</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="4-5-ç›’å­é˜´å½±"><a href="#4-5-ç›’å­é˜´å½±" class="headerlink" title="4.5 ç›’å­é˜´å½±"></a>4.5 ç›’å­é˜´å½±</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>:<span class="number">10px</span> <span class="number">10px</span> <span class="number">100px</span> yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">img</span>  &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-shadow</span>:<span class="number">0px</span> <span class="number">0px</span> <span class="number">100px</span> yellow;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image/a.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100px&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="5-æµ®åŠ¨"><a href="#5-æµ®åŠ¨" class="headerlink" title="5 æµ®åŠ¨"></a>5 æµ®åŠ¨</h1><h2 id="5-1-æ ‡å‡†æ–‡æ¡£æµ"><a href="#5-1-æ ‡å‡†æ–‡æ¡£æµ" class="headerlink" title="5.1 æ ‡å‡†æ–‡æ¡£æµ"></a>5.1 æ ‡å‡†æ–‡æ¡£æµ</h2><p><img src="/2022/04/15/CSS/image-20200812143009450.png" alt="image-20200812143009450"></p>
<p>å—çº§å…ƒç´ ï¼šç‹¬å ä¸€è¡Œ    h1-h6 p div åˆ—è¡¨â€¦</p>
<p>è¡Œå†…å…ƒç´ ï¼šä¸ç‹¬å ä¸€è¡Œ    span a img strong</p>
<blockquote>
<p>æ³¨ï¼šè¡Œå†…å…ƒç´ å¯ä»¥è¢«åŒ…å«åœ¨ å—çº§å…ƒç´ ä¸­ï¼Œåä¹‹ï¼Œåˆ™ä¸å¯ä»¥</p>
</blockquote>
<h2 id="5-2-display"><a href="#5-2-display" class="headerlink" title="5.2 display"></a>5.2 display</h2><p>ä¸€ç§å®ç°è¡Œå†…å…ƒç´ æ’åˆ—çš„æ–¹å¼,ä½†å¾ˆå¤šæ—¶å€™éƒ½æ˜¯ä½¿ç”¨float</p>
<p>block å—å…ƒç´ </p>
<p>inline è¡Œå†…å…ƒç´ </p>
<p>inline-block æ˜¯å—å…ƒç´ ï¼Œä½†æ˜¯å¯ä»¥å†…è”ï¼Œåœ¨ä¸€è¡Œ</p>
<p>none æ¶ˆå¤±</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">block å—å…ƒç´ </span></span><br><span class="line"><span class="comment">inline è¡Œå†…å…ƒç´ </span></span><br><span class="line"><span class="comment">inline-block æ˜¯å—å…ƒç´ ï¼Œä½†æ˜¯å¯ä»¥å†…è”ï¼Œåœ¨ä¸€è¡Œ</span></span><br><span class="line"><span class="comment">none æ¶ˆå¤±</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>divå—å…ƒç´ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>span è¡Œå†…å…ƒç´ <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-3-float"><a href="#5-3-float" class="headerlink" title="5.3 float"></a>5.3 float</h2><p>1 å·¦å³æµ®åŠ¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;layer01&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/1.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;layer02&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/2.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;layer03&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/3.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;layer04&quot;</span>&gt;</span></span><br><span class="line">        æµ®åŠ¨çš„ç›’å­å¯ä»¥å‘å·¦æµ®åŠ¨ï¼Œä¹Ÿå¯ä»¥å‘å³æµ®åŠ¨ï¼ŒçŸ¥é“å®ƒçš„å¤–è¾¹ç¼˜ç¢°åˆ°åŒ…å«æˆ–å¦ä¸€ä¸ªæµ®åŠ¨ç›’å­ä¸ºæ­¢</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#father</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#000</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.layer01</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#F00</span> dashed;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">float</span>: left;<span class="comment">/*å‘å·¦æµ®åŠ¨*/</span></span><br><span class="line">    <span class="attribute">clear</span>: both;<span class="comment">/*æ¸…æ¥šæµ®åŠ¨*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.layer02</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#00F</span> dashed;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.layer03</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#060</span> dashed;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.layer04</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#666</span> dashed;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">23px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-4-çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜"><a href="#5-4-çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜" class="headerlink" title="5.4.çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜"></a>5.4.çˆ¶çº§è¾¹æ¡†å¡Œé™·é—®é¢˜</h2><p>clear</p>
<p>clearï¼šrightï¼›å³ä¾§ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´  </p>
<p>clearï¼šleftï¼› å·¦ä¾§ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´  </p>
<p>clearï¼šbothï¼› ä¸¤ä¾§ä¸å…è®¸æœ‰æµ®åŠ¨å…ƒç´  </p>
<p>clearï¼šnoneï¼›</p>
<p>è§£å†³æ–¹æ¡ˆ:</p>
<ol>
<li>å¢åŠ çˆ¶çº§å…ƒç´ é«˜åº¦</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#father</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#000</span> solid;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>å¢åŠ ä¸€ä¸ªç©ºçš„div(class=â€clearâ€)æ ‡ç­¾</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.clear</span>&#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>overflow</li>
</ol>
<p>åœ¨çˆ¶çº§å…ƒç´ å¢åŠ ä¸€ä¸ªoverflow:hidden</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#father</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#000</span> solid;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>åœ¨çˆ¶ç±»å…ƒç´ åæ·»åŠ ä¼ªç±»after</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#father</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°ç»“:</p>
<ul>
<li>æµ®åŠ¨å…ƒç´ åé¢å¢åŠ ç©ºdiv<ul>
<li>ç®€å•,ä½†ä»£ç åº”ä¸­å°½é‡é¿å…ç©ºdiv</li>
</ul>
</li>
<li>è®¾ç½®çˆ¶å…ƒç´ é«˜åº¦<ul>
<li>ç®€å•,å…ƒç´ å‡è®¾æœ‰äº†å›ºå®šçš„é«˜åº¦,å°±ä¼šè¢«é™åˆ¶</li>
</ul>
</li>
<li>overflow<ul>
<li>ç®€å•,ä¸‹æ‹‰çš„åœºé¢é¿å…ä½¿ç”¨</li>
</ul>
</li>
<li>æ·»åŠ ä¼ªç±»after(æ¨è)<ul>
<li>æ²¡æœ‰å‰¯ä½œç”¨</li>
</ul>
</li>
</ul>
<h2 id="5-5-å¯¹æ¯”"><a href="#5-5-å¯¹æ¯”" class="headerlink" title="5.5 å¯¹æ¯”"></a>5.5 å¯¹æ¯”</h2><ul>
<li>display<ul>
<li>æ–¹å‘ä¸å¯æ§</li>
</ul>
</li>
<li>float <ul>
<li>æµ®åŠ¨èµ·æ¥çš„è¯ä¼šè„±ç¦»æ ‡å‡†æ–‡æ¡£æµ,è¦è§£å†³çˆ¶çº§è¾¹æ¡†å¡Œé™·çš„é—®é¢˜</li>
</ul>
</li>
</ul>
<h1 id="6-å®šä½"><a href="#6-å®šä½" class="headerlink" title="6 å®šä½"></a>6 å®šä½</h1><p>é»˜è®¤æƒ…å†µ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#father</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#first</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#second</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed green;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#third</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed blue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;first&quot;</span>&gt;</span>ç¬¬ä¸€ä¸ªç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;second&quot;</span>&gt;</span>ç¬¬äºŒä¸ªç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;third&quot;</span>&gt;</span>ç¬¬ä¸‰ä¸ªç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="6-1-ç›¸å¯¹å®šä½"><a href="#6-1-ç›¸å¯¹å®šä½" class="headerlink" title="6.1 ç›¸å¯¹å®šä½"></a>6.1 ç›¸å¯¹å®šä½</h2><p>ç›¸å¯¹å®šä½:position:relative;</p>
<p>ç›¸å¯¹äºåŸæ¥çš„ä½ç½®è¿›è¡ŒæŒ‡å®šçš„åç§»,ä»åœ¨æ ‡å‡†æ–‡æ¡£æµä¸­,åŸæ¥çš„ä½ç½®ä¼šè¢«ä¿ç•™</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ç›¸å¯¹å®šä½</span></span><br><span class="line"><span class="comment">        ç›¸å¯¹äºè‡ªå·±åŸæ¥çš„ä½ç½®è¿›è¡Œåç§»</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#father</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#first</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>:-<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#second</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed green;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#third</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> dashed blue;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>:-<span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;first&quot;</span>&gt;</span>ç¬¬ä¸€ä¸ªç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;second&quot;</span>&gt;</span>ç¬¬äºŒä¸ªç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;third&quot;</span>&gt;</span>ç¬¬ä¸‰ä¸ªç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç»ƒä¹ </p>
<p><img src="/2022/04/15/CSS/image-20200812154111869.png" alt="image-20200812154111869"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#father</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#FF0000</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#father</span><span class="selector-pseudo">:after</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#FFFFFF</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a2</span>,<span class="selector-id">#a4</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#a5</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#0000FF</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a1&quot;</span>&gt;</span>é“¾æ¥1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a2&quot;</span>&gt;</span>é“¾æ¥2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a3&quot;</span>&gt;</span>é“¾æ¥3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a4&quot;</span>&gt;</span>é“¾æ¥4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">id</span>=<span class="string">&quot;a5&quot;</span>&gt;</span>é“¾æ¥5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="6-2-ç»å¯¹å®šä½"><a href="#6-2-ç»å¯¹å®šä½" class="headerlink" title="6.2 ç»å¯¹å®šä½"></a>6.2 ç»å¯¹å®šä½</h2><p>å®šä½:åŸºäºxxxå®šä½</p>
<ul>
<li>æ²¡æœ‰çˆ¶çº§å…ƒç´ å®šä½çš„å‰æä¸‹,ç›¸å¯¹äºæµè§ˆå™¨å®šä½</li>
<li>å‡è®¾çˆ¶çº§å…ƒç´ å­˜åœ¨å®šä½,é€šå¸¸ä¼šç›¸å¯¹äºçˆ¶çº§å…ƒç´ è¿›è¡Œåç§»</li>
<li>åœ¨çˆ¶çº§å…ƒç´ èŒƒå›´å†…ç§»åŠ¨</li>
</ul>
<p>ç›¸å¯¹äºçˆ¶çº§æˆ–æµè§ˆå™¨çš„ä½ç½®è¿›è¡ŒæŒ‡å®šçš„åç§»,ç»å¯¹å®šä½å,ä»åœ¨æ ‡å‡†æ–‡æ¡£æµä¸­,åŸæ¥çš„ä½ç½®ä¸ä¼šè¢«ä¿ç•™</p>
<h2 id="6-3-å›ºå®šå®šä½"><a href="#6-3-å›ºå®šå®šä½" class="headerlink" title="6.3 å›ºå®šå®šä½"></a>6.3 å›ºå®šå®šä½</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="comment">/*å›ºå®šå®šä½*/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#0000FF</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-4-z-index"><a href="#6-4-z-index" class="headerlink" title="6.4 z-index"></a>6.4 z-index</h2><p><img src="/2022/04/15/CSS/image-20200812163646930.png" alt="image-20200812163646930"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image/a.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;1000px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;700px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;tipText&quot;</span>&gt;</span>sadasdasdasdasdadasasdas<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;tipBg&quot;</span>&gt;</span>asdasd<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>2131244<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#content</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span>,<span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content</span> <span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tipText</span>,<span class="selector-class">.tipBg</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tipText</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#FFFFFF</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tipBg</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: black;</span><br><span class="line">    <span class="comment">/*é€æ˜åº¦*/</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="7-åŠ¨ç”»"><a href="#7-åŠ¨ç”»" class="headerlink" title="7 åŠ¨ç”»"></a>7 åŠ¨ç”»</h1><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç : <a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>Java Swing AWT</title>
    <url>/2022/04/15/GUI/</url>
    <content><![CDATA[<h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1 ç®€ä»‹"></a>1 ç®€ä»‹</h1><p>GUIæ ¸å¿ƒæŠ€æœ¯ï¼šSwing AWT</p>
<p>ä¸æµè¡ŒåŸå› ï¼š</p>
<ol>
<li>ç•Œé¢ä¸ç¾è§‚</li>
<li>éœ€è¦jreç¯å¢ƒ</li>
</ol>
<h1 id="2-AWT"><a href="#2-AWT" class="headerlink" title="2.AWT"></a>2.AWT</h1><h2 id="2-1-AWTä»‹ç»"><a href="#2-1-AWTä»‹ç»" class="headerlink" title="2.1 AWTä»‹ç»"></a>2.1 AWTä»‹ç»</h2><ol>
<li>åŒ…å«å¾ˆå¤šç±»å’Œæ¥å£</li>
<li>å…ƒç´ ï¼šçª—å£ï¼ŒæŒ‰é’®ï¼Œæ–‡æœ¬æ¡†</li>
<li>java.awt</li>
</ol>
<h2 id="2-2ç»„ä»¶å’Œå®¹å™¨"><a href="#2-2ç»„ä»¶å’Œå®¹å™¨" class="headerlink" title="2.2ç»„ä»¶å’Œå®¹å™¨"></a>2.2ç»„ä»¶å’Œå®¹å™¨</h2><h3 id="1-Frame"><a href="#1-Frame" class="headerlink" title="1 Frame"></a>1 Frame</h3><h3 id="2-é¢æ¿Panel"><a href="#2-é¢æ¿Panel" class="headerlink" title="2 é¢æ¿Panel"></a>2 é¢æ¿Panel</h3><p>Panelå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç©ºé—´ï¼Œä½†æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨</p>
<h3 id="3-å¸ƒå±€ç®¡ç†å™¨"><a href="#3-å¸ƒå±€ç®¡ç†å™¨" class="headerlink" title="3 å¸ƒå±€ç®¡ç†å™¨"></a>3 å¸ƒå±€ç®¡ç†å™¨</h3><ul>
<li>æµå¼å¸ƒå±€</li>
<li>ä¸œè¥¿å—åŒ—ä¸­</li>
<li>è¡¨æ ¼</li>
</ul>
<p>æ€»ç»“ï¼š</p>
<ol>
<li>Frameæ˜¯ä¸€ä¸ªé¡¶çº§çª—å£</li>
<li>Panelæ— æ³•å•ç‹¬æ˜¾ç¤ºï¼Œå¿…é¡»æ·»åŠ åˆ°æŸä¸ªå®¹å™¨ä¸­</li>
<li>å¸ƒå±€ç®¡ç†å™¨</li>
<li>å¤§å°ï¼ŒèƒŒæ™¯é¢œè‰²ï¼Œå®šä½ï¼Œå¯è§æ€§ï¼Œç›‘å¬</li>
</ol>
<h3 id="4-äº‹ä»¶ç›‘å¬"><a href="#4-äº‹ä»¶ç›‘å¬" class="headerlink" title="4 äº‹ä»¶ç›‘å¬"></a>4 äº‹ä»¶ç›‘å¬</h3><p>å½“æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œéœ€è¦åšä»€ä¹ˆ</p>
<h3 id="5-TextField"><a href="#5-TextField" class="headerlink" title="5 TextField"></a>5 TextField</h3><h3 id="6-ç»„åˆå†…éƒ¨ç±»ï¼Œè®¡ç®—å™¨"><a href="#6-ç»„åˆå†…éƒ¨ç±»ï¼Œè®¡ç®—å™¨" class="headerlink" title="6 ç»„åˆå†…éƒ¨ç±»ï¼Œè®¡ç®—å™¨"></a>6 ç»„åˆå†…éƒ¨ç±»ï¼Œè®¡ç®—å™¨</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui1;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCalc</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Calculator</span>().loadFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è®¡ç®—å™¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span> <span class="keyword">extends</span> <span class="title class_">Frame</span> &#123;</span><br><span class="line">    TextField num1,num2,num3;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loadFrame</span><span class="params">()</span>&#123;</span><br><span class="line">        num1 = <span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">10</span>);</span><br><span class="line">        num2 = <span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">10</span>);</span><br><span class="line">        num3 = <span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="number">20</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">        button.addActionListener(<span class="keyword">new</span> <span class="title class_">CalculatorListener</span>());</span><br><span class="line">        <span class="type">Label</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">        setLayout(<span class="keyword">new</span> <span class="title class_">FlowLayout</span>());</span><br><span class="line">        add(num1);</span><br><span class="line">        add(label);</span><br><span class="line">        add(num2);</span><br><span class="line">        add(button);</span><br><span class="line">        add(num3);</span><br><span class="line">        pack();</span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">CalculatorListener</span> <span class="keyword">implements</span> <span class="title class_">ActionListener</span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> Integer.parseInt(num1.getText());</span><br><span class="line">            <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> Integer.parseInt(num2.getText());</span><br><span class="line">            num3.setText(<span class="string">&quot;&quot;</span> + (n1 + n2));</span><br><span class="line">            num1.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            num2.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-ç”»ç¬”"><a href="#7-ç”»ç¬”" class="headerlink" title="7 ç”»ç¬”"></a>7 ç”»ç¬”</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestPaint</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MyPaint</span>().loadFrame();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyPaint</span> <span class="keyword">extends</span> <span class="title class_">Frame</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loadFrame</span><span class="params">()</span>&#123;</span><br><span class="line">        setBounds(<span class="number">200</span>,<span class="number">200</span>,<span class="number">600</span>,<span class="number">800</span>);</span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">paint</span><span class="params">(Graphics g)</span>&#123;</span><br><span class="line">        g.setColor(Color.red);</span><br><span class="line">        <span class="comment">//g.drawOval(100,100,100,100);</span></span><br><span class="line">        g.fillOval(<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">        <span class="comment">//ç”»ç¬”ç”¨å®Œè¿˜åŸåŸè‰²</span></span><br><span class="line">        g.setColor(Color.black);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="8-é¼ æ ‡ç›‘å¬"><a href="#8-é¼ æ ‡ç›‘å¬" class="headerlink" title="8 é¼ æ ‡ç›‘å¬"></a>8 é¼ æ ‡ç›‘å¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.MouseAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.MouseEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.MouseListener;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMouseListener</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MouseFrame</span>(<span class="string">&quot;ç”»å›¾&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MouseFrame</span> <span class="keyword">extends</span> <span class="title class_">Frame</span> &#123;</span><br><span class="line">    ArrayList points;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MouseFrame</span><span class="params">(String title)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(title);</span><br><span class="line">        setBounds(<span class="number">400</span>,<span class="number">400</span>,<span class="number">400</span>,<span class="number">400</span>);</span><br><span class="line">        <span class="comment">//å­˜é¼ æ ‡çš„ç‚¹</span></span><br><span class="line">        points = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//é¼ æ ‡ç›‘å¬å™¨</span></span><br><span class="line">        <span class="built_in">this</span>.addMouseListener(<span class="keyword">new</span> <span class="title class_">MyMouseListner</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paint</span><span class="params">(Graphics g)</span>&#123;</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> points.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            <span class="type">Point</span> <span class="variable">point</span> <span class="operator">=</span> (Point) iterator.next();</span><br><span class="line">            g.setColor(Color.red);</span><br><span class="line">            g.fillOval(point.x,point.y,<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPaint</span><span class="params">(Point point)</span>&#123;</span><br><span class="line">        points.add(point);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">MyMouseListner</span> <span class="keyword">extends</span> <span class="title class_">MouseAdapter</span> &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mousePressed</span><span class="params">(MouseEvent e)</span> &#123;</span><br><span class="line">            <span class="type">MouseFrame</span> <span class="variable">myframe</span> <span class="operator">=</span> (MouseFrame)e.getSource();</span><br><span class="line">            myframe.addPaint(<span class="keyword">new</span> <span class="title class_">Point</span>(e.getX(),e.getY()));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ¯æ¬¡ç‚¹å‡»éƒ½é‡ç”»ä¸€æ¬¡</span></span><br><span class="line">            myframe.repaint();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-çª—å£ç›‘å¬"><a href="#9-çª—å£ç›‘å¬" class="headerlink" title="9 çª—å£ç›‘å¬"></a>9 çª—å£ç›‘å¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.WindowListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestWindow</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">WindowFrame</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WindowFrame</span> <span class="keyword">extends</span> <span class="title class_">Frame</span>&#123;</span><br><span class="line">    <span class="comment">//åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">public</span>  <span class="title function_">WindowFrame</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">        addWindowListener(<span class="keyword">new</span> <span class="title class_">WindowAdapter</span>()&#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">windowClosing</span><span class="params">(WindowEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="10-é”®ç›˜ç›‘å¬"><a href="#10-é”®ç›˜ç›‘å¬" class="headerlink" title="10 é”®ç›˜ç›‘å¬"></a>10 é”®ç›˜ç›‘å¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.scene.input.KeyCode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyAdapter;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.KeyEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestKeyListener</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">KeyFrame</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">KeyFrame</span> <span class="keyword">extends</span> <span class="title class_">Frame</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>  <span class="title function_">KeyFrame</span><span class="params">()</span>&#123;</span><br><span class="line">        setBounds(<span class="number">1</span>,<span class="number">2</span>,<span class="number">300</span>,<span class="number">400</span>);</span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        addKeyListener(<span class="keyword">new</span> <span class="title class_">KeyAdapter</span>() &#123;</span><br><span class="line">            <span class="comment">//é”®ç›˜æŒ‰ä¸‹</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyPressed</span><span class="params">(KeyEvent e)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">keyCode</span> <span class="operator">=</span> e.getKeyCode();</span><br><span class="line">                <span class="keyword">if</span> (keyCode == KeyEvent.VK_UP)&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;up&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-Swing"><a href="#3-Swing" class="headerlink" title="3 Swing"></a>3 Swing</h1><h2 id="3-1-çª—å£ã€é¢æ¿"><a href="#3-1-çª—å£ã€é¢æ¿" class="headerlink" title="3.1 çª—å£ã€é¢æ¿"></a>3.1 çª—å£ã€é¢æ¿</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JFrameDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//init()ï¼›åˆå§‹åŒ–</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">JFrame</span> <span class="variable">jFrame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFrame</span>();</span><br><span class="line">        jFrame.setVisible(<span class="literal">true</span>);</span><br><span class="line">        jFrame.setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">JLabel</span> <span class="variable">jLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;Welcome&quot;</span>);</span><br><span class="line">        jLabel.setHorizontalAlignment(SwingConstants.CENTER);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å®¹å™¨å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="type">Container</span> <span class="variable">contentPane</span> <span class="operator">=</span> jFrame.getContentPane();</span><br><span class="line">        contentPane.setBackground(Color.red);</span><br><span class="line">        contentPane.add(jLabel);</span><br><span class="line">        <span class="comment">//å…³é—­</span></span><br><span class="line">        jFrame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JFrameDemo</span>().init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="3-2-å¼¹çª—"><a href="#3-2-å¼¹çª—" class="headerlink" title="3.2 å¼¹çª—"></a>3.2 å¼¹çª—</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DialogDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DialogDemo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">700</span>,<span class="number">500</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">        <span class="type">Container</span> <span class="variable">contentPane</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        contentPane.setLayout(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">JButton</span> <span class="variable">jButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">        jButton.setBounds(<span class="number">30</span>,<span class="number">30</span>,<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">        jButton.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">MydDialogDemo</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        contentPane.add(jButton);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DialogDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MydDialogDemo</span> <span class="keyword">extends</span> <span class="title class_">JDialog</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MydDialogDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">500</span>,<span class="number">500</span>);</span><br><span class="line">        <span class="comment">//this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span></span><br><span class="line">        <span class="type">Container</span> <span class="variable">contentPane</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        <span class="comment">//contentPane.setLayout(null);</span></span><br><span class="line">        contentPane.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;Welcome&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-æ ‡ç­¾"><a href="#3-3-æ ‡ç­¾" class="headerlink" title="3.3 æ ‡ç­¾"></a>3.3 æ ‡ç­¾</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;xxx&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>å›¾ç‰‡æ ‡ç­¾</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ImageIconDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ImageIconDemo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">JLabel</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;Icon&quot;</span>);</span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> ImageIconDemo.class.getResource(<span class="string">&quot;Icon.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">ImageIcon</span> <span class="variable">imageIcon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(url);</span><br><span class="line">        label.setIcon(imageIcon);</span><br><span class="line">        label.setHorizontalAlignment(SwingConstants.CENTER);</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> getContentPane();</span><br><span class="line">        container.add(label);</span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ImageIconDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-4-é¢æ¿"><a href="#3-4-é¢æ¿" class="headerlink" title="3.4 é¢æ¿"></a>3.4 é¢æ¿</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JPanelDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JPanelDemo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line"></span><br><span class="line">        container.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">2</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">panel1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">1</span>,<span class="number">3</span>));</span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">panel2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">        panel1.add(<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">        panel1.add(<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">        panel1.add(<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">        panel2.add(<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;2&quot;</span>));</span><br><span class="line">        panel2.add(<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;2&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>,<span class="number">500</span>);</span><br><span class="line">        container.add(panel1);</span><br><span class="line">        container.add(panel2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JPanelDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>JScrollPanel</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JScrollDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JScrollDemo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line"></span><br><span class="line">        <span class="type">JTextArea</span> <span class="variable">jTextArea</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>(<span class="number">20</span>, <span class="number">50</span>);</span><br><span class="line">        jTextArea.setText(<span class="string">&quot;welcome&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">JScrollPane</span> <span class="variable">jScrollPane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JScrollPane</span>(jTextArea);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        container.add(jScrollPane);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">400</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JScrollDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-5-æŒ‰é’®"><a href="#3-5-æŒ‰é’®" class="headerlink" title="3.5 æŒ‰é’®"></a>3.5 æŒ‰é’®</h2><p>å›¾ç‰‡æŒ‰é’®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JButtonDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JButtonDemo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        <span class="type">URL</span> <span class="variable">resource</span> <span class="operator">=</span> JButtonDemo.class.getResource(<span class="string">&quot;Icon.png&quot;</span>);</span><br><span class="line">        <span class="type">Icon</span> <span class="variable">icon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(resource);</span><br><span class="line"></span><br><span class="line">        <span class="type">JButton</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>();</span><br><span class="line">        button.setIcon(icon);</span><br><span class="line">        button.setToolTipText(<span class="string">&quot;å›¾ç‰‡æŒ‰é’®&quot;</span>);</span><br><span class="line">        container.add(button);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JButtonDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å•é€‰æ¡†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JButtonDemo2</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JButtonDemo2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        <span class="type">URL</span> <span class="variable">resource</span> <span class="operator">=</span> JButtonDemo.class.getResource(<span class="string">&quot;Icon.png&quot;</span>);</span><br><span class="line">        <span class="type">Icon</span> <span class="variable">icon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(resource);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å•é€‰æ¡†</span></span><br><span class="line">        <span class="type">JRadioButton</span> <span class="variable">jrb1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="type">JRadioButton</span> <span class="variable">jrb2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        <span class="type">JRadioButton</span> <span class="variable">jrb3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JRadioButton</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        <span class="type">ButtonGroup</span> <span class="variable">group</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonGroup</span>();</span><br><span class="line">        group.add(jrb1);</span><br><span class="line">        group.add(jrb2);</span><br><span class="line">        group.add(jrb3);</span><br><span class="line"></span><br><span class="line">        container.add(jrb1,BorderLayout.CENTER);</span><br><span class="line">        container.add(jrb2,BorderLayout.NORTH);</span><br><span class="line">        container.add(jrb3,BorderLayout.SOUTH);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JButtonDemo2</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¤é€‰æ¡†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JButtonDemo3</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JButtonDemo3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        <span class="type">URL</span> <span class="variable">resource</span> <span class="operator">=</span> JButtonDemo.class.getResource(<span class="string">&quot;Icon.png&quot;</span>);</span><br><span class="line">        <span class="type">Icon</span> <span class="variable">icon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageIcon</span>(resource);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¤šé€‰æ¡†</span></span><br><span class="line">        <span class="type">JCheckBox</span> <span class="variable">jCheckBox1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="type">JCheckBox</span> <span class="variable">jCheckBox2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        <span class="type">JCheckBox</span> <span class="variable">jCheckBox3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JCheckBox</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line">        container.add(jCheckBox1,BorderLayout.SOUTH);</span><br><span class="line">        container.add(jCheckBox2,BorderLayout.NORTH);</span><br><span class="line">        container.add(jCheckBox3,BorderLayout.CENTER);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>, <span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JButtonDemo3</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-6-åˆ—è¡¨"><a href="#3-6-åˆ—è¡¨" class="headerlink" title="3.6 åˆ—è¡¨"></a>3.6 åˆ—è¡¨</h2><p>åˆ—è¡¨æ¡†ï¼šå±•ç¤ºä¿¡æ¯ï¼ŒåŠ¨æ€æ‰©å®¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JListDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JListDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line"></span><br><span class="line">        String[] contents = &#123;<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>&#125;;</span><br><span class="line">        <span class="type">JList</span> <span class="variable">jList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JList</span>(contents);</span><br><span class="line">        container.add(jList);</span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">JListDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸‹æ‹‰æ¡†ï¼šé€‰æ‹©ï¼ˆåœ°åŒºï¼‰ï¼Œæˆ–å•ä¸ªé€‰é¡¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.gui.awt.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestComboBoxDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TestComboBoxDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        <span class="type">JComboBox</span> <span class="variable">status</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JComboBox</span>();</span><br><span class="line">        status.addItem(<span class="literal">null</span>);</span><br><span class="line">        status.addItem(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        status.addItem(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        status.addItem(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        container.add(status);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">TestComboBoxDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="3-7-æ–‡æœ¬æ¡†"><a href="#3-7-æ–‡æœ¬æ¡†" class="headerlink" title="3.7 æ–‡æœ¬æ¡†"></a>3.7 æ–‡æœ¬æ¡†</h2><p>æ–‡æœ¬æ¡†ã€å¯†ç æ¡†ã€æ–‡æœ¬åŸŸ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.gui.swing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.PasswordField;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TextDemo</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextDemo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Container</span> <span class="variable">container</span> <span class="operator">=</span> <span class="built_in">this</span>.getContentPane();</span><br><span class="line">        <span class="comment">//æ–‡æœ¬æ¡†</span></span><br><span class="line">        <span class="type">JTextField</span> <span class="variable">jTextField1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="type">JTextField</span> <span class="variable">jTextField2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="string">&quot;hello&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        container.add(jTextField1,BorderLayout.NORTH);</span><br><span class="line">        container.add(jTextField2,BorderLayout.SOUTH);</span><br><span class="line">        <span class="comment">//å¯†ç æ¡†</span></span><br><span class="line">        <span class="type">JPasswordField</span> <span class="variable">jPasswordField</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPasswordField</span>();</span><br><span class="line">        jPasswordField.setEchoChar(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        container.add(jPasswordField,BorderLayout.CENTER);</span><br><span class="line">        <span class="comment">//æ–‡æœ¬åŸŸ  é…åˆé¢æ¿ä½¿ç”¨</span></span><br><span class="line">        <span class="type">JTextArea</span> <span class="variable">jTextArea</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JTextArea</span>();</span><br><span class="line">        jTextArea.setText(<span class="string">&quot;21314&quot;</span>);</span><br><span class="line">        container.add(jTextArea,BorderLayout.EAST);</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.setSize(<span class="number">500</span>,<span class="number">300</span>);</span><br><span class="line">        <span class="built_in">this</span>.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">TextDemo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç ï¼š<a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Swing AWT</tag>
        <tag>GUI</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaSE</title>
    <url>/2022/04/15/JavaSE/</url>
    <content><![CDATA[<h1 id="1-JavaåŸºç¡€"><a href="#1-JavaåŸºç¡€" class="headerlink" title="1 JavaåŸºç¡€"></a>1 JavaåŸºç¡€</h1><h2 id="1-1-æ³¨é‡Š"><a href="#1-1-æ³¨é‡Š" class="headerlink" title="1.1 æ³¨é‡Š"></a>1.1 æ³¨é‡Š</h2><ul>
<li><p>å•è¡Œæ³¨é‡Š</p>
<p>//æ³¨é‡Š</p>
</li>
<li><p>å¤šè¡Œæ³¨é‡Š</p>
<p>/*</p>
<p>å¤šè¡Œæ³¨é‡Š</p>
<p>*/</p>
</li>
<li><p>æ–‡æ¡£æ³¨é‡Š</p>
<p>/** </p>
<p>*@Author</p>
<p>*@Description</p>
<p>*/</p>
</li>
</ul>
<h2 id="1-2-æ ‡è¯†ç¬¦ã€å…³é”®å­—"><a href="#1-2-æ ‡è¯†ç¬¦ã€å…³é”®å­—" class="headerlink" title="1.2 æ ‡è¯†ç¬¦ã€å…³é”®å­—"></a>1.2 æ ‡è¯†ç¬¦ã€å…³é”®å­—</h2><p>æ ‡è¯†ç¬¦åº”è¯¥ä»¥å­—æ¯ ç¾å…ƒç¬¦(ï¿¥)æˆ–è€…ä¸‹åˆ’çº¿(_)å¼€å§‹</p>
<p>é¦–å­—æ¯ä»¥åå¯ä»¥æ˜¯å­—æ¯ ç¾å…ƒç¬¦(ï¿¥)æˆ–è€…ä¸‹åˆ’çº¿(_)çš„ä»»æ„ç»„åˆ</p>
<p>ä¸èƒ½ä½¿ç”¨å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦</p>
<p>æ ‡è¯†ç¬¦å¤§å°å†™æ•æ„Ÿ</p>
<p>æ ‡è¯†ç¬¦ä¸å»ºè®®ä½¿ç”¨ä¸­æ–‡æˆ–è€…æ‹¼éŸ³</p>
<h2 id="1-3-æ•°æ®ç±»å‹"><a href="#1-3-æ•°æ®ç±»å‹" class="headerlink" title="1.3 æ•°æ®ç±»å‹"></a>1.3 æ•°æ®ç±»å‹</h2><ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹<ul>
<li>æ•°å€¼ç±»å‹<ul>
<li>æ•´æ•°ç±»å‹<ul>
<li>byte å 1ä¸ªå­—èŠ‚ -128-127</li>
<li>short 2ä¸ªå­—èŠ‚ -32768-32767</li>
<li>int 4ä¸ªå­—èŠ‚ -2147483648-2147463647</li>
<li>long 8ä¸ªå­—èŠ‚</li>
</ul>
</li>
<li>æµ®ç‚¹ç±»å‹<ul>
<li>float 4ä¸ªå­—èŠ‚</li>
<li>double 8ä¸ªå­—èŠ‚</li>
</ul>
</li>
<li>å­—ç¬¦ç±»å‹<ul>
<li>char 2ä¸ªå­—èŠ‚</li>
</ul>
</li>
</ul>
</li>
<li>boolean å 1ä¸ªå­—èŠ‚  åªæœ‰trueå’Œfalse</li>
</ul>
</li>
<li>å¼•ç”¨æ•°æ®ç±»å‹<ul>
<li>ç±»</li>
<li>æ¥å£</li>
<li>æ•°ç»„</li>
</ul>
</li>
</ul>
<h2 id="1-4-æ•°æ®ç±»å‹æ‰©å±•"><a href="#1-4-æ•°æ®ç±»å‹æ‰©å±•" class="headerlink" title="1.4 æ•°æ®ç±»å‹æ‰©å±•"></a>1.4 æ•°æ®ç±»å‹æ‰©å±•</h2><ul>
<li><p>äºŒè¿›åˆ¶ 0b </p>
</li>
<li><p>åè¿›åˆ¶</p>
</li>
<li><p>å…«è¿›åˆ¶ 0 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">010</span>;<span class="comment">//å…«è¿›åˆ¶</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åå…­è¿›åˆ¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">0x10</span>;<span class="comment">//åå…­è¿›åˆ¶</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>float å¸¦æœ‰èˆå…¥è¯¯å·® å¤§çº¦è¡¨ç¤º æ¥è¿‘ä½†ä¸ç­‰äº</p>
<p>æœ€å¥½å®Œå…¨é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒ </p>
<p>BigDecimal ç±»</p>
<p>è½¬ä¹‰å­—ç¬¦ \n \t </p>
<h2 id="1-5-ç±»å‹è½¬æ¢"><a href="#1-5-ç±»å‹è½¬æ¢" class="headerlink" title="1.5 ç±»å‹è½¬æ¢"></a>1.5 ç±»å‹è½¬æ¢</h2><p>è¿ç®—ä¸­ï¼Œä¸åŒç±»å‹çš„æ•°æ®å…ˆè½¬æ¢ä¸ºåŒä¸€ç±»å‹ï¼Œç„¶åè¿›è¡Œè¿ç®—</p>
<p>ä½â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-&gt;é«˜</p>
<p>byte,short,char -&gt; int -&gt; long -&gt; float -&gt; double</p>
<p>å¼ºåˆ¶è½¬æ¢  ï¼ˆç±»å‹ï¼‰å˜é‡å  é«˜-&gt;ä½</p>
<p>è‡ªåŠ¨è½¬æ¢  ä½-&gt;é«˜</p>
<ul>
<li>ä¸èƒ½å¯¹å¸ƒå°”å€¼è¿›è¡Œè½¬æ¢</li>
<li>ä¸èƒ½æŠŠå¯¹è±¡ç±»å‹è½¬æ¢ä¸ºä¸ç›¸å¹²çš„ç±»å‹</li>
<li>åœ¨æŠŠé«˜å®¹é‡è½¬æ¢åˆ°ä½å®¹é‡çš„æ—¶å€™ï¼Œå¼ºåˆ¶è½¬æ¢</li>
<li>è½¬æ¢çš„æ—¶å€™å¯èƒ½å­˜åœ¨ç²¾åº¦é—®é¢˜æˆ–è€…å†…å­˜æº¢å‡ºé—®é¢˜</li>
</ul>
<p>æ“ä½œæ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œæ³¨æ„æº¢å‡ºé—®é¢˜</p>
<p>JDK7 æ–°ç‰¹æ€§ï¼Œæ•°å­—å¯ä»¥ç”¨ä¸‹åˆ’çº¿åˆ†å‰²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">money</span> <span class="operator">=</span> <span class="number">1_000_000_000</span>;</span><br></pre></td></tr></table></figure>
<h2 id="1-6-å˜é‡ã€å¸¸é‡ã€ä½œç”¨åŸŸã€ä½œç”¨åŸŸ"><a href="#1-6-å˜é‡ã€å¸¸é‡ã€ä½œç”¨åŸŸã€ä½œç”¨åŸŸ" class="headerlink" title="1.6 å˜é‡ã€å¸¸é‡ã€ä½œç”¨åŸŸã€ä½œç”¨åŸŸ"></a>1.6 å˜é‡ã€å¸¸é‡ã€ä½œç”¨åŸŸã€ä½œç”¨åŸŸ</h2><p>Javaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå˜é‡éƒ½å¿…é¡»å£°æ˜å…¶ç±»å‹</p>
<p>Javaå˜é‡æ˜¯ç¨‹åºä¸­æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒï¼Œå…¶è¦ç´ åŒ…æ‹¬å˜é‡åï¼Œå˜é‡ç±»å‹å’Œä½œç”¨åŸŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">type varName [=value] [&#123;,varName[=value]&#125;];</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¯ä¸ªå˜é‡éƒ½æœ‰ç±»å‹ï¼Œç±»å‹å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹</li>
<li>å˜é‡åå¿…é¡»æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦</li>
<li>ç±»å‹å£°æ˜æ˜¯ä¸€æ¡å®Œæ•´çš„è¯­å¥ï¼Œå› æ­¤æ¯ä¸ªå£°æ˜éƒ½å¿…é¡»ä»¥åˆ†å·ç»“æŸ</li>
</ul>
<p>å˜é‡ä½œç”¨åŸŸ</p>
<ul>
<li>ç±»å˜é‡ static</li>
<li>å®ä¾‹å˜é‡ ä»å±äºå¯¹è±¡ï¼Œä¸ç”¨åˆå§‹åŒ– åˆå§‹å€¼ä¸ºé»˜è®¤å€¼</li>
<li>å±€éƒ¨å˜é‡ å†™åœ¨æ–¹æ³•é‡Œé¢ å¿…é¡»å£°æ˜å’Œåˆå§‹åŒ–å€¼</li>
</ul>
<p>å¸¸é‡ï¼ˆConstantï¼‰</p>
<ul>
<li>åˆå§‹åŒ–ä¹‹åä¸èƒ½å†æ”¹å˜çš„å€¼ final</li>
<li>ä¸€èˆ¬ä½¿ç”¨å¤§å†™å­—ç¬¦</li>
</ul>
<p>å‘½åè§„èŒƒ</p>
<ul>
<li>è§åçŸ¥æ„</li>
<li>åŒ…ï¼šå…¨å°å†™</li>
<li>ç±»ï¼šå¤§å†™å¼€å¤´ï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼ˆé©¼å³°ï¼‰GodMan</li>
<li>æ–¹æ³•ï¼šç¬¬ä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œåé¢çš„å•è¯å¤§å†™å¼€å¤´ runRun()</li>
<li>å˜é‡ï¼šé¦–å­—æ¯å°å†™ï¼Œåé¢çš„å•è¯å¤§å†™å¼€å¤´ lastNAme</li>
<li>å¸¸é‡ï¼šå…¨å¤§å†™å’Œä¸‹åˆ’çº¿MAX_VALUE</li>
</ul>
<h2 id="1-7-è¿ç®—ç¬¦"><a href="#1-7-è¿ç®—ç¬¦" class="headerlink" title="1.7 è¿ç®—ç¬¦"></a>1.7 è¿ç®—ç¬¦</h2><ul>
<li>ç®—æ•°è¿ç®—ç¬¦ï¼š+ - * / % ++ â€”</li>
<li>èµ‹å€¼è¿ç®—ç¬¦ =</li>
<li>å…³ç³»è¿ç®—ç¬¦ &lt; &lt;= &gt; &gt;= !=  ==  instanceof</li>
<li>é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; || ï¼</li>
<li>ä½è¿ç®—ç¬¦ &amp; |  ^ ~ &gt;&gt; &lt;&lt; &gt;&gt;&gt;</li>
<li>æ¡ä»¶è¿ç®—ç¬¦ ï¼Ÿï¼š</li>
<li>æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦ += -= *= /=</li>
</ul>
<h1 id="2-æ§åˆ¶æµç¨‹"><a href="#2-æ§åˆ¶æµç¨‹" class="headerlink" title="2 æ§åˆ¶æµç¨‹"></a>2 æ§åˆ¶æµç¨‹</h1><h2 id="2-1-Scannerä¸ç”¨æˆ·äº¤äº’"><a href="#2-1-Scannerä¸ç”¨æˆ·äº¤äº’" class="headerlink" title="2.1 Scannerä¸ç”¨æˆ·äº¤äº’"></a>2.1 Scannerä¸ç”¨æˆ·äº¤äº’</h2><p>Scannerå¯¹è±¡ï¼š</p>
<ul>
<li>nextï¼ˆï¼‰<ul>
<li>ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦åæ‰å¯ä»¥ç»“æŸè¾“å…¥</li>
<li>å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ä¼šè‡ªåŠ¨å»æ‰</li>
<li>åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦åæ‰å°†å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºåˆ†éš”ç¬¦æˆ–ç»“æŸç¬¦</li>
<li><strong>nextï¼ˆï¼‰ä¸èƒ½å¾—åˆ°å¸¦æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²</strong></li>
</ul>
</li>
<li>nextLineï¼ˆï¼‰<ul>
<li>ä»¥Enterä½œä¸ºç»“æŸç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´nextLine()æ–¹æ³•è¿”å›çš„æ˜¯è¾“å…¥å›è½¦å‰çš„æ‰€æœ‰å­—ç¬¦</li>
<li>å¯ä»¥å¾—åˆ°ç©ºç™½</li>
</ul>
</li>
</ul>
<h2 id="2-2-é¡ºåºç»“æ„"><a href="#2-2-é¡ºåºç»“æ„" class="headerlink" title="2.2 é¡ºåºç»“æ„"></a>2.2 é¡ºåºç»“æ„</h2><h2 id="2-3-é€‰æ‹©ç»“æ„"><a href="#2-3-é€‰æ‹©ç»“æ„" class="headerlink" title="2.3 é€‰æ‹©ç»“æ„"></a>2.3 é€‰æ‹©ç»“æ„</h2><p>å•é€‰æ‹©ï¼šifï¼ˆï¼‰{}</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒé€‰æ‹©ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¤šé€‰æ‹©ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åµŒå¥—çš„if</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line">	<span class="keyword">if</span>()&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>switch</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line"><span class="keyword">case</span> value:</span><br><span class="line">...</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> value:</span><br><span class="line">...</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">..........</span><br><span class="line"><span class="keyword">case</span> value:</span><br><span class="line">...</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>switchè¯­å¥ä¸­çš„å˜é‡ç±»å‹å¯ä»¥æ˜¯</p>
<ul>
<li>byte short int char</li>
<li>ä»JDK7 å¼€å§‹ å¼€å§‹æ”¯æŒString ï¼ŒåŒæ—¶caseæ ‡ç­¾å¿…é¡»æ˜¯å­—ç¬¦ä¸²å¸¸é‡æˆ–å­—é¢é‡</li>
</ul>
<h2 id="2-4-å¾ªç¯ç»“æ„"><a href="#2-4-å¾ªç¯ç»“æ„" class="headerlink" title="2.4 å¾ªç¯ç»“æ„"></a>2.4 å¾ªç¯ç»“æ„</h2><ul>
<li><p>while</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>()&#123;</span><br><span class="line"><span class="comment">//å¾ªç¯å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>doâ€¦while</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line"><span class="comment">//å¾ªç¯å†…å®¹</span></span><br><span class="line">&#125;<span class="keyword">while</span>();</span><br></pre></td></tr></table></figure>
<p>å¯¹äºwhileè¯­å¥è€Œè¨€ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¸è¿›å…¥å¾ªç¯</p>
<p>doâ€¦whileå¾ªç¯å’Œwhileå¾ªç¯ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯doâ€¦whileè‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡</p>
<p>whileå…ˆåˆ¤æ–­å†æ‰§è¡Œï¼Œdoâ€¦whileå…ˆæ‰§è¡Œå†åˆ¤æ–­</p>
</li>
<li><p>for</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(åˆå§‹åŒ–;å¸ƒå°”è¡¨è¾¾å¼;æ›´æ–°)&#123;</span><br><span class="line">	<span class="comment">//ä»£ç è¯­å¥	</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IDEAå¿«æ·é”®  100.for   ç­‰äº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">100</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>JDK5ä¸­åŠ å…¥äº†ç”¨äºæ•°ç»„çš„å¢å¼ºå‹forå¾ªç¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] numbers=&#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i:numbers)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-5-break-continue-goto"><a href="#2-5-break-continue-goto" class="headerlink" title="2.5 break continue goto"></a>2.5 break continue goto</h2><ul>
<li>breakå†ä»»ä½•å¾ªç¯è¯­å¥çš„ä¸»ä½“éƒ¨åˆ†ï¼Œå‡å¯ç”¨breakæ§åˆ¶å¾ªç¯çš„æµç¨‹ã€‚breakç”¨äºå¼ºè¡Œé€€å‡ºå¾ªç¯ï¼Œä¸æ‰§è¡Œå¾ªç¯ä¸­å‰©ä½™çš„è¯­å¥ã€‚ï¼ˆåœ¨switchä¹Ÿå¯ç”¨ï¼‰</li>
<li>continue è¯­å¥ç”¨åœ¨å¾ªç¯è¯­å¥ä½“ä¸­ï¼Œç”¨äºä¸­æ­¢æŸæ¬¡å¾ªç¯è¿‡ç¨‹ï¼Œå³è·³è¿‡å¾ªç¯ä½“ä¸­æœªæ‰§è¡Œçš„è¯­å¥ï¼Œæ¥ç€è¿›è¡Œä¸‹ä¸€æ¬¡æ˜¯å¦å¾ªç¯çš„åˆ¤å®š</li>
<li>gotoæœªæ­£å¼ä½¿ç”¨</li>
</ul>
<h1 id="3-æ–¹æ³•"><a href="#3-æ–¹æ³•" class="headerlink" title="3 æ–¹æ³•"></a>3 æ–¹æ³•</h1><h2 id="3-1-ä»€ä¹ˆæ˜¯æ–¹æ³•"><a href="#3-1-ä»€ä¹ˆæ˜¯æ–¹æ³•" class="headerlink" title="3.1 ä»€ä¹ˆæ˜¯æ–¹æ³•"></a>3.1 ä»€ä¹ˆæ˜¯æ–¹æ³•</h2><p>æ–¹æ³•æ˜¯è¯­å¥çš„é›†åˆï¼Œåœ¨ä¸€èµ·æ‰§è¡Œä¸€ä¸ªåŠŸèƒ½</p>
<ul>
<li>æ–¹æ³•æ˜¯è§£å†³ä¸€ç±»é—®é¢˜çš„æ­¥éª¤çš„æœ‰åºç»„åˆ</li>
<li>æ–¹æ³•åŒ…å«äºç±»æˆ–å¯¹è±¡ä¸­</li>
<li>æ–¹æ³•åœ¨ç¨‹åºä¸­è¢«åˆ›å»ºï¼Œåœ¨å…¶ä»–åœ°æ–¹å¼•ç”¨</li>
</ul>
<h2 id="3-2-æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨"><a href="#3-2-æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨" class="headerlink" title="3.2 æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨"></a>3.2 æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨</h2><ul>
<li>ä¿®é¥°ç¬¦ï¼šå¯é€‰ å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå®šä¹‰äº†è¯¥æ–¹æ³•çš„è®¿é—®ç±»å‹</li>
<li>è¿”å›å€¼ç±»å‹</li>
<li>æ–¹æ³•å å¼€å¤´å°å†™ï¼Œåé¢é©¼å³°</li>
<li>å‚æ•°ç±»å‹ <ul>
<li>å½¢å¼å‚æ•°ï¼šåœ¨æ–¹æ³•è¢«è°ƒç”¨æ—¶ç”¨äºæ¥æ”¶å¤–ç•Œè¾“å…¥çš„æ•°æ®</li>
<li>å®å‚ï¼šè°ƒç”¨æ–¹æ³•æ—¶å®é™…ä¼ ç»™æ–¹æ³•çš„æ•°æ®</li>
</ul>
</li>
<li>æ–¹æ³•ä½“ï¼š åŒ…å«å…·ä½“çš„è¯­å¥ï¼Œå®šä¹‰è¯¥æ–¹æ³•çš„åŠŸèƒ½</li>
</ul>
<p>è°ƒç”¨æ–¹æ³•ï¼šå¯¹è±¡å.æ–¹æ³•åï¼ˆå®å‚åˆ—è¡¨ï¼‰</p>
<p>å½“æ–¹æ³•è¿”å›ä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œæ–¹æ³•è°ƒç”¨é€šå¸¸è¢«å½“ä½œä¸€ä¸ªå€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">larger</span> <span class="operator">=</span> max(<span class="number">30</span>,<span class="number">40</span>);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ–¹æ³•è¿”å›å€¼æ—¶voidï¼Œæ–¹æ³•è°ƒç”¨ä¸€å®šæ˜¯ä¸€æ¡è¯­å¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="3-3-æ–¹æ³•çš„é‡è½½"><a href="#3-3-æ–¹æ³•çš„é‡è½½" class="headerlink" title="3.3 æ–¹æ³•çš„é‡è½½"></a>3.3 æ–¹æ³•çš„é‡è½½</h2><p>é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæœ‰ç›¸åŒçš„å‡½æ•°åç§°ï¼Œä½†å½¢å‚ä¸åŒçš„å‡½æ•°</p>
<p>é‡è½½çš„è§„åˆ™ï¼š</p>
<ul>
<li>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒ</li>
<li><strong>å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒ</strong>ï¼ˆä¸ªæ•°ä¸åŒã€ç±»å‹ä¸åŒã€å‚æ•°æ’åˆ—é¡ºåºä¸åŒï¼‰</li>
<li>è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸åŒ</li>
<li>ä»…ä»…è¿”å›ç±»å‹ä¸åŒä¸è¶³ä»¥æˆä¸ºæ–¹æ³•çš„é‡è½½</li>
</ul>
<h2 id="3-4-å¯å˜å‚æ•°"><a href="#3-4-å¯å˜å‚æ•°" class="headerlink" title="3.4 å¯å˜å‚æ•°"></a>3.4 å¯å˜å‚æ•°</h2><p>JDK1.5å¼€å§‹ï¼ŒJavaæ”¯æŒä¼ é€’åŒç±»å‹çš„å‚ç¼–å‚æ•°ç»™ä¸€ä¸ªæ–¹æ³•</p>
<p>åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å·ï¼ˆâ€¦ï¼‰</p>
<p>ä¸€ä¸ªæ–¹æ³•ä¸­åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printMax</span><span class="params">(doubeâ€¦ numbers)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-5-é€’å½’"><a href="#3-5-é€’å½’" class="headerlink" title="3.5  é€’å½’"></a>3.5  é€’å½’</h2><p>é€’å½’åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>é€’å½’å¤´ï¼šä»€ä¹ˆæ—¶å€™ä¸è°ƒç”¨ã€‚å¦‚æœæ²¡æœ‰å¤´ï¼Œå°†é™·å…¥æ­»å¾ªç¯</li>
<li>é€’å½’ä½“ï¼šä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨è‡ªèº«æ–¹æ³•</li>
</ul>
<h1 id="4-æ•°ç»„"><a href="#4-æ•°ç»„" class="headerlink" title="4 æ•°ç»„"></a>4 æ•°ç»„</h1><h2 id="4-1-æ•°ç»„æ¦‚è¿°"><a href="#4-1-æ•°ç»„æ¦‚è¿°" class="headerlink" title="4.1 æ•°ç»„æ¦‚è¿°"></a>4.1 æ•°ç»„æ¦‚è¿°</h2><p>æ•°ç»„æ—¶ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆ</p>
<p>æ•°ç»„æè¿°çš„æ—¶ç›¸åŒç±»å‹çš„è‹¥å¹²ä¸ªæ•°æ®ï¼ŒæŒ‰ç…§ä¸€å®šçš„å…ˆåæ¬¡åºæ’åˆ—ç»„åˆè€Œæˆ</p>
<p>å…¶ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°æ®ç§°ä½œä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ¯</p>
<p>ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡æ¥è®¿é—®å®ƒä»¬</p>
<h2 id="4-2-æ•°ç»„å£°æ˜åˆ›å»º"><a href="#4-2-æ•°ç»„å£°æ˜åˆ›å»º" class="headerlink" title="4.2 æ•°ç»„å£°æ˜åˆ›å»º"></a>4.2 æ•°ç»„å£°æ˜åˆ›å»º</h2><p>é¦–å…ˆå¿…é¡»å£°æ˜æ•°ç»„æ ‡æ¥ï¼Œæ‰èƒ½åœ¨ç¨‹åºä¸­ä½¿ç”¨æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dateType[] arrayRefVar;<span class="comment">//é¦–é€‰çš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dataType arrayRefVar[];<span class="comment">//æ•ˆæœç›¸åŒï¼Œä½†ä¸æ˜¯é¦–é€‰æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<p>Javaè¯­è¨€ä½¿ç”¨newæ“ä½œç¬¦æ¥åˆ›å»ºæ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dataType[] arrayRefVar = <span class="keyword">new</span> <span class="title class_">dataType</span>[arraySize];</span><br></pre></td></tr></table></figure>
<p>æ•°ç»„çš„å…ƒç´ æ˜¯é€šè¿‡ç´¢å¼•è®¿é—®çš„ï¼Œæ•°ç»„ç´¢å¼•ä»0å¼€å§‹</p>
<p>è·å–æ•°ç»„é•¿åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">arrays.length</span><br></pre></td></tr></table></figure>
<h2 id="4-3-æ•°ç»„åˆå§‹åŒ–"><a href="#4-3-æ•°ç»„åˆå§‹åŒ–" class="headerlink" title="4.3 æ•°ç»„åˆå§‹åŒ–"></a>4.3 æ•°ç»„åˆå§‹åŒ–</h2><p>é™æ€åˆå§‹åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] a = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">Man[] mans = &#123;<span class="keyword">new</span> <span class="title class_">Man</span>(<span class="number">1</span>,<span class="number">2</span>),<span class="keyword">new</span> <span class="title class_">Man</span>(<span class="number">2</span>,<span class="number">2</span>)&#125;</span><br></pre></td></tr></table></figure>
<p>åŠ¨æ€åˆå§‹åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤åˆå§‹åŒ–</p>
<ul>
<li>æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œä»–çš„å…ƒç´ ç›¸å½“äºç±»çš„å®ä¾‹å˜é‡ï¼Œå› æ­¤æ•°ç»„ä¸€ç»åˆ†é…ç©ºé—´ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹Ÿè¢«æŒ‰ç…§å®ä¾‹å˜é‡åŒæ ·çš„æ–¹å¼è¢«éšå¼åˆå§‹åŒ–</li>
</ul>
<h2 id="4-4-æ•°ç»„è¶Šç•Œ"><a href="#4-4-æ•°ç»„è¶Šç•Œ" class="headerlink" title="4.4 æ•°ç»„è¶Šç•Œ"></a>4.4 æ•°ç»„è¶Šç•Œ</h2><p>æ•°ç»„çš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>é•¿åº¦æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„ä¸€æ—¦è¢«åˆ›å»ºï¼Œå®ƒçš„å¤§å°å°±æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ã€‚</li>
<li>å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹ï¼Œä¸å…è®¸å‡ºç°æ··åˆç±»å‹</li>
<li>å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</li>
<li>æ•°ç»„å˜é‡å±äºå¼•ç”¨ç±»å‹ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ç›¸å½“äºè¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚æ•°ç»„æœ¬èº«å°±æ˜¯å¯¹è±¡ï¼ŒJavaä¸­å¯¹è±¡å®åœ¨å †ä¸­çš„ï¼Œå› æ­¤æ•°ç»„æ— è®ºä¿å­˜åŸå§‹ç±»å‹è¿˜æ˜¯å…¶ä»–å¯¹è±¡ç±»å‹ï¼Œ<strong>æ•°ç»„å¯¹è±¡æœ¬èº«æ˜¯åœ¨å †ä¸­çš„</strong>ã€‚</li>
</ol>
<p>ä¸‹æ ‡çš„åˆæ³•åŒºé—´[0-length-1]</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">System.out.println(a[<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>
<p><strong>ArrayIndexOutOfBoundsException</strong>:æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸</p>
<h1 id="4-5-æ•°ç»„çš„ä½¿ç”¨"><a href="#4-5-æ•°ç»„çš„ä½¿ç”¨" class="headerlink" title="4.5 æ•°ç»„çš„ä½¿ç”¨"></a>4.5 æ•°ç»„çš„ä½¿ç”¨</h1><ul>
<li>For-Eachå¾ªç¯</li>
<li>æ•°ç»„ä½œæ–¹æ³•å…¥å‚</li>
<li>æ•°ç»„ä½œè¿”å›å€¼</li>
</ul>
<h2 id="4-6-å¤šç»´æ•°ç»„"><a href="#4-6-å¤šç»´æ•°ç»„" class="headerlink" title="4.6 å¤šç»´æ•°ç»„"></a>4.6 å¤šç»´æ•°ç»„</h2><p>å¤šä¸ºæ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</p>
<p>äºŒç»´æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[][] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä¸¤è¡Œäº”åˆ—çš„æ•°ç»„</p>
<h1 id="5-é¢å‘å¯¹è±¡"><a href="#5-é¢å‘å¯¹è±¡" class="headerlink" title="5 é¢å‘å¯¹è±¡"></a>5 é¢å‘å¯¹è±¡</h1><p>5.1 é¢å‘å¯¹è±¡</p>
<ul>
<li>é¢å‘è¿‡ç¨‹æ€æƒ³<ul>
<li>æ­¥éª¤æ¸…æ™°ç®€å•ï¼Œç¬¬ä¸€æ­¥åšä»€ä¹ˆï¼Œç¬¬äºŒéƒ¨åšä»€ä¹ˆ</li>
<li>é¢å‘è¿‡ç¨‹é€‚åˆå¤„ç†ä¸€äº›è¾ƒä¸ºç®€å•çš„é—®é¢˜</li>
</ul>
</li>
<li>é¢å‘å¯¹è±¡æ€æƒ³<ul>
<li>ç‰©ä»¥ç±»èšï¼Œåˆ†ç±»çš„æ€ç»´æ¨¡å¼ï¼Œæ€è€ƒé—®é¢˜é¦–å…ˆä¼šè§£å†³é—®é¢˜éœ€è¦å“ªäº›åˆ†ç±»ï¼Œç„¶åå¯¹è¿™äº›åˆ†ç±»è¿›è¡Œå•ç‹¬æ€è€ƒã€‚æœ€åï¼Œæ‰å¯¹æŸä¸ªåˆ†ç±»ä¸‹çš„ç»†èŠ‚è¿›è¡Œé¢å‘è¿‡ç¨‹çš„æ€ç´¢</li>
<li>é¢å‘å¯¹è±¡é€‚åˆå¤„ç†å¤æ‚çš„é—®é¢˜ï¼Œé€‚åˆå¤„ç†å¤šäººåˆä½œçš„é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
<p>å¯¹äºè—è§†å¤æ‚çš„äº‹ç‰©ï¼Œä¸ºäº†å®è§‚æŠŠæ¡ã€ä»æ•´ä½“ä¸Šåˆç†åˆ†æï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€è·¯æ¥åˆ†ææ•´ä¸ªç³»ç»Ÿã€‚ä½†æ˜¯ï¼Œå…·ä½“åˆ°å¾®è§‚æ“ä½œï¼Œä»ç„¶éœ€è¦é¢å‘è¿‡ç¨‹çš„æ€è·¯å»å¤„ç†ã€‚</p>
<h2 id="5-1-ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡"><a href="#5-1-ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡" class="headerlink" title="5.1 ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡"></a>5.1 ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡</h2><ul>
<li>é¢å‘å¯¹è±¡å˜æˆï¼ˆObjec-Oriented Programmingï¼ŒOOPï¼‰</li>
<li>é¢å‘å¯¹è±¡çš„æœ¬è´¨å°±æ˜¯ï¼šä»¥ç±»çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä»¥å¯¹è±¡çš„ç»„ç»‡ï¼ˆå°è£…ï¼‰æ•°æ®</li>
</ul>
<p>æŠ½è±¡</p>
<p>ä¸‰å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>å°è£…</li>
<li>ç»§æ‰¿</li>
<li>å¤šæ€</li>
</ul>
<p>ä»è®¤è¯†è®ºçš„è§’åº¦è€ƒè™‘æ˜¯ç°æœ‰å¯¹è±¡åæœ‰ç±»ã€‚å¯¹è±¡ï¼Œæ˜¯å…·ä½“çš„äº‹ç‰©ã€‚ç±»ï¼Œæ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡</p>
<p>ä»ä»£ç è¿è¡Œçš„è§’åº¦è€ƒè™‘æ˜¯ç°æœ‰ç±»åæœ‰å¯¹è±¡ã€‚ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿</p>
<h2 id="5-2ç±»å’Œå¯¹è±¡çš„åˆ›å»º"><a href="#5-2ç±»å’Œå¯¹è±¡çš„åˆ›å»º" class="headerlink" title="5.2ç±»å’Œå¯¹è±¡çš„åˆ›å»º"></a>5.2ç±»å’Œå¯¹è±¡çš„åˆ›å»º</h2><p>ç±»ä¸å¯¹è±¡çš„å…³ç³»</p>
<ul>
<li>ç±»æ˜¯ä¾ä¸­æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯å¯¹æŸä¸€ç±»äº‹ç‰©æ•´ä½“æè¿°/å®šä¹‰ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©<ul>
<li>åŠ¨ç‰©ã€æ¤ç‰©ã€æ‰‹æœºã€ç”µè„‘â€¦â€¦</li>
<li>Personç±»ï¼ŒPetç±»ï¼ŒCarç±»ç­‰ï¼Œè¿™äº›ç±»éƒ½æ˜¯ç”¨æ¥æè¿°/å®šä¹‰æŸä¸€ç±»å…·ä½“çš„äº‹ç‰©åº”è¯¥å…·å¤‡çš„ç‰¹ç‚¹å’Œè¡Œä¸º</li>
</ul>
</li>
<li>å¯¹è±¡æ˜¯æŠ½è±¡æ¦‚å¿µçš„å…·ä½“å®ä¾‹<ul>
<li>å¼ ä¸‰å°±æ˜¯äººçš„ä¸€ä¸ªå…·ä½“å®ä¾‹ï¼Œå¼ ä¸‰å®¶é‡Œçš„æ—ºè´¢å°±æ˜¯ç‹—çš„ä¸€ä¸ªå…·ä½“å®ä¾‹</li>
<li>èƒ½å¤Ÿä½“ç°å‡ºç‰¹ç‚¹ï¼Œå±•ç°å‡ºåŠŸèƒ½çš„æ˜¯å…·ä½“çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µ</li>
</ul>
</li>
</ul>
<p>åˆ›å»ºä¸åˆå§‹åŒ–å¯¹è±¡</p>
<ul>
<li>ä½¿ç”¨new åˆ›å»ºå¯¹è±¡</li>
<li>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºçš„æ—¶å€™ï¼Œé™¤äº†åˆ†é…å†…å­˜ç©ºé—´ä¹‹å¤–ï¼Œè¿˜ä¼šç»™åˆ›å»ºå¥½çš„å¯¹è±¡è¿›è¡Œé»˜è®¤çš„åˆå§‹åŒ–ä»¥åŠå¯¹ç±»ä¸­çš„æ„é€ å™¨çš„è°ƒç”¨</li>
<li>ç±»ä¸­çš„æ„é€ å™¨ä¹Ÿæˆä¸ºæ„é€ æ–¹æ³•ï¼Œå®åœ¨è¿›è¡Œåˆ›å»ºå¯¹è±¡çš„æ—¶å€™å¿…é¡»è¦è°ƒç”¨çš„ï¼Œå¹¶ä¸”æ„é€ å™¨æœ‰ä¸€ä¸‹ä¸¤ä¸ªç‰¹ç‚¹<ul>
<li>å¿…é¡»å’Œç±»çš„åå­—ç›¸åŒ</li>
<li>å¿…é¡»æ²¡æœ‰è¿”å›ç±»å‹ï¼Œä¹Ÿä¸èƒ½å†™void</li>
</ul>
</li>
<li>æ„é€ å™¨ä½œç”¨<ul>
<li>new æœ¬è´¨å®åœ¨è°ƒç”¨æ„é€ æ–¹æ³•</li>
<li>åˆå§‹åŒ–å¯¹è±¡çš„å€¼</li>
</ul>
</li>
<li>æ³¨æ„ç‚¹<ul>
<li>å®šä¹‰æœ‰å‚æ„é€ åï¼Œå¿…é¡»å®ä¾‹åŒ–æ— å‚æ„é€ </li>
<li>IDEA  å¿«æ·é”®  Alt+Insert å¿«é€Ÿç”Ÿæˆæ„é€ å™¨</li>
</ul>
</li>
</ul>
<h2 id="5-3-å°è£…"><a href="#5-3-å°è£…" class="headerlink" title="5.3 å°è£…"></a>5.3 å°è£…</h2><ul>
<li><p>è¯¥éœ²çš„éœ²ï¼Œè¯¥è—çš„è—</p>
<ul>
<li>è®¾è®¡ç¨‹åºè¿½æ±‚â€œé«˜å†…èšï¼Œä½è€¦åˆâ€ã€‚é«˜å†…èšå°±æ˜¯ç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚è‡ªå·±å®Œæˆï¼Œä¸å…è®¸å¤–éƒ¨å¹²æ¶‰ï¼›ä½è€¦åˆï¼šè¿›æš´éœ²å°‘é‡çš„æ–¹æ³•ç»™å¤–éƒ¨ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><p>å°è£…ï¼ˆæ•°æ®çš„éšè—ï¼‰</p>
<ul>
<li>é€šå¸¸ï¼Œåº”è¯¥ç¦æ­¢ç›´æ¥è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸­çš„æ•°æ®çš„å®é™…è¡¨ç¤ºï¼Œè€Œåº”è¯¥é€šè¿‡æ“ä½œæ¥å£æ¥è®¿é—®</li>
</ul>
</li>
<li><p><strong>å±æ€§ç§æœ‰ï¼Œget/set</strong></p>
<p>IDEA alt+Insert ç”Ÿæˆget/set</p>
</li>
<li><p>ä½œç”¨</p>
<ul>
<li>æé«˜ç¨‹åºçš„å®‰å…¨æ€§ï¼Œä¿æŠ¤æ•°æ®</li>
<li>éšè—ä»£ç çš„å®ç°ç»†èŠ‚</li>
</ul>
</li>
</ul>
<h2 id="5-4-ç»§æ‰¿"><a href="#5-4-ç»§æ‰¿" class="headerlink" title="5.4 ç»§æ‰¿"></a>5.4 ç»§æ‰¿</h2><p>ç»§æ‰¿çš„æœ¬è´¨æ˜¯å¯¹æŸä¸€æ‰¹ç±»çš„æŠ½è±¡ï¼Œä»è€Œå®ç°å¯¹ç°å®ä¸–ç•Œæ›´å¥½çš„å»ºæ¨¡</p>
<p><strong>extends</strong>çš„æ„æ€æ˜¯æ‰©å±•ï¼Œå­ç±»æ˜¯çˆ¶ç±»çš„æ‰©å±•</p>
<p>Javaä¸­ç±»åªæœ‰å•ç»§æ‰¿ï¼Œæ²¡æœ‰å¤šç»§æ‰¿</p>
<p>ç»§æ‰¿æ˜¯ç±»å’Œç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç±»å’Œç±»ä¹‹é—´çš„å…³ç³»è¿˜æœ‰ä»¥æ¥ï¼Œç»„åˆï¼Œç»„åˆç­‰</p>
<p>ç»§æ‰¿å…³ç³»çš„ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªä¸ºå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ï¼Œä¸€ä¸ªä¸ºçˆ¶ç±»ï¼ˆåŸºç±»ï¼‰ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œä½¿ç”¨å…³é”®å­—extensæ¥è¡¨ç¤ºã€‚</p>
<p>å­ç±»å’Œçˆ¶ç±»ä¹‹é—´ï¼Œä»æ„ä¹‰ä¸Šè®²åº”è¯¥å…·æœ‰is açš„å…³ç³»</p>
<p>Objectç±»</p>
<ul>
<li>Javaä¸­ï¼Œæ‰€æœ‰çš„ç±»éƒ½ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿Objectç±»</li>
</ul>
<p><strong>superå…³é”®å­—</strong></p>
<ul>
<li>superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¿…é¡»åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€ä¸ª</li>
<li>superå¿…é¡»å‡ºç°åœ¨å­ç±»çš„æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•ä¸­</li>
<li>superå’Œthisä¸èƒ½åŒæ—¶è°ƒç”¨æ„é€ æ–¹æ³•</li>
</ul>
<p>super vs this</p>
<ul>
<li>ä»£è¡¨çš„å¯¹è±¡ä¸åŒ<ul>
<li>thisï¼šæœ¬èº«è°ƒç”¨è€…è¿™ä¸ªå¯¹è±¡</li>
<li>superï¼šä»£è¡¨çˆ¶ç±»å¯¹è±¡çš„åº”ç”¨</li>
</ul>
</li>
<li>å‰æ<ul>
<li>thisï¼šæ²¡æœ‰ç»§æ‰¿ä¹Ÿå¯ä»¥ä½¿ç”¨</li>
<li>superï¼šåªæœ‰åœ¨ç»§æ‰¿æ¡ä»¶æ‰å¯ä»¥ä½¿ç”¨</li>
</ul>
</li>
<li>æ„é€ æ–¹æ³•<ul>
<li>thisï¼ˆï¼‰ æœ¬ç±»çš„æ„é€ </li>
<li>superï¼ˆï¼‰ çˆ¶ç±»çš„æ„é€ </li>
</ul>
</li>
</ul>
<p><strong>æ–¹æ³•çš„é‡å†™</strong></p>
<p>é‡å†™éƒ½æ˜¯æ–¹æ³•çš„é‡å†™ï¼Œä¸å±æ€§æ— å…³</p>
<p>é‡å†™éœ€è¦æœ‰ç»§æ‰¿å…³ç³»ï¼Œå­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•</p>
<ul>
<li>æ–¹æ³•åå¿…é¡»ç›¸åŒ</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒ</li>
<li>ä¿®é¥°ç¬¦å¯ä»¥æ‰©å¤§ï¼Œä½†ä¸èƒ½ç¼©å° çˆ¶ç±»å°ï¼Œå­ç±»å¤§ public&gt;protected&gt;default&gt;private</li>
<li>å¼‚å¸¸å¯ä»¥ç¼©å°ä¸èƒ½æ‰©å¤§</li>
</ul>
<p>ä¸ºä»€ä¹ˆé‡å†™ï¼š</p>
<ul>
<li>çˆ¶ç±»çš„åŠŸèƒ½å­ç±»ä¸ä¸€å®šéœ€è¦ï¼Œæˆ–è€…ä¸ä¸€å®šæ»¡è¶³</li>
</ul>
<p>ä¸èƒ½é‡å†™çš„ï¼š</p>
<ul>
<li>staticæ–¹æ³• ï¼Œå±äºç±»ä¸å±äºå®ä¾‹</li>
<li>final ä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™</li>
<li>private æ–¹æ³•</li>
</ul>
<h2 id="5-5-å¤šæ€"><a href="#5-5-å¤šæ€" class="headerlink" title="5.5 å¤šæ€"></a>5.5 å¤šæ€</h2><p>åŒä¸€æ–¹æ³•å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡ç”¨å¤šç§ä¸åŒçš„è¡Œä¸ºæ–¹å¼</p>
<p>ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œä½†å¯ä»¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨çš„ç±»å‹æœ‰å¾ˆå¤š</p>
<p>å¤šæ€çš„æ¡ä»¶</p>
<ul>
<li>ç»§æ‰¿å…³ç³»</li>
<li>æ–¹æ³•é‡å†™</li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»</li>
</ul>
<p>==å’Œequals()çš„åŒºåˆ«</p>
<ul>
<li>==æ—¢å¯ä»¥åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹ã€‚å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ¤æ–­çš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ã€‚å¯¹äºå¼•ç”¨åˆ¤æ–­ç±»å‹ï¼Œåˆ¤æ–­çš„æ˜¯æŒ‡å‘çš„åœ°å€æ˜¯å¦ç›¸ç­‰ï¼Œå³æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>
<li>equals()æ˜¯æ–¹æ³•æ³•ï¼Œè€Œéè¿ç®—ç¬¦ï¼Œåªé€‚ç”¨äºå¼•ç”¨æ•°æ®ç±»å‹ã€‚Objectç±»ä¸­equals()ä¸==ä½œç”¨ç›¸åŒï¼Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå³ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚é‡å†™è¿‡çš„equals()é€šå¸¸æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å®ä½“å†…å®¹ï¼ˆå±æ€§ï¼‰æ˜¯å¦ç›¸ç­‰</li>
</ul>
<h2 id="5-6-instanceofå’Œå¼ºåˆ¶è½¬æ¢"><a href="#5-6-instanceofå’Œå¼ºåˆ¶è½¬æ¢" class="headerlink" title="5.6 instanceofå’Œå¼ºåˆ¶è½¬æ¢"></a>5.6 instanceofå’Œå¼ºåˆ¶è½¬æ¢</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Student</span> <span class="variable">student0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="type">Person</span> <span class="variable">student1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="type">Object</span> <span class="variable">student2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">x <span class="keyword">instanceof</span> y</span><br></pre></td></tr></table></figure>
<p> xæ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯ä¸æ˜¯yçš„å­ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(student0 <span class="keyword">instanceof</span> Student);<span class="comment">//true</span></span><br><span class="line">System.out.println(student0 <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line">System.out.println(student0 <span class="keyword">instanceof</span> Object);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p><strong>å¼ºåˆ¶è½¬æ¢</strong></p>
<p>é«˜è½¬ä½ä½¿ç”¨å¼ºåˆ¶è½¬æ¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Student</span> <span class="variable">student21</span> <span class="operator">=</span> (Student) student2;</span><br><span class="line">student21.eat();<span class="comment">//eatä¸ºå­ç±»Studentçš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<p>ä½è½¬é«˜ä¼šä¸¢å¤±å­ç±»æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">student01</span> <span class="operator">=</span> student0;</span><br><span class="line"><span class="comment">//student01.eat();</span></span><br></pre></td></tr></table></figure>
<h2 id="5-7-static"><a href="#5-7-static" class="headerlink" title="5.7 static"></a>5.7 static</h2><h2 id="5-8-æŠ½è±¡ç±»"><a href="#5-8-æŠ½è±¡ç±»" class="headerlink" title="5.8 æŠ½è±¡ç±»"></a>5.8 æŠ½è±¡ç±»</h2><p><strong>abstract</strong>  ä¿®é¥°ç¬¦å¯ä»¥ç”¨æ¥ä¿®é¥°æ–¹æ³•ä¹Ÿå¯ä»¥ä¿®é¥°ç±»ï¼Œå¦‚æœä¿®é¥°æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•å°±æ˜¯æŠ½è±¡æ–¹æ³•ï¼›å¦‚æœä¿®é¥°ç±»ï¼Œé‚£ä¹ˆè¯¥ç±»å°±æ˜¯æŠ½è±¡ç±»</p>
<p>æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šè¦å£°æ˜ä¸ºæŠ½è±¡ç±»</p>
<p><strong>æŠ½è±¡ç±»ä¸èƒ½ä½¿ç”¨newå…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼Œå®ƒåªèƒ½ç”¨å­ç±»ç»§æ‰¿</strong></p>
<p>æŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•çš„å£°æ˜æ²¡æœ‰æ–¹æ³•çš„å®ç°ï¼Œå®ƒæ˜¯ç”¨æ¥è®©å­ç±»å®ç°çš„</p>
<p>å­ç±»ç»§æ‰¿æŠ½è±¡ç±»ï¼Œé‚£ä¹ˆå°±å¿…é¡»è¦å®ç°æŠ½è±¡ç±»æ²¡æœ‰å®ç°çš„æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™è¯¥å­ç±»ä¹Ÿè¦å£°æ˜ä¸ºæŠ½è±¡ç±»</p>
<h2 id="5-9-æ¥å£"><a href="#5-9-æ¥å£" class="headerlink" title="5.9 æ¥å£"></a>5.9 æ¥å£</h2><p>æ™®é€šç±»ï¼šåªæœ‰å…·ä½“å®ç°</p>
<p>æŠ½è±¡ç±»ï¼šå…·ä½“å®ç°å’Œè§„èŒƒï¼ˆæŠ½è±¡æ–¹æ³•ï¼‰éƒ½æœ‰</p>
<p>æ¥å£ï¼šåªæœ‰è§„èŒƒ</p>
<p>æ¥å£å°±æ˜¯è§„èŒƒï¼Œå®šä¹‰æ˜¯ä¸€ç»„è§„åˆ™ï¼Œä½“ç°äº†ç°å®ä¸–ç•Œä¸­ï¼Œå¦‚æœä½ æ˜¯â€¦åˆ™å¿…é¡»èƒ½â€¦çš„æ€æƒ³ã€‚å¦‚æœæ˜¯å¤©ä½¿ï¼Œåˆ™å¿…é¡»èƒ½é£ã€‚å¦‚æœæ˜¯æ±½è½¦ï¼Œå¿…é¡»èƒ½è·‘</p>
<p>æ¥å£çš„æœ¬è´¨æ˜¯å¥‘çº¦ï¼Œåˆ¶å®šå¥½ä¹‹åå¤§å®¶éƒ½è¦éµå®ˆ</p>
<p>OOçš„ç²¾é«“æ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡ï¼Œæœ€èƒ½ä½“ç°è¿™ä¸€ç‚¹çš„å°±æ˜¯æ¥å£ã€‚è®¨è®ºè®¾è®¡æ¨¡å¼éƒ½åªé’ˆå¯¹å…·å¤‡äº†æŠ½è±¡èƒ½åŠ›çš„è¯­è¨€ï¼ˆC++ java C#ï¼‰ å°±æ˜¯å› ä¸ºè®¾è®¡æ¨¡å¼æ‰€ç ”ç©¶çš„ï¼Œå®é™…ä¸Šå°±æ˜¯å¦‚ä½•åˆç†çš„å»æŠ½è±¡</p>
<p>å£°æ˜ç±»çš„å…³é”®å­—æ˜¯classï¼Œå£°æ˜æ¥å£çš„å…³é”®å­—ä¸ºinterface</p>
<p>æ¥å£ä¸­æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•é»˜è®¤ä¸ºpublic abstract</p>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>çº¦æŸ</li>
<li>å®šä¹‰æ–¹æ³•ï¼Œä¸åŒçš„å®ç°</li>
<li>public abstract</li>
<li>public static final</li>
<li>ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œæ²¡æœ‰æ„é€ æ–¹æ³•</li>
<li>implementså¯ä»¥å®ç°å¤šä¸ªæ¥å£</li>
<li>å¿…é¡»è¦é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</li>
</ul>
<h2 id="5-10å†…éƒ¨ç±»"><a href="#5-10å†…éƒ¨ç±»" class="headerlink" title="5.10å†…éƒ¨ç±»"></a>5.10å†…éƒ¨ç±»</h2><p>å†…éƒ¨ç±»å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å†å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ¯”å¦‚ï¼ŒAç±»ä¸­å®šä¹‰ä¸€ä¸ªBç±»ï¼Œé‚£ä¹ˆBç±»ç›¸å¯¹Aç±»æ¥è¯´å°±æˆä¸ºå†…éƒ¨ç±»ï¼Œè€ŒAç±»ç›¸å¯¹Bç±»æ¥è¯´å°±æ˜¯å¤–éƒ¨ç±»</p>
<ol>
<li><p>æˆå‘˜å†…éƒ¨ç±»</p>
<p>å†…éƒ¨ç±»å¯ä»¥è·å¾—å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§</p>
</li>
<li><p>é™æ€å†…éƒ¨ç±»</p>
</li>
<li><p>å±€éƒ¨å†…éƒ¨ç±»</p>
</li>
<li><p>åŒ¿åå†…éƒ¨ç±»</p>
</li>
</ol>
<h1 id="6-å¼‚å¸¸"><a href="#6-å¼‚å¸¸" class="headerlink" title="6 å¼‚å¸¸"></a>6 å¼‚å¸¸</h1><h2 id="6-1å¼‚å¸¸"><a href="#6-1å¼‚å¸¸" class="headerlink" title="6.1å¼‚å¸¸"></a>6.1å¼‚å¸¸</h2><p>åŸä»¶è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½é‡åˆ°è¾“å…¥ä¸åˆæ³•ï¼Œæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå†…å­˜æˆ–ç¡¬ç›˜æ»¡äº†ç­‰å¼‚å¸¸æƒ…å†µï¼Œå«åšå¼‚å¸¸ï¼ˆExceptionï¼‰</p>
<p>ä¸‰ç±»å¼‚å¸¸ï¼š</p>
<ul>
<li>æ£€æŸ¥æ€§å¼‚å¸¸ï¼šç”¨æˆ·é”™è¯¯æˆ–é—®é¢˜å¼•èµ·çš„å¼‚å¸¸ï¼Œæ— æ³•é¢„è§ã€‚ä¾‹å¦‚è¦æ‰“å¼€ä¸å­˜åœ¨çš„æ–‡ä»¶</li>
<li>è¿è¡Œæ—¶å¼‚å¸¸ï¼šè¿è¡Œæ—¶å¼‚å¸¸å®¹æ˜“è¢«é¿å…ï¼Œä¸æ£€æŸ¥æ€§å¼‚å¸¸ç›¸åï¼Œè¿è¡Œæ—¶å¼‚å¸¸å†ç¼–è¯‘æ—¶æ˜“è¢«å¿½ç•¥</li>
<li>é”™è¯¯ï¼šé”™è¯¯ä¸æ˜¯å¼‚å¸¸ï¼Œä¸JVMç›¸å…³</li>
</ul>
<p>å¼‚å¸¸ä½“ç³»ç»“æ„</p>
<ul>
<li>JavaæŠŠå¼‚å¸¸å½“ä½œå¯¹è±¡æ¥å¤„ç†ï¼Œå¹¶åŸºç¡€ä¸€ä¸ªä¸ªåŸºç±»java.lang.Throwableä½œä¸ºæ‰€æœ‰å¼‚å¸¸çš„è¶…ç±»</li>
<li>åœ¨Java APIä¸­å·²ç»å®šä¹‰äº†è®¸å¤šå¼‚å¸¸ç±»ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼Œé”™è¯¯Errorå’Œå¼‚å¸¸Exception</li>
</ul>
<p>Error</p>
<ul>
<li>Errorç±»ç”±Javaè™šæ‹Ÿæœºç”Ÿæˆå¹¶æŠ›å‡ºï¼Œå¤§å¤šæ•°é”™è¯¯ä¸ä»£ç ç¼–å†™è€…æ‰€æ‰§è¡Œçš„æ“ä½œæ— å…³</li>
<li>Javaè™šæ‹Ÿæœºé”™è¯¯ï¼ˆVirtual MachineErrorï¼‰ï¼Œå½“JVMä¸åœ¨æœ‰ç»§ç»­æ“ä½œæ‰€éœ€çš„å†…å­˜èµ„æºæ—¶ï¼Œå°†å‡ºç°OutofMemoryErrorï¼Œè¿™äº›å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒJVMä¸€èˆ¬ä¼šé€‰æ‹©çº¿ç¨‹ç»ˆæ­¢</li>
<li>è¿˜æœ‰å‘ç”Ÿåœ¨è™šæ‹Ÿæœºè¯•å›¾æ‰§è¡Œåº”ç”¨æ—¶ï¼Œå¦‚ç±»å®šä¹‰é”™è¯¯ï¼ˆNoClassDefFoundErrorï¼‰ã€é“¾æ¥é”™è¯¯ï¼ˆï¼ˆLinkageErrorï¼‰ã€‚è¿™äº›é”™è¯¯æ˜¯ä¸å¯æŸ¥çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨åº”ç”¨ç¨‹åºçš„æ§åˆ¶å’Œå¤„ç†èƒ½åŠ›ä¹‹å¤–ï¼Œè€Œä¸”ç»å¤§å¤šæ•°æ˜¯ç¨‹åºè¿è¡Œæ—¶ä¸å…è®¸å‡ºç°çš„çŠ¶å†µã€‚</li>
</ul>
<p>Exception</p>
<ul>
<li>åœ¨Exceptionåˆ†æ”¯ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„å­ç±»RuntimeExceptionï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ï¼‰<ul>
<li>ArrayIndexOutOfBoundException</li>
<li>NullPointerException</li>
<li>ArithmeticExceotion</li>
<li>MissingResourceException</li>
<li>ClassNotFoundException</li>
</ul>
</li>
<li>è¿™äº›å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·çš„ï¼Œç¨‹åºåº”è¯¥ä»é€»è¾‘è§’åº¦å°½å¯èƒ½é¿å…è¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿ</li>
<li>Errorä¸Exceptionçš„åŒºåˆ«ï¼šErroré€šå¸¸æ˜¯ç¾éš¾æ€§çš„è‡´å‘½çš„é”™è¯¯ï¼Œæ˜¯ç¨‹åºæ— æ³•æ§åˆ¶å’Œå¤„ç†çš„ï¼Œå½“å‡ºç°è¿™äº›å¼‚å¸¸æ—¶ï¼ŒJVMä¸€èˆ¬ä¼šé€‰æ‹©ä¸­æ­¢çº¿ç¨‹ï¼›Exceptioné€šå¸¸æƒ…å†µä¸‹æ˜¯å¯ä»¥è¢«ç¨‹åºå¤„ç†çš„ï¼Œå¹¶ä¸”åœ¨ç¨‹åºä¸­åº”è¯¥å°½å¯èƒ½å»å¤„ç†è¿™äº›å¼‚å¸¸</li>
</ul>
<h2 id="6-1-æ•è·å’ŒæŠ›å‡ºå¼‚å¸¸"><a href="#6-1-æ•è·å’ŒæŠ›å‡ºå¼‚å¸¸" class="headerlink" title="6.1 æ•è·å’ŒæŠ›å‡ºå¼‚å¸¸"></a>6.1 æ•è·å’ŒæŠ›å‡ºå¼‚å¸¸</h2><ul>
<li>æŠ›å‡ºå¼‚å¸¸</li>
<li>æ•è·å¼‚å¸¸</li>
<li>äº”ä¸ªå…³é”®å­—<ul>
<li>try </li>
<li>catch</li>
<li>finally</li>
<li>throw ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ï¼Œä¸€èˆ¬åœ¨æ–¹æ³•ä¸­ä½¿ç”¨</li>
<li>throws æ–¹æ³•å¤„ç†ä¸äº†å¼‚å¸¸ï¼Œå‘ä¸ŠæŠ›å‡º</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span> <span class="keyword">throws</span> ArithmeticException&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ArithmeticException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-3-è‡ªå®šä¹‰å¼‚å¸¸"><a href="#6-3-è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="6.3 è‡ªå®šä¹‰å¼‚å¸¸"></a>6.3 è‡ªå®šä¹‰å¼‚å¸¸</h2><p>ä½¿ç”¨Javaå†…ç½®çš„å¼‚å¸¸ç±»å¯ä»¥æè¿°åœ¨ç¼–ç¨‹æ—¶å‡ºç°çš„å¤§éƒ¨åˆ†å¼‚å¸¸æƒ…å†µã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸ã€‚ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œåªéœ€ç»§æ‰¿Exceptionç±»å³å¯ã€‚</p>
<p>åœ¨ç¨‹åºä¸­ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸ï¼Œç­”é¢˜å¯åˆ†ä¸ºä¸€ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ç±»</li>
<li>åœ¨æ–¹æ³•ä¸­é€šè¿‡throwå…³é”®å­—æŠ›å‡ºå¼‚å¸¸å¯¹è±¡</li>
<li>å¦‚æœåœ¨å½“å‰æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨try-catchè¯­å¥æ•è·å¹¶å¤„ç†ï¼›å¦åˆ™åœ¨æ–¹æ³•çš„å£°æ˜å‡ºé€šè¿‡throwså…³é”®å­—æŒ‡æ˜è¦æŠ›å‡ºç»™æ–¹æ³•è°ƒç”¨è€…çš„å¼‚å¸¸ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ</li>
<li>åœ¨å‡ºç°å¼‚å¸¸çš„æ–¹æ³•çš„è°ƒç”¨è€…ä¸­æ•è·å¹¶å¤„ç†å¼‚å¸¸</li>
</ol>
<h1 id="7-å¸¸ç”¨ç±»"><a href="#7-å¸¸ç”¨ç±»" class="headerlink" title="7 å¸¸ç”¨ç±»"></a>7 å¸¸ç”¨ç±»</h1><h2 id="7-1-String"><a href="#7-1-String" class="headerlink" title="7.1 String"></a>7.1 String</h2><p>java.lang.Stringç±»ä»£è¡¨<strong>ä¸å¯å˜</strong>çš„å­—ç¬¦åºåˆ—</p>
<p>â€œxxxxxâ€ä¸ºè¯¥ç±»çš„ä¸€ä¸ªå¯¹è±¡</p>
<p>å¸¸è§æ„é€ æ–¹æ³•</p>
<ul>
<li><p>```java<br>String(String original)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ä¸ºoriginalçš„æ‹·è´</span><br><span class="line"></span><br><span class="line">+ ```java</span><br><span class="line">  String(char[] value)</span><br></pre></td></tr></table></figure>
<p>ç”¨ä¸€ä¸ªå­—ç¬¦æ•°ç»„åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡</p>
</li>
<li><p>```java<br>String(char[] value,int offset,int count)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  ç”¨ä¸€ä¸ªå­—ç¬¦æ•°ç»„ä»offseté¡¹å¼€å§‹çš„countä¸ªå­—ç¬¦åºåˆ—åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡</span><br><span class="line"></span><br><span class="line">Stringçš„ä¸å¯å˜æ€§</span><br><span class="line"></span><br><span class="line">+ å½“å¯¹å­—ç¬¦ä¸²é‡æ–°èµ‹å€¼æ—¶ï¼Œéœ€è¦é‡å†™æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œèµ‹å€¼</span><br><span class="line">+ å½“å¯¹ç°æœ‰çš„å­—ç¬¦ä¸²è¿›è¡Œè¿æ¥æ“ä½œæ—¶ï¼Œä¹Ÿéœ€è¦æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œæ“ä½œ</span><br><span class="line">+ å½“è°ƒç”¨replace()æ–¹æ³•ä¿®æ”¹æŒ‡å®šå­—ç¬¦æˆ–å­—ç¬¦ä¸²æ—¶ï¼Œä¹Ÿéœ€è¦é‡æ–°æŒ‡å®šå†…å­˜åŒºåŸŸ</span><br><span class="line"></span><br><span class="line">String StringBuffer StringBuilderä¸‰è€…çš„å¯¹æ¯”</span><br><span class="line"></span><br><span class="line">+ Stringï¼šä¸å¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œåº•å±‚ç”¨char[]å­˜å‚¨</span><br><span class="line">+ StringBufferï¼šå¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼Œåº•å±‚ç”¨char[]å­˜å‚¨</span><br><span class="line">+ StringBuilderï¼šå¯å˜çš„å­—ç¬¦åºåˆ—ï¼ŒJDK5æ–°å¢ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ï¼Œåº•å±‚ç”¨char[]å­˜å‚¨</span><br><span class="line"></span><br><span class="line">StringBufferåº•å±‚</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">String str = new String();//char[] value = new char[0];</span><br><span class="line">String str1 = new String(&quot;abc&quot;);//char[] value = new char[]&#123;&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;&#125;;</span><br><span class="line"></span><br><span class="line">StringBuffer sb = new StringBuffer();//char[] value = new char[16];</span><br><span class="line">System.out.println(sb.length());</span><br><span class="line">sb.append(&#x27;a&#x27;);</span><br><span class="line">sb.append(&#x27;b&#x27;);</span><br><span class="line">System.out.println(sb.length());</span><br><span class="line">StringBuffer sb2 = new StringBuffer(&quot;abc&quot;);//char[] value = new char[&quot;abc&quot;.length()+16]&#123;&#125;;</span><br><span class="line">System.out.println(sb2.length());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>StringBufferæ‰©å®¹</p>
<ul>
<li>å¦‚æœè¦æ·»åŠ çš„æ•°æ®åº•å±‚æ•°ç»„ç››ä¸ä¸‹äº†ï¼Œéœ€è¦æ‰©å®¹åº•å±‚çš„æ•°ç»„</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€+2ï¼ŒåŒæ—¶å°†åŸæœ‰æ•°ç»„ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­</li>
</ul>
<h2 id="7-2-Dateç±»"><a href="#7-2-Dateç±»" class="headerlink" title="7.2 Dateç±»"></a>7.2 Dateç±»</h2><p>æ„é€ å™¨ä½¿ç”¨</p>
<ul>
<li><p>```java<br>Date date = new Date();</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  åˆ›å»ºå¯¹åº”å½“å‰æ—¶é—´çš„Dateå¯¹è±¡</span><br><span class="line"></span><br><span class="line">+ ```java</span><br><span class="line">  new Date = new Date(21312334525L);</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºæŒ‡å®šæ—¶é—´æˆ³çš„Dateå¯¹è±¡</p>
</li>
</ul>
<p>æ–¹æ³•ä½¿ç”¨</p>
<ul>
<li><p>```java<br>System.out.println(date1.toString());</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  æ˜¾ç¤ºå½“å‰çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’</span><br><span class="line"></span><br><span class="line">+ ```java</span><br><span class="line">  System.out.println(data1.getTime());</span><br></pre></td></tr></table></figure>
<p>è·å¾—æ—¶é—´æˆ³ï¼Œç­‰åŒäºcurrentTimeMillis()</p>
</li>
</ul>
<p>SimpleDateFormat</p>
<p>å¯¹æ—¥æœŸDateç±»çš„æ ¼å¼åŒ–å’Œè§£æ</p>
<p>ä¸¤ä¸ªæ“ä½œ</p>
<ul>
<li><p>æ ¼å¼åŒ–ï¼šæ—¥æœŸ -&gt;å­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>();</span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">System.out.println(date);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> sdf.format(date);</span><br><span class="line">System.out.println(format);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>è§£æï¼šæ ¼å¼åŒ–çš„é€†è¿‡ç¨‹ å­—ç¬¦ä¸² -&gt;æ—¥æœŸ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;20-7-25 ä¸‹åˆ3:02&quot;</span>;</span><br><span class="line"><span class="type">Date</span> <span class="variable">parse</span> <span class="operator">=</span> sdf.parse(str);</span><br><span class="line">System.out.println(parse);</span><br></pre></td></tr></table></figure>
<p>å¸¦å‚çš„æŒ‡å®šæ ¼å¼çš„æ ¼å¼åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">sdf1</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">format1</span> <span class="operator">=</span> sdf1.format(date);</span><br><span class="line">System.out.println(format1);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Calendarç±»</p>
<p>æŠ½è±¡ç±»ï¼Œå®ä¾‹åŒ–éœ€è¦è°ƒç”¨</p>
<ul>
<li><p>Calendar.getInstance()æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­ç±»GregorianCalendarçš„æ„é€ å™¨</p>
</li>
</ul>
<p>set get add getTime setTimeæ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">days</span> <span class="operator">=</span> calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">calendar.set(Calendar.DAY_OF_MONTH,<span class="number">22</span>);</span><br><span class="line">calendar.add(Calendar.DAY_OF_MONTH,<span class="number">3</span>);</span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> calendar.getTime();<span class="comment">//æ—¥å†ç±»-&gt;Date</span></span><br><span class="line"></span><br><span class="line"><span class="type">Date</span> <span class="variable">date1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">calendar.setTime(date1);<span class="comment">//Date -&gt; æ—¥å†ç±»</span></span><br></pre></td></tr></table></figure>
<h2 id="7-3-Systemç±»"><a href="#7-3-Systemç±»" class="headerlink" title="7.3 Systemç±»"></a>7.3 Systemç±»</h2><h2 id="7-4-Mathç±»"><a href="#7-4-Mathç±»" class="headerlink" title="7.4 Mathç±»"></a>7.4 Mathç±»</h2><h2 id="7-5-BigInteger-BigDecimal"><a href="#7-5-BigInteger-BigDecimal" class="headerlink" title="7.5 BigInteger  BigDecimal"></a>7.5 BigInteger  BigDecimal</h2><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç ï¼š<a href="https://github.com/nuaazz/Java">nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript</title>
    <url>/2022/04/15/JavaScript/</url>
    <content><![CDATA[<h1 id="1-ä»€ä¹ˆæ˜¯JavaScript"><a href="#1-ä»€ä¹ˆæ˜¯JavaScript" class="headerlink" title="1 ä»€ä¹ˆæ˜¯JavaScript"></a>1 ä»€ä¹ˆæ˜¯JavaScript</h1><h2 id="1-1-æ¦‚è¿°"><a href="#1-1-æ¦‚è¿°" class="headerlink" title="1.1 æ¦‚è¿°"></a>1.1 æ¦‚è¿°</h2><p>JavaScriptæ˜¯ä¸€é—¨ä¸–ç•Œä¸Šæœ€æµè¡Œçš„è„šæœ¬è¯­è¨€</p>
<p>==åˆæ ¼çš„åç«¯äººå‘˜å¿…é¡»ç²¾é€šJavaScript==</p>
<h2 id="1-2-å†å²"><a href="#1-2-å†å²" class="headerlink" title="1.2 å†å²"></a>1.2 å†å²</h2><p>ECMAScriptå®ƒå¯ä»¥ç†è§£ä¸ºJavaScriptçš„ä¸€ä¸ªæ ‡å‡†</p>
<p>æœ€æ–°ç‰ˆæœ¬å·²ç»åˆ°es6ç‰ˆæœ¬~</p>
<p>ä½†æ˜¯å¤§éƒ¨åˆ†æµè§ˆå™¨è¿˜åªåœç•™åœ¨æ”¯æŒes5ä»£ç ä¸Šï¼</p>
<p>å¼€å‘ç¯å¢ƒâ€“çº¿ä¸Šç¯å¢ƒï¼Œç‰ˆæœ¬ä¸ä¸€è‡´</p>
<span id="more"></span>
<h1 id="2-å¿«é€Ÿå…¥é—¨"><a href="#2-å¿«é€Ÿå…¥é—¨" class="headerlink" title="2 å¿«é€Ÿå…¥é—¨"></a>2 å¿«é€Ÿå…¥é—¨</h1><h2 id="2-1-å¼•å…¥JavaScript"><a href="#2-1-å¼•å…¥JavaScript" class="headerlink" title="2.1 å¼•å…¥JavaScript"></a>2.1 å¼•å…¥JavaScript</h2><ol>
<li><p>å†…éƒ¨å¼•å…¥</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>abc.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>
<p>test.html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span> = <span class="string">&quot;abc.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    scriptæ ‡ç­¾å†…å†™jsä»£ç   --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;script&gt;    --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        alert(&#x27;hello world&#x27;);   --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/script&gt;   --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    å¤–éƒ¨å¼•å…¥    --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    æ³¨æ„ï¼šscriptæ ‡ç­¾å¿…é¡»æˆå¯¹å‡ºç°   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/zz.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ä¸ç”¨æ˜¾ç¤ºå®šä¹‰type  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-åŸºæœ¬è¯­æ³•å…¥é—¨"><a href="#2-2-åŸºæœ¬è¯­æ³•å…¥é—¨" class="headerlink" title="2.2 åŸºæœ¬è¯­æ³•å…¥é—¨"></a>2.2 åŸºæœ¬è¯­æ³•å…¥é—¨</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 1.å®šä¹‰å˜é‡ å˜é‡ç±»å‹ å˜é‡å = å˜é‡å€¼ï¼›</span></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;zz&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> score = <span class="number">60</span>;</span><br><span class="line"><span class="comment">// 2. æ¡ä»¶æ§åˆ¶</span></span><br><span class="line"><span class="keyword">if</span> (score &gt; <span class="number">60</span> &amp;&amp; score &lt;<span class="number">70</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;60-70&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(score &gt; <span class="number">70</span> &amp;&amp; score &lt;<span class="number">80</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;70-80&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;other&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">        * å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line"><span class="comment">//console.log(socre) åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰“å°å˜é‡</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨è°ƒè¯•</p>
<p><img src="/2022/04/15/JavaScript/image-20200812190136005.png" alt="image-20200812190136005"></p>
<h2 id="2-3-æ•°æ®ç±»å‹"><a href="#2-3-æ•°æ®ç±»å‹" class="headerlink" title="2.3 æ•°æ®ç±»å‹"></a>2.3 æ•°æ®ç±»å‹</h2><p>æ•°å€¼ æ–‡æœ¬ å›¾å½¢ éŸ³é¢‘ è§†é¢‘</p>
<p>==å˜é‡==</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = xxx;</span><br></pre></td></tr></table></figure>
<p>==number==</p>
<p>jsä¸åŒºåˆ†å°æ•°å’Œæ•´æ•°</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">123</span><span class="comment">//æ•´æ•°123</span></span><br><span class="line"><span class="number">123.</span><span class="comment">//æµ®ç‚¹æ•°123.1</span></span><br><span class="line"><span class="number">1.123e3</span><span class="comment">//ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line">-<span class="number">99</span><span class="comment">//è´Ÿæ•°</span></span><br><span class="line"><span class="title class_">NaN</span><span class="comment">//not a number</span></span><br><span class="line"><span class="title class_">Infinity</span> <span class="comment">//æ— é™å¤§</span></span><br></pre></td></tr></table></figure>
<p>==å­—ç¬¦ä¸²==</p>
<p>â€˜abcâ€™ â€œabcâ€</p>
<p>==å¸ƒå°”å€¼==</p>
<p>true false</p>
<p>==é€»è¾‘è¿ç®—==</p>
<p>&amp;&amp; || !</p>
<p>==æ¯”è¾ƒè¿ç®—ç¬¦==</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">= <span class="comment">//èµ‹å€¼</span></span><br><span class="line">== <span class="comment">//ç­‰äº ç±»å‹ä¸ä¸€æ ·ï¼Œå€¼ä¸€æ · ä¹Ÿæ˜¯true</span></span><br><span class="line">=== <span class="comment">//ç»å¯¹ç­‰äº ç±»å‹ä¸€æ ·å€¼ä¸€æ ·</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯JSçš„ä¸€ä¸ªç¼ºé™·ï¼Œä¸è¦ç”¨==æ¯”è¾ƒ</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>NaN===NaN ä¸ºfalseï¼Œè¿™ä¸ªå€¼ä¸æ‰€æœ‰æ•°å€¼éƒ½ä¸æƒ³ç­‰ï¼ŒåŒ…æ‹¬è‡ªå·±</li>
<li>åªèƒ½é€šè¿‡isNaNï¼ˆNaNï¼‰æ¥åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯ä¸æ˜¯NaN</li>
</ul>
<p>æµ®ç‚¹æ•°é—®é¢˜</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="number">1</span>/<span class="number">3</span>)===(<span class="number">1</span>-<span class="number">2</span>/<span class="number">3</span>))</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æœ‰ç²¾åº¦æŸå¤±ï¼Œå°½é‡é¿å…ä½¿ç”¨æµ®ç‚¹æ•°è¿›è¡Œè¿ç®—</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(((<span class="number">1</span>/<span class="number">3</span>)-(<span class="number">1</span>-<span class="number">2</span>/<span class="number">3</span>))&lt;<span class="number">0.00000000001</span>)</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>==nullå’Œundefined==</p>
<p>null ç©º</p>
<p>undefined æœªå®šä¹‰</p>
<p>==æ•°ç»„==</p>
<p>ä¸€äº›==åˆ—==ç±»å‹ç›¸åŒçš„å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¿è¯ä»£ç å¯è¯»æ€§ï¼Œå°½é‡ä½¿ç”¨[]</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="string">&quot;hello&quot;</span>,<span class="literal">null</span>,<span class="literal">true</span>]</span><br><span class="line"><span class="keyword">new</span> <span class="title function_">arr</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="string">&quot;hello&quot;</span>,<span class="literal">null</span>,<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>å–æ•°ç»„ä¸‹æ ‡è¶Šç•Œä¼šundefined</p>
<p>==å¯¹è±¡==</p>
<p>å¯¹è±¡æ˜¯{} æ•°ç»„æ˜¯[]</p>
<p>æ¯ä¸ªå±æ€§ç›´æ¥ç”¨é€—å·éš”å¼€ï¼Œæœ€åä¸€ä¸ªä¸éœ€è¦æ·»åŠ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person&#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;zz&#x27;</span>,</span><br><span class="line">	<span class="attr">age</span>:<span class="number">3</span>,</span><br><span class="line">	tages[<span class="string">&#x27;js&#x27;</span>,<span class="string">&#x27;java&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">person.<span class="property">name</span></span><br><span class="line">&gt; zz</span><br></pre></td></tr></table></figure>
<h2 id="2-4-ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼"><a href="#2-4-ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼" class="headerlink" title="2.4 ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼"></a>2.4 ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    &#x27;use strict&#x27;; ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼ï¼Œé¢„é˜²JSçš„éšæ„æ€§äº§ç”Ÿçš„ä¸€äº›é—®é¢˜</span></span><br><span class="line"><span class="comment">    å¿…é¡»å¸è½½ç¬¬ä¸€è¡Œ</span></span><br><span class="line"><span class="comment">    å±€éƒ¨å˜é‡å»ºè®®ä½¿ç”¨let å®šä¹‰</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="meta"></span></span></span><br><span class="line"><span class="meta"><span class="language-javascript">    &#x27;use strict&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å…¨å±€å˜é‡</span></span></span><br><span class="line"><span class="language-javascript">    i = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å±€éƒ¨å˜é‡</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> i1 = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//ES6 let</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> i2 = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="3-æ•°æ®ç±»å‹"><a href="#3-æ•°æ®ç±»å‹" class="headerlink" title="3 æ•°æ®ç±»å‹"></a>3 æ•°æ®ç±»å‹</h1><h2 id="3-1-å­—ç¬¦ä¸²"><a href="#3-1-å­—ç¬¦ä¸²" class="headerlink" title="3.1 å­—ç¬¦ä¸²"></a>3.1 å­—ç¬¦ä¸²</h2><ol>
<li>æ­£å¸¸çš„å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·åŒ…è£¹</li>
<li>ä½¿ç”¨è½¬ä¹‰å­—ç¬¦</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">\<span class="string">&#x27;</span></span><br><span class="line"><span class="string">\n</span></span><br><span class="line"><span class="string">\t</span></span><br><span class="line"><span class="string">\u4e2t //\u#### Unicodeå­—ç¬¦</span></span><br><span class="line"><span class="string">\x41 //Ascllå­—ç¬¦</span></span><br></pre></td></tr></table></figure>
<ol>
<li><p>å¤šè¡Œå­—ç¬¦ä¸²ç¼–å†™</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> msg =<span class="string">`hello</span></span><br><span class="line"><span class="string">world`</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡æ¿å­—ç¬¦ä¸²</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;zz&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> msg1 = <span class="string">`hello,<span class="subst">$&#123;name&#125;</span>`</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²é•¿åº¦</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">str.<span class="property">length</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²å¯å˜æ€§ï¼šä¸å¯å˜</p>
</li>
<li><p>å¤§å°å†™è½¬æ¢ æ˜¯æ–¹æ³•ä¸æ˜¯å±æ€§</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">str.<span class="title function_">toUpperCase</span>()</span><br><span class="line">str.<span class="title function_">toLowerCase</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p>```javascript<br>str.indexOf(â€˜substrâ€™)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">9. ```javascript</span><br><span class="line">   str.substring(1,3) //[&#125; å·¦é—­å³å¼€</span><br><span class="line">   str.substring(1) //ä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ª</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="3-2-æ•°ç»„"><a href="#3-2-æ•°ç»„" class="headerlink" title="3.2 æ•°ç»„"></a>3.2 æ•°ç»„</h2><p><strong>Arrayå¯ä»¥åŒ…å«ä»»æ„çš„æ•°æ®ç±»å‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<ol>
<li><p>é•¿åº¦</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.<span class="property">length</span> = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šç»™arr.lengthèµ‹å€¼ï¼Œæ•°ç»„å¤§å°ä¼šå‘ç”Ÿå˜åŒ–ï¼Œèµ‹å€¼å›½å°å…ƒç´ ä¼šä¸¢å¤±ï¼Œè¿‡å¤§ä¼šå¾—åˆ°undefined</p>
</li>
<li><p>indexOf é€šè¿‡å…ƒç´ è·å¾—ä¸‹æ ‡æ‰€ä»¥</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">indexOf</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²çš„â€˜1â€™å’Œæ•°å­—1ä¸åŒ</p>
</li>
<li><p>slice()æˆªå–arrayçš„ä¸€éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç±»ä¼¼äºsubstring</p>
</li>
<li><p>push pop</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">push</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">arr.<span class="property">pop</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>unshift,shift å¤´éƒ¨å‹å…¥ å¼¹å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">arr.unshift()</span><br><span class="line">arr.shift()</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ’åº sort</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;A&#x27;</span>]</span><br><span class="line">arr.<span class="title function_">sort</span>()</span><br><span class="line">[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…ƒç´ åè½¬</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">reverse</span>()</span><br><span class="line">[<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;A&#x27;</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>concat() æ‹¼æ¥å­—ç¬¦ä¸² </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;A&#x27;</span>]</span><br><span class="line">arr.<span class="title function_">concat</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">[<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr</span><br><span class="line">[<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;A&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>concat()ä¸æ”¹å˜åŸæ¥çš„æ•°ç»„ï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</p>
</li>
<li><p>è¿æ¥ç¬¦ join</p>
<p>æ‰“å°æ‹¼æ¥æ•°ç»„ï¼Œä½¿ç”¨ç‰¹å®šçš„å­—ç¬¦ä¸²è¿æ¥</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;A&#x27;</span>]</span><br><span class="line">arr.<span class="property">join</span></span><br><span class="line"><span class="string">&quot;C-B-A&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤šç»´æ•°ç»„</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr=[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>]]</span><br><span class="line">arr[<span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>æ•°ç»„ï¼šå­˜å‚¨æ•°æ®ï¼ˆå¦‚ä½•å­˜ å–ï¼‰</p>
<h2 id="3-3-å¯¹è±¡"><a href="#3-3-å¯¹è±¡" class="headerlink" title="3.3 å¯¹è±¡"></a>3.3 å¯¹è±¡</h2><p>è‹¥å¹²ä¸ªé”®å€¼å¯¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var å¯¹è±¡å = &#123;</span><br><span class="line">	å±æ€§åï¼šå±æ€§å€¼ï¼Œ</span><br><span class="line">	å±æ€§åï¼šå±æ€§å€¼ï¼Œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;zz&#x27;</span>,</span><br><span class="line">    age : <span class="number">3</span>,</span><br><span class="line">    <span class="attr">email</span>:<span class="string">&quot;sadada@qq.com&quot;</span>      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JSä¸­çš„å¯¹è±¡ï¼Œ{â€¦}è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ï¼Œé”®å€¼å¯¹æè¿°å±æ€§ xxxï¼šxxxï¼Œå¤šä¸ªå±æ€§ä¹‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼Œæœ€åä¸€ä¸ªå±æ€§ä¸åŠ é€—å·</p>
<p>JSä¸­çš„æ‰€æœ‰é”®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼æ˜¯ä»»æ„å¯¹è±¡</p>
<ol>
<li><p>å¯¹è±¡èµ‹å€¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">person.<span class="property">name</span> = <span class="string">&#x27;zz&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å¯¹è±¡å±æ€§ä¸ä¼šæŠ¥é”™</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">person.<span class="property">haha</span></span><br><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ¨æ€çš„åˆ å‡å±æ€§</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> person.<span class="property">name</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ¨æ€çš„æ·»åŠ ,ç›´æ¥ç»™æ–°çš„å±æ€§æ·»åŠ å€¼å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">person.haha = &quot;haha&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­å±æ€§å€¼æ˜¯å¦åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ xxx in xxx</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;age&#x27; in person</span><br><span class="line">true</span><br><span class="line">//ç»§æ‰¿</span><br><span class="line">&#x27;toString&#x27; in person</span><br><span class="line">true</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯è¿™ä¸ªå¯¹è±¡è‡ªèº«æ‹¥æœ‰çš„hasOwnPropertyï¼ˆï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">person.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;toString&#x27;</span>)</span><br><span class="line"><span class="literal">false</span></span><br><span class="line">person.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;age&#x27;</span>)</span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="3-4-æµç¨‹æ§åˆ¶"><a href="#3-4-æµç¨‹æ§åˆ¶" class="headerlink" title="3.4 æµç¨‹æ§åˆ¶"></a>3.4 æµç¨‹æ§åˆ¶</h2><p>ifåˆ¤æ–­</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (score &gt; <span class="number">60</span> &amp;&amp; score &lt;<span class="number">70</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;60-70&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(score &gt; <span class="number">70</span> &amp;&amp; score &lt;<span class="number">80</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;70-80&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;other&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ªç¯</p>
<p>while</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (age &lt; <span class="number">100</span>)&#123;</span><br><span class="line">	age = age + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">do</span> (age &lt; <span class="number">100</span>)&#123;</span><br><span class="line">	age = age + <span class="number">1</span>;</span><br><span class="line">&#125;<span class="keyword">while</span> (age &lt; <span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<p>for</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">	i = i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>forEach å¾ªç¯ï¼Œ5.1å¼•å…¥</p>
</blockquote>
<p>æ•°ç»„å¾ªç¯</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">age.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">value</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> num <span class="keyword">in</span> age)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age[num])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-5-Mapå’ŒSet"><a href="#3-5-Mapå’ŒSet" class="headerlink" title="3.5 Mapå’ŒSet"></a>3.5 Mapå’ŒSet</h2><blockquote>
<p>ES6æ–°ç‰¹æ€§</p>
</blockquote>
<p>Map</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&#x27;tom&#x27;</span>,<span class="number">100</span>],[<span class="string">&#x27;jack&#x27;</span>,<span class="number">90</span>],[<span class="string">&#x27;haha&#x27;</span>,<span class="number">80</span>]]);</span><br><span class="line"><span class="keyword">var</span> name = map.<span class="title function_">get</span>(<span class="string">&#x27;tom&#x27;</span>)ï¼›</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;admin&#x27;</span>,<span class="number">123456</span>)ï¼›</span><br><span class="line">map.<span class="title function_">delete</span>(<span class="string">&#x27;tom&#x27;</span>)ï¼›</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br></pre></td></tr></table></figure>
<p>Set: æ— åºä¸é‡å¤é›†åˆ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]);<span class="comment">//å»é‡</span></span><br><span class="line"><span class="comment">//[3,1]</span></span><br><span class="line">set.<span class="title function_">add</span>(<span class="number">2</span>);</span><br><span class="line">set.<span class="title function_">delete</span>(<span class="number">1</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">has</span>(<span class="number">3</span>));</span><br></pre></td></tr></table></figure>
<h2 id="3-6-iterator"><a href="#3-6-iterator" class="headerlink" title="3.6 iterator"></a>3.6 iterator</h2><p>éå†æ•°ç»„</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// for of   for inæ˜¯ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> x <span class="keyword">of</span> arr)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éå†map</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&#x27;tom&#x27;</span>,<span class="number">100</span>],[<span class="string">&#x27;jack&#x27;</span>,<span class="number">90</span>],[<span class="string">&#x27;haha&#x27;</span>,<span class="number">80</span>]]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> map)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éå†set</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> set)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-å‡½æ•°åŠé¢å‘å¯¹è±¡"><a href="#4-å‡½æ•°åŠé¢å‘å¯¹è±¡" class="headerlink" title="4 å‡½æ•°åŠé¢å‘å¯¹è±¡"></a>4 å‡½æ•°åŠé¢å‘å¯¹è±¡</h1><h2 id="4-1-å‡½æ•°å®šä¹‰åŠå˜é‡ä½œç”¨åŸŸ"><a href="#4-1-å‡½æ•°å®šä¹‰åŠå˜é‡ä½œç”¨åŸŸ" class="headerlink" title="4.1 å‡½æ•°å®šä¹‰åŠå˜é‡ä½œç”¨åŸŸ"></a>4.1 å‡½æ•°å®šä¹‰åŠå˜é‡ä½œç”¨åŸŸ</h2><blockquote>
<p>å®šä¹‰æ–¹å¼1</p>
</blockquote>
<p>ç»å¯¹å€¼å‡½æ•°</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">abs</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">if</span> (x &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> x;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> -x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€æ—¦æ‰§è¡Œåˆ°returnä»£è¡¨å‡½æ•°ç»“æŸï¼Œè¿”å›ç»“æœ</p>
<p>å¦‚æœæ²¡æœ‰æ‰§è¡Œreturnï¼Œå‡½æ•°ä¹Ÿä¼šè¿”å›ç»“æœï¼Œç»“æœæ˜¯undefined</p>
<blockquote>
<p>å®šä¹‰æ–¹å¼2</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> abs = <span class="keyword">function</span>(<span class="params">x</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span> (x &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> x;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> -x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>function(x){â€¦}æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå¯ä»¥æŠŠç»“æœèµ‹å€¼ç»™absï¼Œé€šè¿‡abså°±å¯ä»¥è°ƒç”¨å‡½æ•°</p>
<p>æ–¹æ³•ä¸€å’Œæ–¹æ³•äºŒç­‰ä»·</p>
<blockquote>
<p>è°ƒç”¨å‡½æ•°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">abs</span>(<span class="number">10</span>)<span class="comment">//10</span></span><br><span class="line"><span class="title function_">ab</span>(-<span class="number">10</span>)<span class="comment">//10</span></span><br></pre></td></tr></table></figure>
<p>å‚æ•°é—®é¢˜ï¼šJSå¯ä»¥ä¼ ä»»æ„ä¸ªå‚æ•°ä¹Ÿå¯ä»¥ä¸ä¼ </p>
<p>å‚æ•°ä¼ è¿›æ¥æ˜¯å¦å­˜åœ¨ï¼Ÿ</p>
<p>å¦‚æœä¸å­˜åœ¨å‚æ•°ï¼Œå¦‚ä½•è§„é¿ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> abs = <span class="keyword">function</span>(<span class="params">x</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(typeif x!== <span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">	<span class="keyword">throw</span> <span class="string">&#x27;not a number&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (x &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> x;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> -x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>arguments</p>
</blockquote>
<p>argumentsæ˜¯ä¸€ä¸ªJSå…è´¹èµ é€çš„å…³é”®å­—ï¼Œä»£è¡¨ä¼ é€’è¿›æ¥çš„æ‰€æœ‰å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> abs = <span class="keyword">function</span>(<span class="params">x</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;x=&gt;&quot;</span>+x);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="variable language_">arguments</span>.<span class="property">length</span>; i++)&#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (x &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> x;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> -x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é—®é¢˜:arguments åŒ…å«æ‰€æœ‰çš„å‚æ•°ï¼Œæœ‰æ—¶å€™æƒ³ä½¿ç”¨å¤šä½™çš„å‚æ•°æ¥è¿›è¡Œé™„åŠ æ“ä½œï¼Œéœ€è¦æ’é™¤å·²æœ‰çš„å‚æ•°</p>
<blockquote>
<p>rest</p>
</blockquote>
<p>ä»¥å‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable language_">arguments</span>.<span class="property">length</span>&gt;<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œè·å–é™¤äº†å·²å®šä¹‰å‚æ•°ä¹‹å¤–çš„æ‰€æœ‰å‚æ•°</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">aaa</span>(<span class="params">a,b,...rest</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(rest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>restå‚æ•°åªèƒ½å†™åœ¨æœ€åé¢ï¼Œå¿…é¡»ç”¨â€¦æ ‡è¯†</p>
<h2 id="4-2-å˜é‡ä½œç”¨åŸŸ"><a href="#4-2-å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="4.2 å˜é‡ä½œç”¨åŸŸ"></a>4.2 å˜é‡ä½œç”¨åŸŸ</h2><p>åœ¨JSä¸­ï¼Œvarå®šä¹‰å˜é‡å®é™…ä¸Šæ˜¯ç”±ä½œç”¨åŸŸ</p>
<p>åŠ å…¥åœ¨å‡½æ•°ä½“ä¸­å£°æ˜ï¼Œåˆ™åœ¨å‡½æ•°ä½“å¤–ä¸èƒ½ä½¿ç”¨ï¼ˆå¯ä»¥é€šè¿‡é—­åŒ…å®ç°ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zz</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//x = x + 2 ;Uncaught ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure>
<p>ä¸¤ä¸ªå‡½æ•°ä½¿ç”¨äº†ç›¸åŒçš„å˜é‡åï¼Œåªè¦åœ¨å‡½æ•°å†…éƒ¨ï¼Œå°±ä¸å†²çª</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zz</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">zz2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œåä¹‹åˆ™ä¸è¡Œ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zz</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">zz2</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">//å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡</span></span><br><span class="line">            <span class="keyword">var</span> y = x + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¤–éƒ¨å‡½æ•°ä¸èƒ½è®¿é—®å†…éƒ¨å‡½æ•°çš„å˜é‡</span></span><br><span class="line">        <span class="comment">//var z = y + 1;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å˜é‡é‡åæ—¶ï¼Œå‡½æ•°æŸ¥æ‰¾å˜é‡ä»è‡ªèº«å¼€å§‹ï¼Œç”±å†…å‘å¤–æŸ¥æ‰¾</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">zz</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">zz2</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">//å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡</span></span><br><span class="line">            <span class="keyword">var</span> x =  <span class="number">2</span>;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(x);<span class="comment">//2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">zz2</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">zz</span>();</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æå‡å˜é‡çš„ä½œç”¨åŸŸ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zz</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="string">&quot;x&quot;</span> + y;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">	<span class="keyword">var</span> y = <span class="string">&#x27;y&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœ xundefined</p>
<p>è¯´æ˜JSçš„æ‰§è¡Œå¼•æ“è‡ªåŠ¨æå‡äº†yçš„å£°æ˜ï¼Œä½†ä¸ä¼šæå‡å˜é‡yçš„èµ‹å€¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zz2</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">var</span> y;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="string">&quot;x&quot;</span> + y;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">	<span class="keyword">var</span> y = <span class="string">&#x27;y&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯åœ¨JSå»ºç«‹ä¹‹åˆå°±å­˜åœ¨çš„ç‰¹æ€§ã€‚è§„èŒƒï¼šæ‰€æœ‰å˜é‡çš„å®šä¹‰éƒ½å¸è½½å‡½æ•°å¤´éƒ¨ï¼Œä¾¿äºç»´æŠ¤ï¼›</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">zz3</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="number">1</span>,</span><br><span class="line">		y = x + <span class="number">1</span>,</span><br><span class="line">		z,i,a;<span class="comment">//undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…¨å±€å‡½æ•°</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…¨å±€å¯¹è±¡window</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line"><span class="title function_">alert</span>(x);</span><br><span class="line"><span class="title function_">alert</span>(<span class="variable language_">window</span>.<span class="property">x</span>);<span class="comment">//é»˜è®¤çš„æ‰€æœ‰å…¨å±€å˜é‡éƒ½è‡ªåŠ¨ç»‘å®šåœ¨windowå¯¹è±¡ä¸‹</span></span><br></pre></td></tr></table></figure>
<p>alert()å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯windowçš„ä¸€å˜é‡</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x =<span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line"><span class="variable language_">window</span>. <span class="title function_">alert</span>(x);</span><br><span class="line"><span class="keyword">var</span> o1d_ _alert = <span class="variable language_">window</span>. alert;</span><br><span class="line"><span class="comment">//o1d_ alert(x);</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">alert</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line"><span class="comment">//å‘ç°alertO å¤±æ•ˆäº†</span></span><br><span class="line"><span class="variable language_">window</span>. <span class="title function_">alert</span>(<span class="number">123</span>);</span><br><span class="line"><span class="comment">//æ¢å¤</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">alert</span> = o1d_ _alert;</span><br><span class="line"><span class="variable language_">window</span>. <span class="title function_">alert</span>(<span class="number">456</span>);</span><br></pre></td></tr></table></figure>
<p>Javascriptå®é™…ä¸Šåªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸï¼Œä»»ä½•å˜é‡ï¼ˆå‡½æ•°ä¹Ÿå¯ä»¥è§†ä¸ºå˜é‡ï¼‰ï¼Œå‡è®¾æ²¡æœ‰åœ¨å‡½æ•°ä½œç”¨èŒƒå›´ï¼Œå°±ä¼šå‘å¤–æŸ¥æ‰¾ï¼Œå¦‚æœåœ¨å…¨å±€ä½œç”¨åŸŸéƒ½æ²¡æœ‰æ‰¾åˆ°ï¼ŒæŠ¥é”™<code>RefrenceError</code></p>
<blockquote>
<p>è§„èŒƒ</p>
</blockquote>
<p>ç”±äºæˆ‘ä»¬æ‰€æœ‰çš„å…¨å±€å˜é‡éƒ½ä¼šç»‘å®šåˆ°æˆ‘ä»¬çš„windowä¸Šã€‚å¦‚æœä¸åŒçš„jsæ–‡ä»¶ï¼Œä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œå†²çª-&gt;å¦‚ä½•èƒ½å¤Ÿå‡å°‘å†²çªï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å”¯ä¸€å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ZzApp</span> = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰å…¨å±€å˜é‡</span></span><br><span class="line"><span class="title class_">ZzApp</span>.<span class="property">name</span> = <span class="string">&#x27;zz&#x27;</span>;</span><br><span class="line"><span class="title class_">ZzApp</span>.<span class="property">add</span> = <span class="keyword">function</span> (<span class="params">a,b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŠŠè‡ªå·±çš„ä»£ç å…¨éƒ¨æ”¾å…¥è‡ªå·±å®šä¹‰çš„å”¯ä¸€ç©ºé—´åå­—ä¸­ï¼Œé™ä½å…¨å±€å‘½åå†²çªçš„é—®é¢˜ã€‚ï¼ˆjQueryï¼‰</p>
<blockquote>
<p>å±€éƒ¨ä½œç”¨åŸŸlet</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">aaa</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span> ;i++)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i+<span class="number">1</span>);<span class="comment">//é—®é¢˜ï¼Œi å‡ºäº†è¿™ä¸ªä½œç”¨åŸŸè¿˜å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6ï¼š<code>let</code>å…³é”®å­—ï¼Œè§£å†³å±€éƒ¨ä½œç”¨åŸŸå†²çªé—®é¢˜ï¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">aaa</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span> ;i++)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i+<span class="number">1</span>);<span class="comment">//é—®é¢˜ï¼Œi å‡ºäº†è¿™ä¸ªä½œç”¨åŸŸè¿˜å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å»ºè®®å¤§å®¶éƒ½ç”¨<code>let</code>å–å®šä¹‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡</p>
<blockquote>
<p>å¸¸é‡ï¼šconst</p>
</blockquote>
<p><strong>ES6ä¹‹å‰ï¼Œæ€ä¹ˆå®šä¹‰å¸¸é‡ï¼šåªæœ‰ç”¨å…¨éƒ¨å¤§å†™å­—æ¯å‘½åçš„å˜é‡å°±æ˜¯å¸¸é‡ï¼šå»ºè®®ä¸è¦ä¿®æ”¹è¿™æ ·çš„å€¼ã€‚</strong></p>
<p>åœ¨ES6å¼•å…¥äº†å¸¸é‡å…³é”®å­—ï¼š<code>const</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="string">&#x27;3.14&#x27;</span>;<span class="comment">//åªè¯»æ•ˆæœ</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">PI</span>);</span><br><span class="line"><span class="variable constant_">PI</span> = <span class="string">&#x27;123&#x27;</span>;<span class="comment">//Uncaught TypeError: Assignment to constant variable.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">PI</span>);</span><br></pre></td></tr></table></figure>
<h2 id="4-3-æ–¹æ³•"><a href="#4-3-æ–¹æ³•" class="headerlink" title="4.3 æ–¹æ³•"></a>4.3 æ–¹æ³•</h2><blockquote>
<p>å®šä¹‰æ–¹æ³•ï¼ˆæ–¹æ³•å°±æ˜¯æŠŠå‡½æ•°æ”¾åœ¨å¯¹è±¡é‡Œé¢ï¼Œå¯¹è±¡ä¸­åªæœ‰2ä¸ªä¸œè¥¿ï¼šå±æ€§å’Œæ–¹æ³•ï¼‰</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> zz = &#123;</span><br><span class="line">    name = <span class="string">&#x27;zz&#x27;</span>,</span><br><span class="line">    brith :<span class="number">2020</span>,</span><br><span class="line">    <span class="comment">//æ–¹æ³•</span></span><br><span class="line">    <span class="attr">age</span>:<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//ä»Šå¹´-å‡ºç”Ÿå¹´æœˆ</span></span><br><span class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getFullYear</span>();</span><br><span class="line">        <span class="keyword">return</span> now - <span class="variable language_">this</span>.<span class="property">brith</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å±æ€§</span></span><br><span class="line">zz.<span class="property">name</span>;</span><br><span class="line"><span class="comment">//æ–¹æ³•ï¼Œä¸€å®šè¦å¸¦()</span></span><br><span class="line">zz.<span class="title function_">age</span>();</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getAge</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getFullYear</span>();</span><br><span class="line">    <span class="keyword">return</span> now-<span class="variable language_">this</span>.<span class="property">birth</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> zz = &#123;</span><br><span class="line">    name : <span class="string">&#x27;zz&#x27;</span>,</span><br><span class="line">    birth : <span class="number">2000</span>,</span><br><span class="line">    <span class="comment">//æ–¹æ³•</span></span><br><span class="line">    <span class="attr">age</span>:getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//zz.age()    =&gt;ok</span></span><br><span class="line"><span class="comment">//getAge()     =&gt;NaN</span></span><br></pre></td></tr></table></figure>
<p><strong>thisæ˜¯æ— æ³•æŒ‡å‘çš„ï¼Œæ˜¯é»˜è®¤æŒ‡å‘è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡</strong></p>
<blockquote>
<p>apply æ‰€æœ‰å¯¹è±¡éƒ½æœ‰apply</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">getAge.<span class="title function_">apply</span>(zz,[]);<span class="comment">//this æŒ‡å‘äº†zz</span></span><br></pre></td></tr></table></figure>
<h1 id="5-å†…éƒ¨å¯¹è±¡"><a href="#5-å†…éƒ¨å¯¹è±¡" class="headerlink" title="5 å†…éƒ¨å¯¹è±¡"></a>5 å†…éƒ¨å¯¹è±¡</h1><blockquote>
<p>æ ‡å‡†å¯¹è±¡ </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">123</span></span><br><span class="line"><span class="string">&quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">NaN</span></span><br><span class="line"><span class="string">&quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> []</span><br><span class="line"><span class="string">&quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125;</span><br><span class="line"><span class="string">&quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Math</span>.<span class="property">abs</span></span><br><span class="line"><span class="string">&quot;function&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span></span><br><span class="line"><span class="string">&quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-1-Date"><a href="#5-1-Date" class="headerlink" title="5.1 Date"></a>5.1 Date</h2><p><strong>åŸºæœ¬ä½¿ç”¨</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();<span class="comment">//</span></span><br><span class="line">now.<span class="title function_">getFullYear</span>();<span class="comment">//å¹´</span></span><br><span class="line">now.<span class="title function_">getMonth</span>();<span class="comment">//æœˆ</span></span><br><span class="line">now.<span class="title function_">getDate</span>();<span class="comment">//æ—¥</span></span><br><span class="line">now.<span class="title function_">getDay</span>();<span class="comment">//æ˜ŸæœŸå‡ </span></span><br><span class="line">now.<span class="title function_">getHours</span>();<span class="comment">//æ—¶</span></span><br><span class="line">now.<span class="title function_">getMinutes</span>();<span class="comment">//åˆ†</span></span><br><span class="line">now.<span class="title function_">getSeconds</span>();<span class="comment">//ç§’</span></span><br><span class="line"></span><br><span class="line">now.<span class="title function_">getTime</span>();<span class="comment">//æ—¶é—´æˆ³ å…¨ä¸–ç•Œç»Ÿä¸€ 1970 1.1 0:00:00</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1589096655409</span>));<span class="comment">//æ—¶é—´æˆ³è½¬æ—¶é—´</span></span><br></pre></td></tr></table></figure>
<p><strong>è½¬æ¢</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æœ¬åœ°æ—¶é—´</span></span><br><span class="line">now.<span class="title function_">toLocaleString</span>();</span><br><span class="line"><span class="string">&quot;2020/5/10 ä¸‹åˆ3:44:15&quot;</span></span><br><span class="line"><span class="comment">//ä¸œå…«åŒº</span></span><br><span class="line">now.<span class="title function_">toGMTString</span>();</span><br><span class="line"><span class="string">&quot;Sun, 10 May 2020 07:44:15 GMT&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-2-JOSN"><a href="#5-2-JOSN" class="headerlink" title="5.2 JOSN"></a>5.2 JOSN</h2><blockquote>
<p>JSONæ˜¯ä»€ä¹ˆ</p>
</blockquote>
<p>æ—©æœŸï¼Œæ‰€æœ‰æ•°æ®ä¼ è¾“ä¹ æƒ¯ä½¿ç”¨XML</p>
<ul>
<li><a href="https://baike.baidu.com/item/JSON">JSON</a>(<a href="https://baike.baidu.com/item/JavaScript">JavaScript</a> Object Notation, JS å¯¹è±¡ç®€è°±) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼</li>
<li>ç®€æ´å’Œæ¸…æ™°çš„<strong>å±‚æ¬¡ç»“æ„</strong>ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚</li>
<li>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li>
</ul>
<p>åœ¨Javascriptä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œä»»ä½•js æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥ç”¨JSONæ¥è¡¨ç¤ºï¼šnumberï¼Œstring</p>
<p>æ ¼å¼ï¼š</p>
<ul>
<li>å¯¹è±¡éƒ½ç”¨ {}</li>
<li>æ•°ç»„éƒ½ç”¨ []</li>
<li>æ‰€æœ‰çš„é”®å€¼å¯¹ éƒ½æ˜¯ç”¨ key:value</li>
</ul>
<p>JSON å­—ç¬¦ä¸²å’Œ JS å¯¹è±¡çš„è½¬æ¢</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;zz&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">3</span>,</span><br><span class="line"><span class="attr">sex</span>: <span class="string">&#x27;ç”·&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯¹è±¡è½¬æ¢jsonå­—ç¬¦ä¸²:&#123;&quot;name&quot;:&quot;zz&quot;,&quot;age&quot;:3,&quot;sex&quot;:&quot;ç”·&quot;&#125;</span></span><br><span class="line"><span class="keyword">var</span> jsonUser = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonUser);</span><br><span class="line"></span><br><span class="line"><span class="comment">//json  å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡ï¼Œå‚æ•°ä¸ºjsonå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&#123;&quot;name&quot;:&quot;zz&quot;,&quot;age&quot;:3,&quot;sex&quot;:&quot;ç”·&quot;&#125;&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure>
<p>JSON å’Œ JS å¯¹è±¡çš„åŒºåˆ«ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">&quot;zz&quot;</span>,<span class="attr">age</span>:<span class="number">3</span>,<span class="attr">sex</span>:<span class="string">&quot;ç”·&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> json = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;zz&quot;,&quot;age&quot;:3,&quot;sex&quot;:&quot;ç”·&quot;&#125;&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="5-3-Ajax"><a href="#5-3-Ajax" class="headerlink" title="5.3 Ajax"></a>5.3 Ajax</h2><ul>
<li>åŸç”Ÿçš„Javascriptå†™æ³•ï¼Œxhrå¼‚æ­¥è¯·æ±‚</li>
<li>jQueryå°è£…å¥½çš„æ–¹æ³• $(â€œ#nameâ€).ajax(â€œâ€)</li>
<li>axiosè¯·æ±‚</li>
</ul>
<h1 id="6-é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#6-é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="6 é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>6 é¢å‘å¯¹è±¡ç¼–ç¨‹</h1><blockquote>
<p>åŸå‹</p>
</blockquote>
<p>Javascriptã€Javaã€C#â€¦é¢å‘å¯¹è±¡ï¼šJavascriptæœ‰äº›åŒºåˆ«</p>
<ul>
<li>ç±»ï¼šæ¨¡æ¿</li>
<li>å¯¹è±¡ï¼šå…·ä½“å®ä¾‹</li>
</ul>
<p>åœ¨Javascriptè¿™ä¸ªéœ€è¦å¤§å®¶æ¢ä¸€ä¸‹æ€ç»´</p>
<p>åŸå‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é¢å‘å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Student</span> = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;liusx&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">3</span>,</span><br><span class="line"><span class="attr">run</span>:<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>+<span class="string">&quot;run.....&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;å°æ˜&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å°æ˜çš„åŸå‹ æ˜¯Student</span></span><br><span class="line">xiaoming.<span class="property">__proto__</span> = <span class="title class_">Student</span>;</span><br><span class="line">xiaoming.<span class="title function_">run</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Bird</span> = &#123;</span><br><span class="line"><span class="attr">fly</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;fly......&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å°æ˜çš„åŸå‹ æ˜¯Bird</span></span><br><span class="line">xiaoming.<span class="property">__proto__</span> = <span class="title class_">Bird</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>classç»§æ‰¿ï¼š<code>class</code>å…³é”®å­—ï¼ŒES6å¼•å…¥</p>
</blockquote>
<p>1 å®šä¹‰ä¸€ä¸ªç±»ï¼Œå±æ€§ï¼Œæ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ES6 ä¹‹å======</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">hello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;å°æ˜&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> xiaohong = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;å°çº¢&#x27;</span>);</span><br><span class="line">xiaoming.<span class="title function_">hello</span>();</span><br></pre></td></tr></table></figure>
<p>2 ç»§æ‰¿</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ES6 ä¹‹å======</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">hello</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">pupil</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Student</span> &#123;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">name,grade</span>)&#123;</span><br><span class="line"><span class="variable language_">super</span>(name);</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">grade</span> = grade;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">myGrade</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;æˆ‘æ˜¯ä¸€åå°å­¦ç”Ÿ&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;å°æ˜&#x27;</span>);</span><br><span class="line">xiaoming.<span class="title function_">hello</span>();</span><br><span class="line"><span class="keyword">var</span> xiaohong = <span class="keyword">new</span> <span class="title function_">pupil</span>(<span class="string">&#x27;å°çº¢&#x27;</span>,<span class="number">1</span>);</span><br><span class="line">xiaohong.<span class="title function_">myGrade</span>();</span><br></pre></td></tr></table></figure>
<p>æœ¬è´¨<img src="/2022/04/15/JavaScript/image-20200813151018995.png" alt="image-20200813151018995"></p>
<blockquote>
<p>åŸå‹é“¾</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">__proto__</span><br></pre></td></tr></table></figure>
<h1 id="7-æ“ä½œBomå…ƒç´ -é‡ç‚¹"><a href="#7-æ“ä½œBomå…ƒç´ -é‡ç‚¹" class="headerlink" title="7 æ“ä½œBomå…ƒç´ (é‡ç‚¹)"></a>7 æ“ä½œBomå…ƒç´ (é‡ç‚¹)</h1><blockquote>
<p>æµè§ˆå™¨ä»‹ç»</p>
</blockquote>
<p>Javascript å’Œ æµè§ˆå™¨å…³ç³»ï¼Ÿ </p>
<p>Javascript è¯ç”Ÿå°±æ˜¯ä¸ºäº†èƒ½å¤Ÿè®©ä»–åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ</p>
<p>BOMï¼šæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆå†…æ ¸ï¼‰</p>
<ul>
<li>IE 6~11</li>
<li>Chrome</li>
<li>Safari</li>
<li>FireFox</li>
</ul>
<p><strong>ç¬¬ä¸‰æ–¹</strong>ï¼š</p>
<ul>
<li>QQæµè§ˆå™¨</li>
<li>360æµè§ˆå™¨</li>
</ul>
<blockquote>
<p>windowï¼ˆé‡è¦ï¼‰ï¼šä»£è¡¨æµè§ˆå™¨çª—å£</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="number">1</span>)</span><br><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">innerHeight</span></span><br><span class="line"><span class="number">722</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">innerWidth</span></span><br><span class="line"><span class="number">1148</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">outerHeight</span></span><br><span class="line"><span class="number">824</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">outerWidth</span></span><br><span class="line"><span class="number">1536</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Navigatorï¼šå°è£…äº†æµè§ˆå™¨ä¿¡æ¯</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">navigator.<span class="property">appName</span></span><br><span class="line"><span class="string">&quot;Netscape&quot;</span></span><br><span class="line">navigator.<span class="property">appVersion</span></span><br><span class="line"><span class="string">&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&quot;</span></span><br><span class="line">navigator.<span class="property">userAgent</span></span><br><span class="line"><span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36&quot;</span></span><br><span class="line">navigator.<span class="property">platform</span></span><br><span class="line"><span class="string">&quot;Win32&quot;</span></span><br></pre></td></tr></table></figure>
<p>å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ä¼šä½¿ç”¨ï¼š<code>navigator</code> å¯¹è±¡ï¼Œå› ä¸ºä¼šè¢«è®¤ä¸ºä¿®æ”¹ï¼ä¸å»ºè®®ä½¿ç”¨è¿™äº›å±æ€§åˆ¤æ–­å’Œç¼–å†™ä»£ç </p>
<blockquote>
<p>screenï¼šä»£è¡¨å±å¹•å°ºå¯¸</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">screen.<span class="property">width</span></span><br><span class="line"><span class="number">1536</span></span><br><span class="line">screen.<span class="property">height</span></span><br><span class="line"><span class="number">864</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>locationï¼ˆé‡è¦ï¼‰ï¼šä»£è¡¨å½“å‰é¡µé¢çš„URLä¿¡æ¯</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">host</span>:<span class="string">&quot;www.baidu.com&quot;</span></span><br><span class="line"><span class="attr">href</span>:<span class="string">&quot;https://www.baidu.com/&quot;</span></span><br><span class="line"><span class="attr">proticlo</span>:<span class="string">&quot;https&quot;</span></span><br><span class="line"><span class="attr">reload</span>:f <span class="title function_">reload</span>()<span class="comment">// åˆ·æ–°ç½‘é¡µ</span></span><br><span class="line"><span class="comment">// è®¾ç½®æ–°çš„åœ°å€</span></span><br><span class="line">location.<span class="title function_">assign</span>(<span class="string">&#x27;https://liusuixing.gitee.io/&#x27;</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>documentï¼ˆå†…å®¹ï¼šDOMï¼‰ï¼šä»£è¡¨å½“å‰é¡µé¢ï¼ŒHTML DOMæ–‡æ¡£æ ‘</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">title</span></span><br><span class="line"><span class="string">&quot;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&quot;</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;zz&#x27;</span></span><br><span class="line"><span class="string">&#x27;zz&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è·å–å…·ä½“çš„æ–‡æ¡£æ•°èŠ‚ç‚¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;dl id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>JavaSE<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>JavaEE<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/dl&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	val dl = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>è·å–cookie</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span></span><br></pre></td></tr></table></figure>
<p>åŠ«æŒcookieåŸç†</p>
<p>www.taobao.com</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;aa.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;!--æ¶æ„äººå‘˜ï¼šè·å–ä½ çš„cookieä¸Šä¼ åˆ°å®ƒçš„æœåŠ¡å™¨--&gt;</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨ç«¯å¯ä»¥è®¾ç½®cookieï¼šhttpOnly</p>
<blockquote>
<p>historyï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ï¼šä»£è¡¨æµè§ˆå™¨çš„å†å²è®°å½•</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">histor.<span class="title function_">forward</span>();<span class="comment">//å‰è¿›</span></span><br><span class="line">history.<span class="title function_">back</span>();<span class="comment">//åé€€</span></span><br></pre></td></tr></table></figure>
<h1 id="8-æ“ä½œDomå…ƒç´ ï¼ˆé‡ç‚¹ï¼‰"><a href="#8-æ“ä½œDomå…ƒç´ ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="8 æ“ä½œDomå…ƒç´ ï¼ˆé‡ç‚¹ï¼‰"></a>8 æ“ä½œDomå…ƒç´ ï¼ˆé‡ç‚¹ï¼‰</h1><p>DOMï¼šæ–‡æ¡£å¯¹è±¡æ¨¡å‹</p>
<blockquote>
<p> æ ¸å¿ƒ</p>
</blockquote>
<p>æµè§ˆå™¨é¡µé¢å°±æ˜¯ä¸€ä¸ªDOM æ ‘å½¢ç»“æ„</p>
<ul>
<li>æ›´æ–°ï¼šæ›´æ–°DomèŠ‚ç‚¹</li>
<li>éå†domèŠ‚ç‚¹ï¼šå¾—åˆ°DomèŠ‚ç‚¹</li>
<li>åˆ é™¤ï¼šåˆ é™¤ä¸€ä¸ªDomèŠ‚ç‚¹</li>
<li>æ·»åŠ ï¼šæ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</li>
</ul>
<p>è¦æ“ä½œä¸€ä¸ªDomèŠ‚ç‚¹ï¼Œå°±å¿…é¡»è¦è·å¾—è¿™ä¸ªDomèŠ‚ç‚¹</p>
<ul>
<li>æ›´æ–°ï¼šæ›´æ–°DomèŠ‚ç‚¹</li>
<li>éå†domèŠ‚ç‚¹ï¼šå¾—åˆ°DomèŠ‚ç‚¹</li>
<li>åˆ é™¤ï¼šåˆ é™¤ä¸€ä¸ªDomèŠ‚ç‚¹</li>
<li>æ·»åŠ ï¼šæ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</li>
</ul>
<p>è¦æ“ä½œä¸€ä¸ªDomèŠ‚ç‚¹ï¼Œå°±å¿…é¡»è¦è·å¾—è¿™ä¸ªDomèŠ‚ç‚¹</p>
<blockquote>
<p>è·å¾—DomèŠ‚ç‚¹</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜ä¸€<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>p1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>p2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å¯¹åº”cssé€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> h1 = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;h1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> p1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> p2 = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;p2&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> father = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;father&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> children = father.<span class="property">children</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//father.firstChild;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//father.lastChild;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ›´æ–°èŠ‚ç‚¹</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;id1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> id1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;id1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    id1.<span class="property">innerText</span>=<span class="string">&#x27;456&#x27;</span>;<span class="comment">//ä¿®æ”¹æ–‡æœ¬çš„å€¼</span></span></span><br><span class="line"><span class="language-javascript">    id1.<span class="property">innerHTML</span>=<span class="string">&#x27;&lt;strong&gt;456&lt;/strong&gt;&#x27;</span>;<span class="comment">//å¯ä»¥è§£æHTMLæ–‡æœ¬æ ‡ç­¾</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ“ä½œæ–‡æœ¬ï¼š</p>
<ul>
<li><code>id1.innerText=&#39;456&#39;</code>ï¼šä¿®æ”¹æ–‡æœ¬çš„å€¼</li>
<li><code>id1.innerHTML=&#39;&lt;strong&gt;456&lt;/strong&gt;&#39;</code>ï¼šå¯ä»¥è§£æHTMLæ–‡æœ¬æ ‡ç­¾</li>
</ul>
<p>æ“ä½œCSSï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">id1.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;yellow&#x27;</span>;<span class="comment">// å±æ€§ä½¿ç”¨ å­—ç¬¦ä¸² åŒ…è£¹</span></span><br><span class="line">id1.<span class="property">style</span>.<span class="property">fontSize</span> = <span class="string">&#x27;20px&#x27;</span>;<span class="comment">// - è½¬ é©¼å³°å‘½åé—®é¢˜</span></span><br><span class="line">id1.<span class="property">style</span>.<span class="property">padding</span> = <span class="string">&#x27;2em&#x27;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åˆ é™¤èŠ‚ç‚¹</p>
</blockquote>
<p>åˆ é™¤èŠ‚ç‚¹çš„æ­¥éª¤ï¼šå…ˆè·å–çˆ¶èŠ‚ç‚¹ï¼Œå†é€šè¿‡çˆ¶èŠ‚ç‚¹åˆ é™¤è‡ªå·±</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ‡é¢˜ä¸€<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span>p1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;p2&quot;</span>&gt;</span>p2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> self = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> father = p1.<span class="property">parentElement</span>;</span></span><br><span class="line"><span class="language-javascript">    father.<span class="title function_">removeChild</span>(self);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//åˆ é™¤æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼Œå…ˆåˆ é™¤0ï¼Œåœ¨åˆ é™¤2ä¼šæ‰¾ä¸åˆ°2èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="language-javascript">    father.<span class="title function_">removeChild</span>(father.<span class="property">children</span>[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript">    father.<span class="title function_">removeChild</span>(father.<span class="property">children</span>[<span class="number">1</span>])</span></span><br><span class="line"><span class="language-javascript">    father.<span class="title function_">removeChild</span>(father.<span class="property">children</span>[<span class="number">2</span>])</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šåˆ é™¤å¤šä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œchildrenæ˜¯åœ¨æ—¶åˆ»å˜åŒ–çš„</p>
<blockquote>
<p>æ’å…¥èŠ‚ç‚¹</p>
</blockquote>
<p>æˆ‘ä»¬è·å¾—äº†æŸä¸ªDomèŠ‚ç‚¹ï¼Œå‡è®¾è¿™ä¸ªdomèŠ‚ç‚¹æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬é€šè¿‡ innerHTML å°±å¯ä»¥å¢åŠ ä¸€ä¸ªå…ƒç´ äº†ï¼Œä½†æ˜¯è¿™ä¸ªDOMèŠ‚ç‚¹å·²ç»å­˜åœ¨å…ƒç´ äº†ï¼Œä¼šäº§ç”Ÿè¦†ç›–ã€‚</p>
<p>è¿½åŠ </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;JS&quot;</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;se&quot;</span>&gt;</span>JavaSE<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;ee&quot;</span>&gt;</span>JavaEE<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;me&quot;</span>&gt;</span>JavaME<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> js = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;js&#x27;</span>);<span class="comment">//å·²å­˜åœ¨çš„èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;list&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//è¿½åŠ åˆ°åé¢</span></span></span><br><span class="line"><span class="language-javascript">    list.<span class="title function_">appendChild</span>(<span class="variable constant_">JS</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿½åŠ ä¹‹å<img src="/2022/04/15/JavaScript/image-20200813162322570.png" alt="image-20200813162322570"></p>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„æ ‡ç­¾å¹¶æ·»åŠ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">///é€šè¿‡JSåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">var</span> newP = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;p&#x27;</span>);<span class="comment">//åˆ›å»ºä¸€ä¸ªpæ ‡ç­¾</span></span><br><span class="line">newP.<span class="property">id</span> = <span class="string">&#x27;newP&#x27;</span>;</span><br><span class="line">newP.<span class="property">innerText</span> = <span class="string">&#x27;text&#x27;</span>;</span><br><span class="line">list.<span class="title function_">append</span>(newP);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡è¿™ä¸ªæ ‡ç­¾å¯ä»¥è®¾ç½®ä»»æ„å€¼</span></span><br><span class="line"><span class="keyword">var</span> myScript = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">myScript.<span class="title function_">setAttribute</span>(<span class="string">&#x27;type&#x27;</span>,<span class="string">&#x27;text/javascript&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥åˆ›å»ºä¸€ä¸ªStyleæ ‡ç­¾</span></span><br><span class="line"><span class="keyword">var</span> myStyle = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;style&#x27;</span>);<span class="comment">//åˆ›å»ºç©ºstyleæ ‡ç­¾</span></span><br><span class="line">myStyle.<span class="title function_">setAttribute</span>(<span class="string">&#x27;type&#x27;</span>,<span class="string">&#x27;text/css&#x27;</span>);</span><br><span class="line">myStyle.<span class="property">innerHTML</span> = <span class="string">&#x27;body&#123;background-color:red&#125;&#x27;</span>;<span class="comment">//è®¾ç½®æ ‡ç­¾å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(myStyle);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>insertBefore</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ee = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ee&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> js = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;JS&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;list&#x27;</span>);</span><br><span class="line">list.<span class="title function_">insertBefore</span>(js,ee);</span><br></pre></td></tr></table></figure>
<h1 id="9-æ“ä½œè¡¨å•ï¼ˆéªŒè¯ï¼‰"><a href="#9-æ“ä½œè¡¨å•ï¼ˆéªŒè¯ï¼‰" class="headerlink" title="9 æ“ä½œè¡¨å•ï¼ˆéªŒè¯ï¼‰"></a>9 æ“ä½œè¡¨å•ï¼ˆéªŒè¯ï¼‰</h1><blockquote>
<p> è¡¨å•æ˜¯ä»€ä¹ˆ form DOMæ ‘</p>
</blockquote>
<ul>
<li>æ–‡æœ¬æ¡†ï¼štext</li>
<li>ä¸‹æ‹‰æ¡†ï¼šselect</li>
<li>å•é€‰æ¡†ï¼šradio</li>
<li>å¤šé€‰æ¡†ï¼šcheckbox</li>
<li>éšè—åŸŸï¼šhidden</li>
<li>å¯†ç æ¡†ï¼špassword</li>
<li>â€¦</li>
</ul>
<p>è¡¨å•çš„ç›®çš„ï¼šæäº¤ä¿¡æ¯</p>
<blockquote>
<p>è·å¾—è¦æäº¤çš„ä¿¡æ¯</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ€§åˆ«ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;man&quot;</span> <span class="attr">id</span>=<span class="string">&quot;boy&quot;</span>&gt;</span> ç”·</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;woman&quot;</span> <span class="attr">id</span>=<span class="string">&quot;girl&quot;</span>&gt;</span> å¥³</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å¾—åˆ°è¾“å…¥æ¡†çš„å€¼</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> input_text = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;username&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> boy_radio = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;boy&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> girl_radio = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;girl&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//ä¿®æ”¹</span></span></span><br><span class="line"><span class="language-javascript">    input_text.<span class="property">value</span> = <span class="string">&#x27;123&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å•é€‰æ¡† å¤šé€‰æ¡†ç­‰å›ºå®šçš„å€¼ï¼Œåªèƒ½å¾—åˆ°å½“å‰çš„å€¼</span></span></span><br><span class="line"><span class="language-javascript">    boy_radio.<span class="property">checked</span>;<span class="comment">//æŸ¥çœ‹è¿”å›çš„ç»“æœæ˜¯å¦ä¸ºtrue</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æäº¤è¡¨å•ï¼šMD5åŠ å¯†ï¼Œè¡¨å•ä¼˜åŒ–</p>
</blockquote>
<ul>
<li>ä¸€èˆ¬çš„md5åŠ å¯†</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--MD5åŠ å¯†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ç»‘å®šäº‹ä»¶    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;f()&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> uname = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;username&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> pwd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pwd&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(uname.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pwd.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        pwd.<span class="property">value</span> = <span class="title function_">md5</span>(pwd.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pwd.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¡¨å•ç»‘å®šæäº¤äº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--MD5åŠ å¯†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--è¡¨å•é‚¦è¿ªæäº¤äº‹ä»¶</span></span><br><span class="line"><span class="comment">onsubmit ç»‘å®šä¸€ä¸ªæäº¤æ£€æµ‹çš„å‡½æ•°.true æäº¤ falseä¸æäº¤--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ç»‘å®šäº‹ä»¶    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;f()&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> uname = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;username&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> pwd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pwd&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(uname.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pwd.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        pwd.<span class="property">value</span> = <span class="title function_">md5</span>(pwd.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(pwd.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//åˆ¤æ–­æ˜¯å¦æäº¤ true æäº¤ false ä¸æäº¤</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="10-jQuery"><a href="#10-jQuery" class="headerlink" title="10 jQuery"></a>10 jQuery</h1><p><strong>jQueryåº“</strong>ï¼šé‡Œé¢å°è£…å¤§é‡JavaScriptæ–¹æ³•</p>
<p><strong>jQuery APIï¼š</strong><a href="http://jquery.cuishifeng.cn/">http://jquery.cuishifeng.cn/</a></p>
<blockquote>
<p>è·å–jQuery</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://libs.baidu.com/jquery/2.0.0/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å…¬å¼</span></span><br><span class="line"><span class="comment">    $(selector)ã€‚actionï¼ˆï¼‰</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;test-jquery&quot;</span>&gt;</span>click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//é€‰æ‹©å™¨å°±æ˜¯cssçš„é€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#test-jquery&#x27;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;1&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>é€‰æ‹©å™¨</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//åŸç”Ÿjsï¼Œé€‰æ‹©å™¨å°‘ï¼Œéº»çƒ¦ä¸”ä¸å¥½è®°</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//idã€æ ‡ç­¾ã€ç±»</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//jQuery å°±æ˜¯ cssä¸­çš„é€‰æ‹©å™¨</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    $(<span class="string">&#x27;#id&#x27;</span>).<span class="title function_">click</span>();<span class="comment">//idé€‰æ‹©å™¨</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    $(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">click</span>();<span class="comment">//æ ‡ç­¾é€‰æ‹©</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    $(<span class="string">&#x27;.className&#x27;</span>).<span class="title function_">click</span>();<span class="comment">//classé€‰æ‹©å™¨</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>äº‹ä»¶</p>
</blockquote>
<p>é¼ æ ‡äº‹ä»¶ é”®ç›˜äº‹ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;lib/jquery-3.3.1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#div</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> black solid;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è·å–é¼ æ ‡å½“å‰çš„åæ ‡--&gt;</span></span><br><span class="line">mouseï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;move&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div&quot;</span>&gt;</span></span><br><span class="line">åœ¨è¿™é‡Œç§»åŠ¨é¼ æ ‡</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//ç½‘é¡µåŠ è½½å®Œæ¯•å å“åº”äº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&#x27;#div&#x27;</span>).<span class="title function_">mousemove</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&#x27;#move&#x27;</span>).<span class="title function_">text</span>(<span class="string">&#x27;x:&#x27;</span>+ e.<span class="property">pageX</span> + <span class="string">&#x27;,&#x27;</span> + e.<span class="property">pageY</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ“ä½œDOM</p>
</blockquote>
<ul>
<li>èŠ‚ç‚¹æ–‡æœ¬æ“ä½œ</li>
<li>cssæ“ä½œ</li>
<li>å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—ï¼šæœ¬è´¨ <code>display=none;</code></li>
<li>â€¦ç­‰ç­‰æ›´å¤šæŸ¥çœ‹API</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;test-ul&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;js&quot;</span> <span class="attr">class</span>=<span class="string">&quot;js&quot;</span>&gt;</span>Javascript<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">name</span>=<span class="string">&quot;python&quot;</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;sh&quot;</span>&gt;</span>show_hide<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;#test-ul li[name=&#x27;python&#x27;]&quot;</span>).<span class="title function_">text</span>();<span class="comment">//è·å¾—å€¼</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;#test-ul li[name=&#x27;python&#x27;]&quot;</span>).<span class="title function_">text</span>(<span class="string">&#x27;Python_new&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#test-ul&#x27;</span>).<span class="title function_">html</span>();<span class="comment">//è·å¾—å€¼</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;test-ul&#x27;</span>).<span class="title function_">html</span>(<span class="string">&#x27;&lt;strong&gt;html_new&lt;/strong&gt;&#x27;</span>);<span class="comment">//è®¾ç½®å€¼</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#js&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;color&#x27;</span>,<span class="string">&#x27;red&#x27;</span>);<span class="comment">//è®¾ç½®æ ·å¼</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#sh&#x27;</span>).<span class="title function_">show</span>();<span class="comment">//æ˜¾ç¤º</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#sh&#x27;</span>).<span class="title function_">hide</span>();<span class="comment">//éšè—</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">window</span>).<span class="title function_">width</span>();</span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">window</span>).<span class="title function_">height</span>();</span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">document</span>).<span class="title function_">width</span>();</span></span><br><span class="line"><span class="language-javascript">    $(<span class="variable language_">document</span>).<span class="title function_">height</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç : <a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML</title>
    <url>/2022/04/15/HTML/</url>
    <content><![CDATA[<h1 id="1-åˆè¯†HTML"><a href="#1-åˆè¯†HTML" class="headerlink" title="1 åˆè¯†HTML"></a>1 åˆè¯†HTML</h1><p>ä»€ä¹ˆæ˜¯HTML</p>
<p>HTMLï¼šHper Text Markup Langueageï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰</p>
<p>è¶…æ–‡æœ¬ï¼šåŒ…æ‹¬æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€åŠ¨ç”»ç­‰</p>
<span id="more"></span>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æµè§ˆå™¨å‚å•†æ”¯æŒ<ul>
<li>å¾®è½¯</li>
<li>Google</li>
<li>è‹¹æœ</li>
<li>Opera</li>
<li>Mozilla</li>
</ul>
</li>
<li>å¸‚åœºéœ€æ±‚</li>
<li>è·¨å¹³å°</li>
</ul>
<p>W3Cæ ‡å‡†</p>
<ul>
<li>World Wide Web Consortiumï¼ˆä¸‡ç»´ç½‘è”ç›Ÿï¼‰</li>
<li>æˆç«‹äº1994å¹´ï¼ŒWebæŠ€æœ¯é¢†åŸŸæœ€æƒå¨å’Œæœ€å…·å½±å“åŠ›çš„å›½é™…ä¸­ç«‹æ€§æŠ€æœ¯æ ‡å‡†æœºæ„</li>
<li><a href="http://www.w3.org/">http://www.w3.org/</a></li>
</ul>
<p>W3Cçš„æ ‡å‡†</p>
<ul>
<li>ç»“æ„åŒ–æ ‡å‡†è¯­è¨€HTML XML</li>
<li>è¡¨ç°æ ‡å‡†è¯­è¨€ CSS</li>
<li>è¡Œä¸ºæ ‡å‡† DOM ECMAScript</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--DOCTYPE å‘Šè¯‰æµè§ˆå™¨ç”¨ä»€ä¹ˆè§„èŒƒ--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--headæ ‡ç­¾ ä»£è¡¨ç½‘é¡µå¤´éƒ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    metaæè¿°æ€§æ ‡ç­¾ï¼Œç”¨æ¥æè¿°ç½‘ç«™çš„ä¿¡æ¯--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ä¸€èˆ¬ç”¨æ¥åšSEO--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;å­¦Java&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;å¯ä»¥å­¦ä¹ java&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ç½‘é¡µæ ‡é¢˜--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ç½‘é¡µä¸»é¢˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="2-ç½‘é¡µåŸºæœ¬æ ‡ç­¾"><a href="#2-ç½‘é¡µåŸºæœ¬æ ‡ç­¾" class="headerlink" title="2 ç½‘é¡µåŸºæœ¬æ ‡ç­¾"></a>2 ç½‘é¡µåŸºæœ¬æ ‡ç­¾</h1><ul>
<li>æ ‡é¢˜æ ‡ç­¾                </li>
<li>æ®µè½æ ‡ç­¾               </li>
<li>æ¢è¡Œæ ‡ç­¾          </li>
<li>æ°´å¹³çº¿æ ‡ç­¾ </li>
<li>æ³¨é‡Šå’Œç‰¹æ®Šç¬¦å·</li>
</ul>
<h1 id="3-å›¾åƒï¼Œè¶…é“¾æ¥ï¼Œç½‘é¡µå¸ƒå±€"><a href="#3-å›¾åƒï¼Œè¶…é“¾æ¥ï¼Œç½‘é¡µå¸ƒå±€" class="headerlink" title="3 å›¾åƒï¼Œè¶…é“¾æ¥ï¼Œç½‘é¡µå¸ƒå±€"></a>3 å›¾åƒï¼Œè¶…é“¾æ¥ï¼Œç½‘é¡µå¸ƒå±€</h1><h2 id="å¸¸è§çš„å›¾åƒæ ¼å¼"><a href="#å¸¸è§çš„å›¾åƒæ ¼å¼" class="headerlink" title="å¸¸è§çš„å›¾åƒæ ¼å¼"></a>å¸¸è§çš„å›¾åƒæ ¼å¼</h2><ul>
<li>JPG</li>
<li>GIF</li>
<li>PNG</li>
<li>BMP</li>
<li>â€¦</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--imgå­¦ä¹ </span></span><br><span class="line"><span class="comment">src:å›¾ç‰‡åœ°å€</span></span><br><span class="line"><span class="comment">    ç›¸å¯¹åœ°å€ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼Œç»å¯¹åœ°å€</span></span><br><span class="line"><span class="comment">    ../è¿”å›ä¸Šä¸€çº§ç›®å½•  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../resouces/image/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡&quot;</span> <span class="attr">title</span>=<span class="string">&quot;æ‚¬åœæ–‡å­—&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h2><ul>
<li>æ–‡æœ¬è¶…é“¾æ¥</li>
<li>å›¾åƒè¶…é“¾æ¥</li>
</ul>
<p>é”šé“¾æ¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--é”šé“¾æ¥</span></span><br><span class="line"><span class="comment">1.éœ€è¦ä¸€ä¸ªé”šæ ‡è®°</span></span><br><span class="line"><span class="comment">2.è·³è½¬åˆ°æ ‡è®°--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">&quot;top&quot;</span>&gt;</span>é¡¶éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#top&quot;</span>&gt;</span>å›åˆ°é¡¶éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åŠŸèƒ½æ€§é“¾æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;!--åŠŸèƒ½æ€§è¿æ¥</span><br><span class="line">é‚®ä»¶è¿æ¥ï¼šmailto</span><br><span class="line">QQé“¾æ¥--&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;mailto:123456789@qq.com&quot;</span>&gt;ç‚¹å‡»è”ç³»æˆ‘&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h2 id="è¡Œå†…å…ƒç´ "><a href="#è¡Œå†…å…ƒç´ " class="headerlink" title="è¡Œå†…å…ƒç´ "></a>è¡Œå†…å…ƒç´ </h2><p>å—å…ƒç´ ï¼šæ— è®ºå†…å®¹æœ‰å¤šå°‘ï¼Œå…ƒç´ è‡ªå·±ç‹¬å ä¸€è¡Œ </p>
<ul>
<li>p h1-h</li>
</ul>
<p>è¡Œå†…å…ƒç´ ï¼šå†…å®¹æ’‘å¼€å®½åº¦ï¼Œå·¦å³éƒ½æ˜¯è¡Œå†…å…ƒç´ çš„å¯ä»¥æ’åœ¨ä¸€è¡Œ</p>
<ul>
<li>a strong em</li>
</ul>
<h1 id="4-åˆ—è¡¨ï¼Œè¡¨æ ¼ï¼Œåª’ä½“å…ƒç´ "><a href="#4-åˆ—è¡¨ï¼Œè¡¨æ ¼ï¼Œåª’ä½“å…ƒç´ " class="headerlink" title="4 åˆ—è¡¨ï¼Œè¡¨æ ¼ï¼Œåª’ä½“å…ƒç´ "></a>4 åˆ—è¡¨ï¼Œè¡¨æ ¼ï¼Œåª’ä½“å…ƒç´ </h1><h2 id="åˆ—è¡¨æ ‡ç­¾"><a href="#åˆ—è¡¨æ ‡ç­¾" class="headerlink" title="åˆ—è¡¨æ ‡ç­¾"></a>åˆ—è¡¨æ ‡ç­¾</h2><p>ä»€ä¹ˆæ˜¯åˆ—è¡¨</p>
<p>â€‹        åˆ—è¡¨å°±æ˜¯ä¿¡æ¯èµ„æºçš„ä¸€ç§å±•ç¤ºå½¢å¼ã€‚å®ƒå¯ä»¥ä½¿ä¿¡æ¯ç»“æ„åŒ–å’Œæ¡ç†åŒ–ï¼Œå¹¶ä»¥åˆ—è¡¨çš„æ ·å¼æ˜¾ç¤ºå‡ºæ¥ï¼Œä»¥ä¾¿æµè§ˆè€…èƒ½æ›´å¿«æ·åœ°è·å¾—ç›¸åº”çš„ä¿¡æ¯ã€‚</p>
<p>åˆ—è¡¨çš„åˆ†ç±»ï¼š</p>
<ul>
<li>æ— åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨</li>
<li>å®šä¹‰åˆ—è¡¨</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Tittle<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æœ‰åºåˆ—è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>C<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>C++<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ— åºåˆ—è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>C<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>C++<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è‡ªå®šä¹‰åˆ—è¡¨</span></span><br><span class="line"><span class="comment">dl æ ‡ç­¾</span></span><br><span class="line"><span class="comment">dt æ ‡é¢˜</span></span><br><span class="line"><span class="comment">ddåˆ—è¡¨å†…å®¹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>å­¦ç§‘<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>C<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>C++<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="è¡¨æ ¼æ ‡ç­¾"><a href="#è¡¨æ ¼æ ‡ç­¾" class="headerlink" title="è¡¨æ ¼æ ‡ç­¾"></a>è¡¨æ ¼æ ‡ç­¾</h2><p>ä¸ºä»€ä¹ˆä½¿ç”¨è¡¨æ ¼</p>
<ul>
<li>ç®€å•é€šç”¨</li>
<li>ç»“æ„ç¨³å®š</li>
</ul>
<p>åŸºæœ¬ç»“æ„</p>
<ul>
<li>å•å…ƒæ ¼</li>
<li>è¡Œ</li>
<li>åˆ—</li>
<li>è·¨è¡Œ</li>
<li>è·¨åˆ—</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è¡¨æ ¼å­¦ä¹ <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¡¨æ ¼table</span></span><br><span class="line"><span class="comment">è¡Œ tr rows</span></span><br><span class="line"><span class="comment">åˆ— td--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--borderè¡¨æ ¼çš„è¾¹æ¡†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--colspan è·¨åˆ—        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;4&quot;</span>&gt;</span>1-1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--rowspanè·¨è¡Œ--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2-1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2-2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2-3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2-4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>3-1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>3-2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>3-3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="åª’ä½“å…ƒç´ "><a href="#åª’ä½“å…ƒç´ " class="headerlink" title="åª’ä½“å…ƒç´ "></a>åª’ä½“å…ƒç´ </h2><ul>
<li>è§†é¢‘<ul>
<li>video</li>
</ul>
</li>
<li>éŸ³é¢‘<ul>
<li>audio</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--éŸ³é¢‘å’Œè§†é¢‘</span></span><br><span class="line"><span class="comment">srcï¼šèµ„æºè·¯å¾„</span></span><br><span class="line"><span class="comment">controlsï¼šæ§åˆ¶è°ƒ</span></span><br><span class="line"><span class="comment">autoplayï¼šè‡ªåŠ¨æ’­æ”¾--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;../resources/video/2.mp4&quot;</span> <span class="attr">controls</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;../resources/audio/3.mp3&quot;</span> <span class="attr">controls</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="5-è¡¨å•åŠè¡¨å•åº”ç”¨"><a href="#5-è¡¨å•åŠè¡¨å•åº”ç”¨" class="headerlink" title="5 è¡¨å•åŠè¡¨å•åº”ç”¨"></a>5 è¡¨å•åŠè¡¨å•åº”ç”¨</h1><p>é¡µé¢ç»“æ„åˆ†æ</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å…ƒç´ å</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>header</td>
<td>æ ‡é¢˜å¤´éƒ¨åŒºåŸŸçš„å†…å®¹ï¼ˆç”¨äºé¡µé¢æˆ–é¡µé¢ä¸­çš„ä¸€éƒ¨åˆ†ï¼‰</td>
</tr>
<tr>
<td>footer</td>
<td>æ ‡è®°è„šéƒ¨åŒºåŸŸçš„å†…å®¹ï¼ˆç”¨äºé¡µé¢æˆ–é¡µé¢ä¸­çš„ä¸€éƒ¨åˆ†ï¼‰</td>
</tr>
<tr>
<td>section</td>
<td>Webé¡µé¢ä¸­çš„ä¸€å—ç‹¬ç«‹åŒºåŸŸ</td>
</tr>
<tr>
<td>article</td>
<td>ç‹¬ç«‹çš„æ–‡ç« å†…å®¹</td>
</tr>
<tr>
<td>aside</td>
<td>ç›¸å…³å†…å®¹æˆ–åº”ç”¨</td>
</tr>
<tr>
<td>nav</td>
<td>å¯¼èˆªç±»è¾…åŠ©å†…å®¹</td>
</tr>
</tbody>
</table>
</div>
<p>é¡µé¢ç»“æ„</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç½‘é¡µå¤´éƒ¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç½‘é¡µä¸»ä½“<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç½‘é¡µè„šéƒ¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¯¼èˆª nav--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å†…è”æ¡†æ¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--iframeå†…è”æ¡†æ¶</span></span><br><span class="line"><span class="comment">srcï¼šåœ°å€</span></span><br><span class="line"><span class="comment">w-hï¼šå®½ï¼Œé«˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">name</span>=<span class="string">&quot;change&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">height</span>=<span class="string">&quot;800&quot;</span>&gt;</span>ç‚¹å‡»è·³è½¬å­¦ä¹ java<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;change&quot;</span> &gt;</span>ç‚¹å‡»è·³è½¬<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="6-è¡¨å•åˆçº§éªŒè¯"><a href="#6-è¡¨å•åˆçº§éªŒè¯" class="headerlink" title="6 è¡¨å•åˆçº§éªŒè¯"></a>6 è¡¨å•åˆçº§éªŒè¯</h1><p>è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¡¨å•form</span></span><br><span class="line"><span class="comment">action:è¡¨å•æäº¤çš„ä½ç½®ï¼Œå¯ä»¥æ˜¯ç½‘ç«™ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè¯·æ±‚å¤„ç†åœ°å€</span></span><br><span class="line"><span class="comment">method:postï¼Œget æäº¤æ–¹å¼</span></span><br><span class="line"><span class="comment">    getæ–¹å¼æäº¤ï¼šæˆ‘ä»¬å¯ä»¥åœ¨urlä¸­çœ‹åˆ°æˆ‘ä»¬æäº¤çš„ä¿¡æ¯ï¼Œä¸å®‰å…¨ï¼Œä½†é«˜æ•ˆ</span></span><br><span class="line"><span class="comment">    postï¼šæ¯”è¾ƒå®‰å…¨ï¼Œä¼ è¾“å¤§æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;åŸºæœ¬æ ‡ç­¾.html&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ–‡æœ¬è¾“å…¥æ¡† Input type=&quot;text&quot;  submitæäº¤æŒ‰é’® reseté‡ç½®æŒ‰é’®  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åå­—ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¡¨å•å…ƒç´ æ ¼å¼</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>æŒ‡å®šå…ƒç´ ç±»å‹ï¼Œtext password checkbox radio submit reset file hidden image button é»˜è®¤ä¸ºtext</td>
</tr>
<tr>
<td>name</td>
<td>æŒ‡å®šè¡¨å•å…ƒç´ çš„åç§°</td>
</tr>
<tr>
<td>value</td>
<td>å…ƒç´ çš„åˆå§‹å€¼ï¼Œtypeä¸ºradioæ—¶å¿…é¡»æŒ‡å®šä¸€ä¸ªå€¼</td>
</tr>
<tr>
<td>size</td>
<td>æŒ‡å®šè¡¨å•å…ƒç´ çš„åˆå§‹å®½åº¦ï¼Œå½“typeç±»å‹ä¸ºtextæˆ–passwordæ—¶ï¼Œè¡¨å•å…ƒç´ çš„å¤§å°ä»¥å­—ç¬¦ä¸ºå•ä½ï¼Œå…¶ä»–ç±»å‹ä»¥åƒç´ ä¸ºå•ä½</td>
</tr>
<tr>
<td>maxlength</td>
<td>typeä¸ºtextæˆ–è€…passwordæ—¶è¾“å…¥çš„æœ€å¤§å­—ç¬¦æ•°</td>
</tr>
<tr>
<td>checked</td>
<td>typeä¸ºradioæˆ–checkboxæ—¶ï¼ŒæŒ‡å®šæŒ‰é’®æ˜¯å¦è¢«é€‰ä¸­</td>
</tr>
</tbody>
</table>
</div>
<p>å•é€‰æ¡†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å•é€‰æ¡†æŒ‰é’®</span></span><br><span class="line"><span class="comment">  nameè¡¨ç¤ºç»„</span></span><br><span class="line"><span class="comment">  nameå¿…é¡»ä¸ºä¸€è‡´ï¼Œæ‰èƒ½è¡¨ç¤ºä¸ºåŒä¸€ç»„ï¼Œæ‰èƒ½åªé€‰æ‹©ä¸€ä¸ª</span></span><br><span class="line"><span class="comment">  inputæ ‡ç­¾ ç±»å‹æ˜¯radioæ—¶ï¼Œå¿…é¡»æœ‰value--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;boy&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>ç”·</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;girl&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>å¥³</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¤é€‰æ¡†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ±å¥½ï¼š</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobbis&quot;</span>&gt;</span>æŠ½çƒŸ</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobbis&quot;</span>&gt;</span>å–é…’</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobbis&quot;</span>&gt;</span>çƒ«å¤´</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æŒ‰é’®</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--    æŒ‰é’®</span></span><br><span class="line"><span class="comment">    input type=&quot;button&quot; æ™®é€šæŒ‰é’®</span></span><br><span class="line"><span class="comment">    input type=&quot;image&quot;  å›¾ç‰‡æŒ‰é’®</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æŒ‰é’®åå­—&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../resources/image/1.jpg&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸‹æ‹‰æ¡†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¸‹æ‹‰æ¡† åˆ—è¡¨æ¡†</span></span><br><span class="line"><span class="comment">    &lt;select&gt;</span></span><br><span class="line"><span class="comment">    nameæ˜¯ä¸‹æ‹‰æ¡†çš„åå­—</span></span><br><span class="line"><span class="comment">    option value æ˜¯ä¸‹æ‹‰æ¡†å¯ä»¥é€‰æ‹©çš„å€¼</span></span><br><span class="line"><span class="comment">    selectedæ˜¯é»˜è®¤ä¸ºé‚£ä¸ªåˆ—</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å›½å®¶</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;åˆ—è¡¨åç§°&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;china&quot;</span> <span class="attr">selected</span>&gt;</span>ä¸­å›½<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;us&quot;</span>&gt;</span>ç¾å›½<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;agt&quot;</span>&gt;</span>é˜¿æ ¹å»·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;md&quot;</span>&gt;</span>ç¼…ç”¸<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–‡æœ¬åŸŸ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--    æ–‡æœ¬åŸŸ</span></span><br><span class="line"><span class="comment">cols=&quot;30&quot; rows=&quot;10&quot; è¡Œï¼Œï¼Œï¼Œåˆ—</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>åé¦ˆï¼š</span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;textarea&quot;</span>  <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span>æ–‡æœ¬å†…å®¹<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶åŸŸ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--    æ–‡ä»¶åŸŸ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;files&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸Šä¼ &quot;</span> <span class="attr">name</span>=<span class="string">&quot;upload&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åŠŸèƒ½éªŒè¯</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--  é‚®ç®±éªŒè¯  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>é‚®ç®±</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    URLéªŒè¯--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>url</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    æ•°å­—éªŒè¯</span></span><br><span class="line"><span class="comment">maxæœ€å¤§æ•°é‡</span></span><br><span class="line"><span class="comment">min æœ€å°æ•°é‡</span></span><br><span class="line"><span class="comment">step æ¯æ¬¡ç‚¹å‡»å¢åŠ æˆ–å‡å°‘çš„æ•°é‡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>æ•°å­—</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;num&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">min</span>=<span class="string">&quot;1&quot;</span> <span class="attr">step</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ»‘å—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>éŸ³é‡</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;voice&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">step</span>=<span class="string">&quot;2&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    æœç´¢æ¡†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>æœç´¢</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">name</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="è¡¨å•çš„åº”ç”¨"><a href="#è¡¨å•çš„åº”ç”¨" class="headerlink" title="è¡¨å•çš„åº”ç”¨"></a>è¡¨å•çš„åº”ç”¨</h3><ul>
<li>éšè—åŸŸ</li>
<li>åªè¯»</li>
<li>ç¦ç”¨</li>
</ul>
<p>åªè¯»ï¼švalue=â€œadminâ€ï¼ˆå…ˆç»™ä¸€ä¸ªé»˜è®¤å€¼ï¼‰ readonly</p>
<p>ç¦ç”¨ï¼šdisabled</p>
<p>éšè—ï¼šhidden</p>
<p>å•è¯ï¼šdescription æè¿°      contentå†…å®¹</p>
<p>ä¸ºä»€ä¹ˆè¦è¿›è¡Œè¡¨å•éªŒè¯ï¼Ÿ</p>
<p>å¸¸ç”¨æ–¹å¼ï¼š</p>
<ul>
<li>placeholder æç¤ºï¼ˆè¯·è¾“å…¥ç”¨æˆ·åï¼‰</li>
<li>required è®¾ç½®éç©º</li>
<li>pattern æ­£åˆ™è¡¨è¾¾å¼</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç : <a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>KMPç®—æ³•ä»¥åŠä»£ç å®ç°</title>
    <url>/2022/05/15/KMP%E7%AE%97%E6%B3%95%E4%BB%A5%E5%8F%8A%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h1 id="KMPç®—æ³•ä»¥åŠä»£ç å®ç°"><a href="#KMPç®—æ³•ä»¥åŠä»£ç å®ç°" class="headerlink" title="KMPç®—æ³•ä»¥åŠä»£ç å®ç°"></a>KMPç®—æ³•ä»¥åŠä»£ç å®ç°</h1><h1 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h1><p>leetcode: <a href="https://leetcode-cn.com/problems/implement-strstr/">28.å®ç°strStr()</a></p>
<p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² haystack å’Œ needle ï¼Œè¯·ä½ åœ¨ haystack å­—ç¬¦ä¸²ä¸­æ‰¾å‡º needle å­—ç¬¦ä¸²å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›  -1 ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inputï¼šhaysteack=â€œaabaabaafâ€ needle= â€œaabaafâ€</span><br><span class="line">output: 3</span><br></pre></td></tr></table></figure>
<h1 id="KMPç®—æ³•"><a href="#KMPç®—æ³•" class="headerlink" title="KMPç®—æ³•"></a>KMPç®—æ³•</h1><p>æš´åŠ›æ±‚è§£ä¸¤ä¸ªforå¾ªç¯ï¼Œå¤æ‚åº¦O(m*n)ã€‚KMPç®—æ³•åˆ©ç”¨å‰ç¼€è¡¨ï¼Œè·å–å·²ç»åŒ¹é…çš„æ–‡æœ¬å†…å®¹ï¼Œé¿å…ä»å¤´åŒ¹é…ã€‚å‰ç¼€è¡¨è®°å½•æœ€é•¿ç›¸ç­‰å‰åç¼€ï¼Œç”¨äºæ¨¡å¼ä¸²ä¸ä¸»ä¸²ä¸åŒ¹é…æ—¶ï¼Œå›é€€åˆ°å¯¹åº”ä½ç½®ã€‚</p>
<h2 id="æ±‚å–å‰ç¼€è¡¨"><a href="#æ±‚å–å‰ç¼€è¡¨" class="headerlink" title="æ±‚å–å‰ç¼€è¡¨"></a>æ±‚å–å‰ç¼€è¡¨</h2><h3 id="å‰ç¼€è¡¨è¯´æ˜"><a href="#å‰ç¼€è¡¨è¯´æ˜" class="headerlink" title="å‰ç¼€è¡¨è¯´æ˜"></a>å‰ç¼€è¡¨è¯´æ˜</h3><p>å‰ï¼ˆåï¼‰ç¼€å®šä¹‰ï¼šä¸åŒ…å«æœ€åï¼ˆç¬¬ä¸€ï¼‰ä¸€ä¸ªå­—æ¯ï¼Œä¸”ä»¥é¦–ï¼ˆå°¾ï¼‰å­—æ¯å¼€å¤´ï¼ˆç»“å°¾ï¼‰çš„å­ä¸²ï¼Œ<code>aabaaf</code>ä¸ºä¾‹ï¼š</p>
<p>å‰ç¼€ï¼š<code>a</code> <code>aa</code> <code>aab</code> <code>aaba</code> <code>aabaa</code></p>
<p>åç¼€ï¼š <code>f</code> <code>af</code> <code>aaf</code> <code>baaf</code> <code>abaaf</code> </p>
<p>å‰ç¼€è¡¨è®°å½•äº†æ‰€æœ‰å­ä¸²æœ€é•¿ç›¸ç­‰å‰åç¼€é•¿åº¦ï¼Œ<code>aabaaf</code>ä¸ºä¾‹ï¼š</p>
<p>å­—ä¸²åŒ…æ‹¬ï¼š<code>a</code> <code>aa</code> <code>aab</code> <code>aaba</code> <code>aabaa</code> <code>aabaaf</code></p>
<ul>
<li>aï¼š æ— å…ˆåç¼€ï¼Œ0</li>
<li>aaï¼š å‰ç¼€<code>a</code>ï¼ˆç¬¬ä¸€ä¸ª<code>a</code>ï¼‰å’Œåç¼€<code>a</code>ï¼ˆç¬¬äºŒä¸ª<code>a</code>ï¼‰ ç›¸ç­‰ï¼Œ 1</li>
<li>aabï¼š æ— ç›¸ç­‰å‰åç¼€ï¼Œ 0</li>
<li>aabaï¼šå‰ç¼€<code>a</code>(ç¬¬ä¸€ä¸ª<code>a</code>)åç¼€<code>a</code>ï¼ˆæœ€åä¸€ä¸ª<code>a</code>ï¼‰ç›¸ç­‰ï¼Œ1</li>
<li>aabaaï¼šå‰åç¼€<code>aa</code>ï¼Œ 2</li>
<li>aabaafï¼š 0</li>
</ul>
<p>ç”Ÿæˆå‰ç¼€è¡¨ï¼Œè®°ä¸ºnextæ•°ç»„ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<h3 id="å‰ç¼€è¡¨è®¡ç®—"><a href="#å‰ç¼€è¡¨è®¡ç®—" class="headerlink" title="å‰ç¼€è¡¨è®¡ç®—"></a>å‰ç¼€è¡¨è®¡ç®—</h3><p>åˆå§‹åŒ–å‰ç¼€è¡¨ï¼Œå¹¶å®šä¹‰éå†ä¸‹æ ‡<code>i</code>,<code>j</code>,å…¶ä¸­<code>i</code>è¡¨ç¤ºæ¨¡å¼ä¸²ä¸­å½“å‰è®¡ç®—çš„ä½ç½®ï¼Œjè¡¨ç¤ºä¸ä¹‹åŒ¹é…çš„å‰ç¼€æœ«å°¾ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">b</th>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">f</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">i</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">j</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p>çŠ¶æ€1ï¼šè‹¥<code>needle[i] != needle[j]</code>åˆ™ jå›é€€ï¼Œ <code>j = next[j-1]</code>ã€‚è‹¥ä»ä¸ç›¸ç­‰ï¼Œåˆ™ç»§ç»­å›é€€ã€‚è‹¥ç›¸ç­‰æˆ–j = 0ï¼Œåˆ™è¿›å…¥çŠ¶æ€2ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯¹äºï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">b</th>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">f</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">i</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">j</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p>æ­¤å®ï¼Œi = 5ï¼Œj = 2 ï¼Œ<code>needle[5] != needle[2]</code>ï¼Œ j = next[1 - 1] = 1</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">b</th>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">f</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">i</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">j</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p>ä»ä¸ç›¸ç­‰ï¼Œç»§ç»­å›é€€ j = next[1-1] = 0ï¼Œåˆ™è¿›å…¥çŠ¶æ€2</p>
<p>çŠ¶æ€2ï¼šè‹¥<code>needle[i] == needle[j]</code>åˆ™ <code>next[i++] = ++j</code> </p>
<p>ä¾‹å¦‚å¯¹äºåˆå§‹çŠ¶æ€ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">b</th>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">f</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">i</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">j</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p>i = 1ï¼Œ j = 0, needle[1] == needle[0]ï¼Œåˆ™j = 0 + 1,need[1] = 1, i = 1 + 1</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">b</th>
<th style="text-align:center">a</th>
<th style="text-align:center">a</th>
<th style="text-align:center">f</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">next[1] = 1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">i  = 1 + 1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">j = 0 + 1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<h2 id="åŒ¹é…è¿‡ç¨‹"><a href="#åŒ¹é…è¿‡ç¨‹" class="headerlink" title="åŒ¹é…è¿‡ç¨‹"></a>åŒ¹é…è¿‡ç¨‹</h2><h3 id="æ¨¡æ‹ŸåŒ¹é…"><a href="#æ¨¡æ‹ŸåŒ¹é…" class="headerlink" title="æ¨¡æ‹ŸåŒ¹é…"></a>æ¨¡æ‹ŸåŒ¹é…</h3><p>çŠ¶æ€1ï¼šåˆå§‹çŠ¶æ€ï¼ši,  j = 0, 0</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»ä¸²</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>i</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ¨¡å¼ä¸²</td>
<td>a</td>
<td>a</td>
<td>b</td>
<td>a</td>
<td>f</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>j</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>çŠ¶æ€2ï¼šå½“ä¸»ä¸²ä¸æ¨¡å¼ä¸²åŒ¹é…æ—¶ï¼ˆ<code>haysteack[i]==needle[j]</code>ï¼‰ï¼Œi++,j++</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»ä¸²</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>i</td>
<td>â†’</td>
<td>â†’</td>
<td>â†’</td>
<td>i</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ¨¡å¼ä¸²</td>
<td>a</td>
<td>a</td>
<td>b</td>
<td>a</td>
<td>a</td>
<td>f</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>j</td>
<td>â†’</td>
<td>â†’</td>
<td>â†’</td>
<td>j</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>çŠ¶æ€3ï¼šå½“ä¸»ä¸²ä¸æ¨¡å¼ä¸²ä¸åŒ¹é…æ—¶ï¼ˆ<code>haysteack[i]!=needle[j]</code>ï¼‰ã€‚ jå–å‰ç¼€è¡¨å‰ä¸€ä½çš„å€¼ï¼ˆ<code>j = next[j-1]</code>ï¼‰ã€‚è‹¥ä»ä¸ç›¸ç­‰ä¸”j&gt;0ï¼Œåˆ™ç»§ç»­å›é€€ã€‚è‹¥ä¸ç›¸ç­‰ä¸”j = 0ï¼Œåˆ™i++ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»ä¸²</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>i</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ¨¡å¼ä¸²</td>
<td>a</td>
<td>a</td>
<td>b</td>
<td>a</td>
<td>a</td>
<td>f</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>j</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>æ­¤æ—¶i = 5, j = 5, haysteack[5]!=needle[5]ï¼Œjå–å‰ç¼€è¡¨å‰ä¸€ä½çš„å€¼j=next[5-1] = 2</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»ä¸²</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>i</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ¨¡å¼ä¸²</td>
<td>a</td>
<td>a</td>
<td>b</td>
<td>a</td>
<td>a</td>
<td>f</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>j</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>å˜ä¸ºçŠ¶æ€2ï¼Œç»§ç»­åŒ¹é…ï¼Œç›´è‡³åŒ¹é…å®Œæˆ</p>
<p>è‹¥ç›´è‡³ j = 0 ä»ä¸ç›¸ç­‰ï¼Œåˆ™i++ã€‚ä¾‹å¦‚ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»ä¸²</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>d</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>i</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ¨¡å¼ä¸²</td>
<td>a</td>
<td>a</td>
<td>f</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>j=0</td>
<td>â†</td>
<td>j</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>åˆ™i++ï¼Œç»§ç»­åŒ¹é…</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»ä¸²</th>
<th>a</th>
<th>a</th>
<th>b</th>
<th>a</th>
<th>a</th>
<th>d</th>
<th>a</th>
<th>a</th>
<th>f</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>i</td>
<td></td>
<td></td>
</tr>
<tr>
<td>æ¨¡å¼ä¸²</td>
<td>a</td>
<td>a</td>
<td>f</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>j</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">strStr</span>(<span class="params">self, haystack: <span class="built_in">str</span>, needle: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">getNext</span>(<span class="params">s: <span class="built_in">str</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">            <span class="comment"># æ±‚å–nextæ•°ç»„</span></span><br><span class="line">            <span class="built_in">next</span> = [<span class="number">0</span>] * <span class="built_in">len</span>(s)</span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(s)):</span><br><span class="line">                <span class="keyword">while</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> s[i] != s[j]:</span><br><span class="line">                    j = <span class="built_in">next</span>[j - <span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> s[i] == s[j]:</span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                <span class="built_in">next</span>[i] = j</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">next</span></span><br><span class="line">        <span class="comment"># æ¨¡å¼ä¸²ä¸º0æ—¶ï¼Œè¿”å›0ï¼Œæ»¡è¶³indexOf()å‡½æ•°</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(needle) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="built_in">next</span> = getNext(needle)</span><br><span class="line">        i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="comment"># å¼€å§‹åŒ¹é…</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(haystack) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(needle):</span><br><span class="line">            <span class="keyword">if</span> haystack[i] == needle[j]:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> j:</span><br><span class="line">                j = <span class="built_in">next</span>[j - <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> j == <span class="built_in">len</span>(needle):</span><br><span class="line">            <span class="keyword">return</span> i - j</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
        <tag>KMP</tag>
      </tags>
  </entry>
  <entry>
    <title>Java Webç¬”è®°</title>
    <url>/2022/04/15/JavaWeb/</url>
    <content><![CDATA[<h1 id="1-åŸºæœ¬æ¦‚å¿µ"><a href="#1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.åŸºæœ¬æ¦‚å¿µ"></a>1.åŸºæœ¬æ¦‚å¿µ</h1><h2 id="1-1-å‰æ²¿"><a href="#1-1-å‰æ²¿" class="headerlink" title="1.1 å‰æ²¿"></a>1.1 å‰æ²¿</h2><p>webå¼€å‘ï¼š</p>
<ul>
<li>webï¼Œç½‘é¡µçš„æ„æ€</li>
<li>é™æ€web<ul>
<li>htmlï¼Œcss</li>
<li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¸ä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
</li>
<li>åŠ¨æ€web<ul>
<li>æ·˜å®</li>
<li>æ¯ä¸ªäººä¸åŒæ—¶é—´ä¸åŒåœ°ç‚¹çœ‹åˆ°çš„ä¿¡æ¯å„ä¸ç›¸åŒ</li>
<li>æŠ€æœ¯æ ˆï¼šServlet/ISP ASP PHP</li>
</ul>
</li>
</ul>
<p>åœ¨Javaä¸­ï¼ŒåŠ¨æ€webèµ„æºå¼€å‘çš„æŠ€æœ¯ç»Ÿç§°ä¸ºJavaWeb</p>
<h2 id="1-2-webåº”ç”¨ç¨‹åº"><a href="#1-2-webåº”ç”¨ç¨‹åº" class="headerlink" title="1.2 webåº”ç”¨ç¨‹åº"></a>1.2 webåº”ç”¨ç¨‹åº</h2><p>webåº”ç”¨ç¨‹åºï¼Œå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åº</p>
<ul>
<li>a.html  b.htmlâ€¦â€¦å¤šä¸ªwebèµ„æºï¼Œè¿™äº›webå¯ä»¥è¢«å¤–ç•Œè®¿é—®ï¼Œå¯¹å¤–ç•Œæä¾›æœåŠ¡</li>
<li>èƒ½è®¿é—®åˆ°çš„ä»»æ„ä¸€ä¸ªé¡µé¢æˆ–è€…èµ„æºï¼Œéƒ½å­˜åœ¨äºæŸä¸ªè®¡ç®—æœºä¸Š</li>
<li>URL</li>
<li>è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œwebåº”ç”¨ç¨‹åº-&gt;Tomcatï¼šæœåŠ¡å™¨</li>
<li>ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨åˆ†ç»„æˆï¼ˆé™æ€webï¼ŒåŠ¨æ€webï¼‰<ul>
<li>html css js</li>
<li>jsp servlet</li>
<li>Java</li>
<li>jaråŒ…</li>
<li>é…ç½®æ–‡ä»¶(Properties)</li>
</ul>
</li>
</ul>
<p>webåº”ç”¨ç¨‹åºç¼–å†™å®Œæ¯•åï¼Œè‹¥æƒ³æä¾›ç»™å¤–ç•Œè®¿é—®ï¼Œéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ç»Ÿä¸€ç®¡ç†</p>
<h2 id="1-3-é™æ€web"><a href="#1-3-é™æ€web" class="headerlink" title="1.3 é™æ€web"></a>1.3 é™æ€web</h2><ul>
<li><p><em>.htm </em>.htmléƒ½æ˜¯ç½‘é¡µçš„åç¼€ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šä¸€ç›´å­˜åœ¨è¿™äº›ä¸œè¥¿ï¼Œå°±å¯ä»¥ç›´æ¥è¿›è¡Œè¯»å–ï¼Œé€šä¿¡</p>
<p><img src="/2022/04/15/JavaWeb/image-20200810203757040.png" alt="image-20200810203757040"></p>
</li>
<li><p>é™æ€webå­˜åœ¨çš„ç¼ºç‚¹</p>
<ul>
<li>Webé¡µé¢æ— æ³•åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°çš„éƒ½æ˜¯åŒä¸€ä¸ªé¡µé¢<ul>
<li>è½®æ’­å›¾ ç‚¹å‡»ç‰¹æ•ˆï¼šä¼ªåŠ¨æ€</li>
<li>JavaScriptï¼ˆå®é™…å¼€å‘æœ€å¸¸ç”¨ï¼‰</li>
<li>VBScript</li>
</ul>
</li>
<li>æ— æ³•ä¸æ•°æ®åº“äº¤äº’ï¼ˆæ•°æ®æ— æ³•æŒä¹…åŒ–ï¼Œç”¨æˆ·æ— æ³•äº¤äº’ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="1-4-åŠ¨æ€web"><a href="#1-4-åŠ¨æ€web" class="headerlink" title="1.4 åŠ¨æ€web"></a>1.4 åŠ¨æ€web</h2><p>é¡µé¢ä¼šåŠ¨æ€æ˜¾ç¤ºï¼ŒWebçš„é¡µé¢æ˜¾ç¤ºæ•ˆæœå› äººè€Œå¼‚</p>
<p><img src="/2022/04/15/JavaWeb/image-20200810203749730.png" alt="image-20200810203749730"></p>
<p>ç¼ºç‚¹</p>
<ul>
<li>å‡å¦‚æœåŠ¡å™¨çš„åŠ¨æ€webèµ„æºå‡ºç°äº†é”™è¯¯ï¼Œéœ€è¦é‡å†™åå°ç¨‹åºï¼Œé‡æ–°å‘å¸ƒ<ul>
<li>åœæœºç»´æŠ¤</li>
</ul>
</li>
</ul>
<p>ä¼˜ç‚¹</p>
<p>é™æ€webå­˜åœ¨çš„ç¼ºç‚¹</p>
<ul>
<li>Webé¡µé¢å¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°çš„ä¸æ˜¯åŒä¸€ä¸ªé¡µé¢</li>
<li>å¯ä»¥ä¸æ•°æ®åº“äº¤äº’</li>
</ul>
<p><img src="/2022/04/15/JavaWeb/image-20200810203735337.png" alt></p>
<h1 id="2-WebæœåŠ¡å™¨"><a href="#2-WebæœåŠ¡å™¨" class="headerlink" title="2 WebæœåŠ¡å™¨"></a>2 WebæœåŠ¡å™¨</h1><h2 id="2-1-æŠ€æœ¯è®²è§£"><a href="#2-1-æŠ€æœ¯è®²è§£" class="headerlink" title="2.1 æŠ€æœ¯è®²è§£"></a>2.1 æŠ€æœ¯è®²è§£</h2><p>ASP</p>
<ul>
<li>å¾®è½¯ï¼šå›½å†…æœ€æ—©æµè¡Œçš„å°±æ˜¯ASP</li>
<li>åœ¨HTMLä¸­åµŒå…¥äº†VBçš„è„šæœ¬ï¼ŒASP+COMï¼›</li>
<li>åœ¨ASPå¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸€ä¸ªé¡µé¢éƒ½æœ‰å‡ åƒè¡Œçš„ä¸šåŠ¡ä»£ç ï¼Œé¡µé¢åŠå…¶æ··ä¹±</li>
<li>ç»´æŠ¤æˆæœ¬é«˜</li>
</ul>
<p>php</p>
<ul>
<li>PHPå¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œè·¨å¹³å°ï¼Œä»£ç ç®€å•</li>
<li>æ— æ³•æ‰¿è½½å¤§è®¿é—®é‡çš„æƒ…å†µï¼ˆå±€é™æ€§ï¼‰</li>
</ul>
<p>JSP/Servlet</p>
<ul>
<li>SUNå…¬å¸ä¸»æ¨çš„B/Sæ¶æ„</li>
<li>åŸºäºJavaè¯­è¨€</li>
<li>å¯ä»¥æ‰¿è½½ä¸‰é«˜é—®é¢˜å¸¦æ¥çš„å½±å“</li>
<li>è¯­æ³•åƒASP</li>
</ul>
<h2 id="2-2-WebæœåŠ¡å™¨"><a href="#2-2-WebæœåŠ¡å™¨" class="headerlink" title="2.2 WebæœåŠ¡å™¨"></a>2.2 WebæœåŠ¡å™¨</h2><p>æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚ï¼Œç»™ç”¨æˆ·ç›¸åº”ä¿¡æ¯</p>
<p>IISï¼šå¾®è½¯ï¼ŒASP Windowsä¸­è‡ªå¸¦çš„</p>
<p>Tomcatï¼šTomcatæ˜¯Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰çš„Jakarta é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œæœ€æ–°çš„Servlet å’ŒJSP è§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcat ä¸­å¾—åˆ°ä½“ç°ã€‚å› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›ã€æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”å…è´¹ï¼Œå› è€Œæ·±å—Java çˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„Web åº”ç”¨æœåŠ¡å™¨ã€‚</p>
<p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Web åº”ç”¨æœåŠ¡å™¨ï¼Œå±äºè½»é‡çº§åº”ç”¨<a href="https://baike.baidu.com/item/æœåŠ¡å™¨">æœåŠ¡å™¨</a>ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSP ç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªåˆå­¦JavaWebçš„äººæ¥è¯´ï¼Œå®ƒæ˜¯æœ€ä½³é€‰æ‹©</p>
<p>Tomcat å®é™…ä¸Šè¿è¡ŒJSP é¡µé¢å’ŒServletã€‚ç›®å‰Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º9.0.37ã€‚</p>
<p>ä¸‹è½½tomcatï¼š</p>
<ol>
<li>å®‰è£…/è§£å‹</li>
<li>äº†è§£é…ç½®æ–‡ä»¶åŠç›®å½•ç»“æ„</li>
<li>äº†è§£ä½œç”¨ </li>
</ol>
<h1 id="3-Tomcat"><a href="#3-Tomcat" class="headerlink" title="3 Tomcat"></a>3 Tomcat</h1><h2 id="3-1-å®‰è£…Tomcat"><a href="#3-1-å®‰è£…Tomcat" class="headerlink" title="3.1 å®‰è£…Tomcat"></a>3.1 å®‰è£…Tomcat</h2><p><a href="https://tomcat.apache.org/">https://tomcat.apache.org/</a></p>
<h2 id="3-2-å¯åŠ¨å’Œé…ç½®"><a href="#3-2-å¯åŠ¨å’Œé…ç½®" class="headerlink" title="3.2 å¯åŠ¨å’Œé…ç½®"></a>3.2 å¯åŠ¨å’Œé…ç½®</h2><p>æ–‡ä»¶å¤¹ï¼š</p>
<p><img src="/2022/04/15/JavaWeb/image-20200810203727279.png" alt></p>
<p>å¯åŠ¨ï¼Œå…³é—­Tomcat</p>
<p>bin&gt;startup.bat  / shutdown.bat</p>
<p>è®¿é—®æµ‹è¯•ï¼š <a href="http://localhost:8080/">http://localhost:8080/</a></p>
<h2 id="3-3-é…ç½®"><a href="#3-3-é…ç½®" class="headerlink" title="3.3 é…ç½®"></a>3.3 é…ç½®</h2><p><img src="/2022/04/15/JavaWeb/image-20200810203719364.png" alt="image-20200810203719364"></p>
<p>å¯ä»¥é…ç½®å¯åŠ¨çš„ç«¯å£å·</p>
<ul>
<li>Tomcatçš„é»˜è®¤ç«¯å£å·ï¼š8080</li>
<li>MySQLï¼š3306</li>
<li>httpï¼š80</li>
<li>httpsï¼š443</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8080&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> /&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥é…ç½®ä¸»æœºçš„åç§°</p>
<ul>
<li>é»˜è®¤çš„ä¸»æœºåï¼šlocalhost -&gt;127.0.0.1</li>
<li>é»˜è®¤çš„ç½‘ç«™åº”ç”¨å­˜æ”¾çš„ä½ç½®ï¼šwebapps</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Host</span> <span class="attr">name</span>=<span class="string">&quot;localhost&quot;</span>  <span class="attr">appBase</span>=<span class="string">&quot;webapps&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">unpackWARs</span>=<span class="string">&quot;true&quot;</span> <span class="attr">autoDeploy</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>é¢è¯•é¢˜</strong></p>
<p>è®¿é—®ç½‘é¡µæµç¨‹ï¼š</p>
<ol>
<li>è¾“å…¥åŸŸå</li>
<li>æ£€æŸ¥æœ¬æœºçš„hostsé…ç½®æ–‡ä»¶ä¸‹æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåæ˜ å°„<ol>
<li>æœ‰ï¼Œç›´æ¥æ”¾å›å¯¹åº”çš„ipåœ°å€ï¼Œåœ¨è¿™ä¸ªåœ°å€ä¸­ï¼Œæœ‰éœ€è¦è®¿é—®çš„webç¨‹åºï¼Œå¯ä»¥ç›´æ¥è®¿é—®</li>
<li>æ²¡æœ‰ï¼šå»DNSè§£æ<img src="/2022/04/15/JavaWeb/image-20200810203708259.png" alt="image-20200810203708259"></li>
</ol>
</li>
</ol>
<h2 id="3-4-å‘å¸ƒwebç½‘ç«™"><a href="#3-4-å‘å¸ƒwebç½‘ç«™" class="headerlink" title="3.4 å‘å¸ƒwebç½‘ç«™"></a>3.4 å‘å¸ƒwebç½‘ç«™</h2><ul>
<li>å°†è‡ªå·±å†™çš„ç½‘ç«™æ”¾åˆ°æœåŠ¡å™¨ï¼ˆTomcatï¼‰ä¸­æŒ‡å®šçš„webåº”ç”¨æ–‡ä»¶å¤¹ï¼ˆwebappsï¼‰ä¸‹</li>
</ul>
<p>ç½‘ç«™åº”æœ‰çš„ç»“æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">-- webapps :TomcatæœåŠ¡å™¨çš„webç›®å½•</span><br><span class="line">	-ROOT</span><br><span class="line">	-zz:ç½‘ç«™çš„ç›®å½•å</span><br><span class="line">		- WEBâ€”INF</span><br><span class="line">			-classes:Javaç¨‹åº</span><br><span class="line">			-lib webåº”ç”¨æ‰€ä¾èµ–çš„jaråŒ…</span><br><span class="line">			-web.xml</span><br><span class="line">		-index.html é»˜è®¤é¦–é¡µ</span><br><span class="line">		- <span class="keyword">static</span></span><br><span class="line">			-css</span><br><span class="line">				-style.css</span><br><span class="line">			-js </span><br><span class="line">			-img</span><br><span class="line">		-...</span><br></pre></td></tr></table></figure>
<h1 id="4-Http"><a href="#4-Http" class="headerlink" title="4.Http"></a>4.Http</h1><h2 id="4-1ä»€ä¹ˆæ˜¯http"><a href="#4-1ä»€ä¹ˆæ˜¯http" class="headerlink" title="4.1ä»€ä¹ˆæ˜¯http"></a>4.1ä»€ä¹ˆæ˜¯http</h2><p>httpï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚</p>
<ul>
<li>æ–‡æœ¬ï¼šhtmlï¼Œå­—ç¬¦ä¸²ï¼Œâ€¦â€¦</li>
<li>è¶…æ–‡æœ¬ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œåœ°å›¾ï¼Œå®šä½â€¦â€¦</li>
<li>ç«¯å£ 80</li>
</ul>
<p>httpsï¼šsâ€”-å®‰å…¨çš„</p>
<ul>
<li>443</li>
</ul>
<h2 id="4-2-ä¸¤ä¸ªæ—¶ä»£"><a href="#4-2-ä¸¤ä¸ªæ—¶ä»£" class="headerlink" title="4.2 ä¸¤ä¸ªæ—¶ä»£"></a>4.2 ä¸¤ä¸ªæ—¶ä»£</h2><ul>
<li><p>Http1.0</p>
<ul>
<li>HTTP/1.0:å®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥åï¼Œåªèƒ½è·å¾—ä¸€ä¸ªwebèµ„æº</li>
</ul>
</li>
<li>Http2.0</li>
<li>HTTP/1.1ï¼šå®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥åï¼Œå¯ä»¥è·å¾—å¤šä¸ªwebèµ„æº</li>
</ul>
<h2 id="4-3-Httpè¯·æ±‚"><a href="#4-3-Httpè¯·æ±‚" class="headerlink" title="4.3  Httpè¯·æ±‚"></a>4.3  Httpè¯·æ±‚</h2><ul>
<li>å®¢æˆ·ç«¯â€”å‘è¯·æ±‚â€”æœåŠ¡å™¨</li>
</ul>
<p>ç™¾åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Request URL:https:<span class="comment">//www.baidu.com/   è¯·æ±‚åœ°å€</span></span><br><span class="line">Request Method:GET    getæ–¹æ³•/postæ–¹æ³•</span><br><span class="line">Status Code:<span class="number">200</span> OK    çŠ¶æ€ç ï¼š<span class="number">200</span></span><br><span class="line">Remoteï¼ˆè¿œç¨‹ï¼‰ Address:<span class="number">14.215</span><span class="number">.177</span><span class="number">.39</span>:<span class="number">443</span></span><br><span class="line">    </span><br><span class="line">Accept:text/html  </span><br><span class="line">Accept-Encoding:gzip, deflate, br</span><br><span class="line">Accept-Language:zh-CN,zh;q=<span class="number">0.9</span>    è¯­è¨€</span><br><span class="line">Cache-Control:max-age=<span class="number">0</span></span><br><span class="line">Connection:keep-alive</span><br></pre></td></tr></table></figure>
<ol>
<li>è¯·æ±‚è¡Œ</li>
</ol>
<ul>
<li>è¯·æ±‚è¡Œä¸­çš„è¯·æ±‚æ–¹å¼ï¼šGET</li>
<li>è¯·æ±‚æ–¹å¼ï¼š<strong>Get,Post</strong>,HEAD,DELETE,PUT,TRACT.â€¦<ul>
<li>getï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ¯”è¾ƒå°‘ï¼Œå¤§å°æœ‰é™åˆ¶ï¼Œä¼šåœ¨æµè§ˆå™¨çš„URLåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œä¸å®‰å…¨ï¼Œä½†é«˜æ•ˆ</li>
<li>post:è¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ²¡æœ‰é™åˆ¶ï¼Œå¤§å°æ²¡æœ‰é™åˆ¶ï¼Œä¸ä¼šåœ¨æµè§ˆå™¨çš„URLåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œå®‰å…¨ï¼Œä½†ä¸é«˜æ•ˆã€‚</li>
</ul>
</li>
</ul>
<ol>
<li>æ¶ˆæ¯å¤´</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Acceptï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹</span><br><span class="line">Accept-Encodingï¼šæ”¯æŒå“ªç§ç¼–ç æ ¼å¼  GBK   UTF-<span class="number">8</span>   GB2312  ISO8859-<span class="number">1</span></span><br><span class="line">Accept-Languageï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ</span><br><span class="line">Cache-Controlï¼šç¼“å­˜æ§åˆ¶</span><br><span class="line">Connectionï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œè¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥</span><br><span class="line">HOSTï¼šä¸»æœº..../.</span><br></pre></td></tr></table></figure>
<h2 id="4-4-Httpå“åº”"><a href="#4-4-Httpå“åº”" class="headerlink" title="4.4  Httpå“åº”"></a>4.4  Httpå“åº”</h2><ul>
<li>æœåŠ¡å™¨â€”å“åº”â€”å®¢æˆ·ç«¯</li>
</ul>
<p>ç™¾åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cache-Control:<span class="keyword">private</span>    ç¼“å­˜æ§åˆ¶</span><br><span class="line">Connection:Keep-Alive    è¿æ¥</span><br><span class="line">Content-Encoding:gzip    ç¼–ç </span><br><span class="line">Content-Type:text/html   ç±»å‹  </span><br></pre></td></tr></table></figure>
<ol>
<li>å“åº”ä½“</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Acceptï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹</span><br><span class="line">Accept-Encodingï¼šæ”¯æŒå“ªç§ç¼–ç æ ¼å¼  GBK   UTF-<span class="number">8</span>   GB2312  ISO8859-<span class="number">1</span></span><br><span class="line">Accept-Languageï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ</span><br><span class="line">Cache-Controlï¼šç¼“å­˜æ§åˆ¶</span><br><span class="line">Connectionï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œè¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥</span><br><span class="line">HOSTï¼šä¸»æœº..../.</span><br><span class="line">Refresh:å‘Šè¯‰å®¢æˆ·ç«¯å¤šä¹…åˆ·æ–°ä¸€æ¬¡</span><br><span class="line">Locationï¼šè®©ç½‘é¡µé‡æ–°å®šä½</span><br></pre></td></tr></table></figure>
<ol>
<li>å“åº”çŠ¶æ€ç </li>
</ol>
<p>200ï¼šè¯·æ±‚å“åº”æˆåŠŸ200</p>
<p>3xx:è¯·æ±‚é‡å®šå‘</p>
<ul>
<li>é‡å®šå‘ï¼šä½ é‡æ–°åˆ°æˆ‘ç»™ä½ æ–°ä½ç½®å»ï¼›</li>
</ul>
<p>4xx:æ‰¾ä¸åˆ°èµ„æº404</p>
<ul>
<li>èµ„æºä¸å­˜åœ¨ï¼›</li>
</ul>
<p>5xx:æœåŠ¡å™¨ä»£ç é”™è¯¯ 500  502:ç½‘å…³é”™è¯¯</p>
<p>å¸¸è§é¢è¯•é¢˜ï¼š</p>
<p>å½“æµè§ˆå™¨ä¸­åœ°å€æ è¾“å…¥åœ°å€å¹¶å›è½¦åˆ°é¡µé¢å±•ç¤ºï¼Œç»å†äº†ä»€ä¹ˆï¼Ÿ</p>
<h1 id="5-Maven"><a href="#5-Maven" class="headerlink" title="5 Maven"></a>5 Maven</h1><p>ä¸ºä»€ä¹ˆå­¦ä¹ Mavenï¼Ÿ</p>
<ol>
<li>åœ¨JavaWebå¼€å‘ä¸­ï¼Œéœ€è¦ä½¿ç”¨å¤§é‡çš„çš„jaråŒ…ï¼Œéœ€è¦æ‰‹åŠ¨å¯¼å…¥</li>
<li>å¦‚ä½•è‡ªåŠ¨å¯¼å…¥å’Œé…ç½®jaråŒ…ï¼ŸMaven</li>
</ol>
<h2 id="5-1-Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"><a href="#5-1-Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·" class="headerlink" title="5.1 Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"></a>5.1 Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·</h2><p>ç›®çš„ï¼šæ–¹ä¾¿å¯¼å…¥jaråŒ…</p>
<p>Mavenæ ¸å¿ƒæ€æƒ³ï¼š<strong>çº¦å®šå¤§äºé…ç½®</strong></p>
<ul>
<li>æœ‰çº¦æŸï¼Œä¸è¦å»è¿å</li>
</ul>
<p>Mavenä¼šè§„å®šè¦å¦‚ä½•å»ç¼–å†™Javaä»£ç ï¼Œå¿…éœ€æŒ‰è§„èŒƒæ¥ã€‚</p>
<h2 id="5-2-ä¸‹è½½å®‰è£…Maven"><a href="#5-2-ä¸‹è½½å®‰è£…Maven" class="headerlink" title="5.2 ä¸‹è½½å®‰è£…Maven"></a>5.2 ä¸‹è½½å®‰è£…Maven</h2><p>å®˜ç½‘ï¼š<a href="https://maven.apache.org/">https://maven.apache.org/</a></p>
<h2 id="5-3é…ç½®ç¯å¢ƒå˜é‡"><a href="#5-3é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="5.3é…ç½®ç¯å¢ƒå˜é‡"></a>5.3é…ç½®ç¯å¢ƒå˜é‡</h2><ul>
<li>M2_HOME mavenç›®å½•ä¸‹çš„binç›®å½•</li>
<li>MAVEN_HOME mavençš„ç›®å½•</li>
<li>åœ¨ç³»ç»Ÿçš„pathä¸­é…ç½®%MAVEN_HOME%\bin</li>
</ul>
<h2 id="5-4-é˜¿é‡Œäº‘é•œåƒ"><a href="#5-4-é˜¿é‡Œäº‘é•œåƒ" class="headerlink" title="5.4 é˜¿é‡Œäº‘é•œåƒ"></a>5.4 é˜¿é‡Œäº‘é•œåƒ</h2><ul>
<li>é•œåƒï¼šmirrors</li>
<li>ä½œç”¨ï¼šåŠ é€Ÿæˆ‘ä»¬çš„ä¸‹è½½</li>
<li>å›½å†…å»ºè®®ä½¿ç”¨é˜¿é‡Œäº‘çš„é•œåƒ</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-5-æœ¬åœ°ä»“åº“"><a href="#5-5-æœ¬åœ°ä»“åº“" class="headerlink" title="5.5 æœ¬åœ°ä»“åº“"></a>5.5 æœ¬åœ°ä»“åº“</h2><p>åœ¨æœ¬åœ°çš„ä»“åº“ï¼Œè¿œç¨‹ä»“åº“ï¼› å»ºç«‹ä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼šlocalRepository</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\apache-maven-3.6.1\maven-repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-6-åœ¨IDEAä¸­ä½¿ç”¨Maven"><a href="#5-6-åœ¨IDEAä¸­ä½¿ç”¨Maven" class="headerlink" title="5.6 åœ¨IDEAä¸­ä½¿ç”¨Maven"></a>5.6 åœ¨IDEAä¸­ä½¿ç”¨Maven</h2><ol>
<li>å¯åŠ¨IDEA</li>
<li>åˆ›å»ºMavené¡¹ç›®</li>
</ol>
<p><img src="/2022/04/15/JavaWeb/image-20200810203643281.png" alt="image-20200810203643281"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200810203635647.png" alt="image-20200810203635647"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200810203626547.png" alt="image-20200810203626547"></p>
<ol>
<li>è‡ªåŠ¨å¯¼å…¥åŒ…</li>
</ol>
<p><img src="/2022/04/15/JavaWeb/image-20200809153649447-1597062868074.png" alt="image-20200809153649447"></p>
<ol>
<li>è§‚å¯ŸMavenä»“åº“å¤šäº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</li>
<li>IDEAä¸­çš„Mavenè®¾ç½®<img src="/2022/04/15/JavaWeb/image-20200809153652721.png" alt="image-20200809153652721"></li>
</ol>
<p>æ³¨æ„ï¼šé¡¹ç›®åˆ›å»ºå®Œæˆåï¼ŒIDEAæœ‰æ—¶å€™ä¼šé€‰æ‹©é»˜è®¤çš„Mavenï¼Œè¦åˆ‡æ¢æˆæœ¬åœ°çš„</p>
<ol>
<li>åˆ°è¿™é‡Œï¼ŒMavenåœ¨IDEAä¸­çš„é…ç½®å’Œä½¿ç”¨å°±OKäº†ã€‚</li>
</ol>
<h2 id="5-7-åˆ›å»ºç©ºçš„Mavené¡¹ç›®"><a href="#5-7-åˆ›å»ºç©ºçš„Mavené¡¹ç›®" class="headerlink" title="5.7 åˆ›å»ºç©ºçš„Mavené¡¹ç›®"></a>5.7 åˆ›å»ºç©ºçš„Mavené¡¹ç›®</h2><h2 id="5-8-æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"><a href="#5-8-æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½" class="headerlink" title="5.8 æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"></a>5.8 æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½</h2><p><img src="/2022/04/15/JavaWeb/image-20200809154810436.png" alt="image-20200809154810436"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200809154954627.png" alt></p>
<h2 id="5-9-åœ¨IDEAä¸­é…ç½®Tomcat"><a href="#5-9-åœ¨IDEAä¸­é…ç½®Tomcat" class="headerlink" title="5.9 åœ¨IDEAä¸­é…ç½®Tomcat"></a>5.9 åœ¨IDEAä¸­é…ç½®Tomcat</h2><p><img src="/2022/04/15/JavaWeb/image-20200809155432217.png" alt="image-20200809155432217"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200809155504072.png" alt="image-20200809155504072"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200809155955019.png" alt="image-20200809155955019"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200809160017505.png" alt="image-20200809160017505"></p>
<p>ç‚¹å‡»å¯åŠ¨</p>
<p><img src="/2022/04/15/JavaWeb/image-20200809160246508-1597062778904.png" alt="image-20200809160246508"></p>
<h2 id="5-10-pomæ–‡ä»¶"><a href="#5-10-pomæ–‡ä»¶" class="headerlink" title="5.10 pomæ–‡ä»¶"></a>5.10 pomæ–‡ä»¶</h2><p>pom.xmlæ˜¯Mavençš„æ ¸å¿ƒé…ç½®æ–‡ä»¶<br><img src="/2022/04/15/JavaWeb/image-20200809160632461.png" alt="image-20200809160632461"></p>
<p>mavenç”±äºçº¦å®šå¤§äºé…ç½®ï¼Œä¹‹åå¯èƒ½é‡åˆ°å†™çš„é…ç½®æ–‡ä»¶æ— æ³•è¢«å¯¼å‡ºæˆ–è€…ç”Ÿæ•ˆçš„é—®é¢˜ï¼Œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="6-Servlet"><a href="#6-Servlet" class="headerlink" title="6 Servlet"></a>6 Servlet</h1><p>6.1 Servletç®€ä»‹</p>
<ul>
<li>Servletå°±æ˜¯sunå…¬å¸å¼€å‘åŠ¨æ€webçš„ä¸€é—¨æŠ€æœ¯</li>
<li>Sunåœ¨è¿™äº›APIä¸­æä¾›äº†ä¸€ä¸ªæ¥å£å«Servletï¼Œå¦‚æœæƒ³å¼€å‘Servletï¼Œåªéœ€è¦<ul>
<li>ç¼–å†™ç±»ï¼Œå®ç°Servletæ¥å£</li>
<li>æŠŠå¼€å‘å¥½çš„javaç±»éƒ¨ç½²åˆ°webæœåŠ¡å™¨ä¸­</li>
</ul>
</li>
</ul>
<p><strong>æŠŠå®ç°äº†Servletæ¥å£çš„Javaç¨‹åºå«åšServlet</strong></p>
<h2 id="6-2-HelloServlet"><a href="#6-2-HelloServlet" class="headerlink" title="6.2 HelloServlet"></a>6.2 HelloServlet</h2><p>Servletæ¥å£æœ‰ä¸¤ä¸ªé»˜è®¤çš„å®ç°ç±»ï¼ŒHttpServletï¼ŒGenericServlet</p>
<ol>
<li><p>åˆ›å»ºæ™®é€šMavené¡¹ç›®ï¼Œåˆ é™¤srcï¼Œåœ¨é‡Œé¢å»ºç«‹Module</p>
</li>
<li><p>å…³äºMavençˆ¶å­å·¥ç¨‹çš„ç†è§£ï¼š</p>
<ol>
<li><p>çˆ¶é¡¹ç›®ä¸­ä¼šæœ‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>servlet-01<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­é¡¹ç›®é‡Œä¼šæœ‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaweb-02-servlet<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zz<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>Mavenç¯å¢ƒä¼˜åŒ–</p>
<ol>
<li><p>ä¿®æ”¹web.xmlä¸ºæœ€æ–°çš„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee</span></span></span><br><span class="line"><span class="string"><span class="tag">http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">metadata-complete</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<ol>
<li>å°†Mavençš„ç»“æ„æ­å»ºå®Œæ•´</li>
</ol>
<ol>
<li><p>ç¼–å†™ä¸€ä¸ªServletç¨‹åº</p>
<ol>
<li>ç¼–å†™ä¸€ä¸ªæ™®é€šç±»</li>
<li>å®ç°Servletæ¥å£ï¼Œç»§æ‰¿HttpServlet</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”±äºgetå’Œpoståªæ˜¯è¯·æ±‚å®ç°çš„ä¸åŒæ–¹å¼ï¼Œå¯ä»¥ç›¸äº’è°ƒç”¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ServletOutputStream outputStream = resp.getOutputStream();</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();<span class="comment">//å“åº”æµ</span></span><br><span class="line">        writer.println(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>ç¼–å†™Servletæ˜ å°„</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ˜ å°„ï¼Ÿå†™çš„æ˜¯Javaç¨‹åºï¼Œä½†æ˜¯è¦é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œæµè§ˆå™¨éœ€è¦è¿æ¥webæœåŠ¡å™¨ï¼Œæ‰€ä»¥éœ€è¦åœ¨webæœåŠ¡å™¨ä¸­æ³¨å†ŒServletï¼Œè¿˜éœ€ç»™å®ƒä¸€ä¸ªæµè§ˆå™¨èƒ½å¤Ÿè®¿é—®çš„è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ³¨å†Œservlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.zz.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¯·æ±‚è·¯å¾„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®Tomcat</p>
</li>
<li><p>å¯åŠ¨æµ‹è¯•</p>
</li>
</ol>
<h2 id="6-3-ServletåŸç†"><a href="#6-3-ServletåŸç†" class="headerlink" title="6.3 ServletåŸç†"></a>6.3 ServletåŸç†</h2><p>Servletæ˜¯ç”±WebæœåŠ¡å™¨è°ƒç”¨ï¼ŒwebæœåŠ¡å™¨åœ¨æ”¶åˆ°æµè§ˆå™¨è¯·æ±‚ä¹‹åï¼Œä¼šï¼š</p>
<p><img src="/2022/04/15/JavaWeb/image-20200809211518115.png" alt="image-20200809211518115"></p>
<h2 id="6-4-Mapping"><a href="#6-4-Mapping" class="headerlink" title="6.4 Mapping"></a>6.4 Mapping</h2><ol>
<li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šä¸€ä¸ªæ˜ å°„è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šå¤šä¸ªæ˜ å°„è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello2<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello3<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello4<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello5<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šé€šç”¨æ˜ å°„è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é»˜è®¤è¯·æ±‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--é»˜è®¤è¯·æ±‚è·¯å¾„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>æŒ‡å®šä¸€äº›åç¼€æˆ–è€…å‰ç¼€</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¯ä»¥è‡ªå®šä¹‰åç¼€å®ç°è¯·æ±‚æ˜ å°„</span></span><br><span class="line"><span class="comment">    æ³¨æ„ç‚¹ï¼Œ*å‰é¢ä¸èƒ½åŠ é¡¹ç›®æ˜ å°„çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">    hello/sajdlkajda.qinjiang</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.qinjiang<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¼˜å…ˆçº§é—®é¢˜ï¼š</p>
<p>æŒ‡å®šäº†å›ºæœ‰çš„æ˜ å°„è·¯å¾„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šèµ°é»˜è®¤çš„å¤„ç†è¯·æ±‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ³¨å†Œservlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.zz.servlet.ErrorServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¯·æ±‚è·¯å¾„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="6-5-ServletContext"><a href="#6-5-ServletContext" class="headerlink" title="6.5 ServletContext"></a>6.5 ServletContext</h2><p>webå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªwebç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†å½“å‰çš„webåº”ç”¨ï¼›</p>
<h3 id="1-å…±äº«æ•°æ®"><a href="#1-å…±äº«æ•°æ®" class="headerlink" title="1.å…±äº«æ•°æ®"></a>1.å…±äº«æ•°æ®</h3><p>æˆ‘å†è¿™ä¸ªServletä¸­ä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥åœ¨å¦ä¸€ä¸ªservletä¸­æ‹¿åˆ°</p>
<p>æ”¾æ•°æ®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//this.getInitParameter();</span></span><br><span class="line">        <span class="comment">//this.getServletConfig();</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;zz&quot;</span>;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;username&quot;</span>,name);<span class="comment">//å°†æ•°æ®ä¿å­˜åœ¨contextä¸­ï¼Œåå­—ä¸ºusernameï¼Œå€¼ä¸ºâ€œzzâ€</span></span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¯»æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> (String)servletContext.getAttribute(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.println(<span class="string">&quot;å§“åï¼š&quot;</span>+ username);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-è·å–åˆå§‹åŒ–å‚æ•°"><a href="#2-è·å–åˆå§‹åŒ–å‚æ•°" class="headerlink" title="2.è·å–åˆå§‹åŒ–å‚æ•°"></a>2.è·å–åˆå§‹åŒ–å‚æ•°</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®webåˆå§‹åŒ–å‚æ•°--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>url<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo03</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> context.getInitParameter(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        resp.getWriter().println(url);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-è¯·æ±‚è½¬å‘"><a href="#3-è¯·æ±‚è½¬å‘" class="headerlink" title="3.è¯·æ±‚è½¬å‘"></a>3.è¯·æ±‚è½¬å‘</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo04</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥äº†Demo04&quot;</span>);</span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> context.getRequestDispatcher(<span class="string">&quot;/gp&quot;</span>);</span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é‡å®šå‘ä¸è½¬å‘ï¼š</p>
<p><img src="/2022/04/15/JavaWeb/image-20200810163353282.png" alt="image-20200810163353282"></p>
<h3 id="4-è¯»å–èµ„æºæ–‡ä»¶"><a href="#4-è¯»å–èµ„æºæ–‡ä»¶" class="headerlink" title="4.è¯»å–èµ„æºæ–‡ä»¶"></a>4.è¯»å–èµ„æºæ–‡ä»¶</h3><p>Properties</p>
<ul>
<li>åœ¨javaç›®å½•ä¸‹æ–°å»ºproperties</li>
<li>åœ¨resourcesç›®å½•ä¸‹æ–°å»ºproperties</li>
</ul>
<p>å‘ç°éƒ½è¢«æ‰“åŒ…åˆ°äº†åŒä¸€ä¸ªè·¯å¾„ä¸‹ï¼šclassesï¼Œä¿—ç§°classpath</p>
<p>æ€è·¯ï¼šéœ€è¦ä¸€ä¸ªæ–‡ä»¶æµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo05</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext().getResourceAsStream(<span class="string">&quot;/WEB-INF/classes/db.properties&quot;</span>);</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">prop</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        prop.load(is);</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> prop.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> prop.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        resp.getWriter().println(username);</span><br><span class="line">        resp.getWriter().println(password);</span><br><span class="line">        is.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-6-HttpServletResponse"><a href="#6-6-HttpServletResponse" class="headerlink" title="6.6 HttpServletResponse"></a>6.6 HttpServletResponse</h2><p>webæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œé’ˆå¯¹è¿™ä¸ªè¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯·æ±‚çš„HttpServletRequestå¯¹è±¡å’Œä¸€ä¸ªä»£è¡¨å“åº”çš„HttpServletResponseå¯¹è±¡</p>
<ul>
<li>å¦‚æœè¦è·å–å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•° ï¼šæ‰¾HttpServletRequest</li>
<li>å¦‚æœè¦ç»™å®¢æˆ·ç«¯å“åº”ä¸€äº›ä¿¡æ¯ï¼Œæ‰¾HttpServletResponse</li>
</ul>
<h3 id="1-ç®€å•åˆ†ç±»"><a href="#1-ç®€å•åˆ†ç±»" class="headerlink" title="1.ç®€å•åˆ†ç±»"></a>1.ç®€å•åˆ†ç±»</h3><p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">servletOutputstream <span class="title function_">getOutputstream</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">   Printwriter <span class="title function_">getwriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>
<p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setCharacterEncoding</span><span class="params">(String var1)</span>ï¼›</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentLength</span><span class="params">(<span class="type">int</span> var1)</span>ï¼›</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentLengthLong</span><span class="params">(<span class="type">long</span> var1)</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentType</span><span class="params">(String var1)</span>ï¼›</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setDateHeader</span><span class="params">(String varl,<span class="type">long</span> var2)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addDateHeader</span><span class="params">(String var1,<span class="type">long</span> var2)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setHeader</span><span class="params">(String var1,String var2)</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addHeader</span><span class="params">(String var1,String var2)</span>ï¼›</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setIntHeader</span><span class="params">(String var1,<span class="type">int</span> var2)</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addIntHeader</span><span class="params">(String varl,<span class="type">int</span> var2)</span>;</span><br></pre></td></tr></table></figure>
<p>å“åº”çš„çŠ¶æ€ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">SC_OK</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NOT_FOUND</span> <span class="operator">=</span> <span class="number">404</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_BAD_GATEWAY</span> <span class="operator">=</span> <span class="number">502</span>;</span><br></pre></td></tr></table></figure>
<h3 id="2-å¸¸è§åº”ç”¨"><a href="#2-å¸¸è§åº”ç”¨" class="headerlink" title="2.å¸¸è§åº”ç”¨"></a>2.å¸¸è§åº”ç”¨</h3><ol>
<li><p>å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯</p>
</li>
<li><p>ä¸‹è½½æ–‡ä»¶</p>
<ol>
<li>è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</li>
<li>ä¸‹è½½çš„æ–‡ä»¶å</li>
<li>ä¸‹è½½çš„æ–‡ä»¶åè®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨æ”¯æŒä¸‹è½½éœ€è¦çš„ä¸œè¥¿</li>
<li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</li>
<li>åˆ›å»ºç¼“å†²åŒº</li>
<li>è·å–OutputStreamå¯¹è±¡</li>
<li>å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒº</li>
<li>ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯</li>
</ol>
</li>
<li><p>éªŒè¯ç </p>
<p>éªŒè¯ç æ€ä¹ˆæ¥çš„ï¼Ÿ</p>
<ul>
<li>å‰ç«¯å®ç°</li>
<li>åç«¯å®ç°ï¼Œéœ€è¦ç”¨åˆ°javaçš„å›¾ç‰‡ç±»ï¼Œç”Ÿæˆå›¾ç‰‡</li>
</ul>
</li>
<li><p><strong>é‡å®šå‘</strong></p>
<p><img src="/2022/04/15/JavaWeb/image-20200810184241730.png" alt="image-20200810184241730"></p>
<p>ä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä»–ä¼šé€šçŸ¥Aå®¢æˆ·ç«¯å»è®¿é—®å¦ä¸€ä¸ªwebèµ„æºCï¼Œè¿™ä¸ªè¿‡ç¨‹å«é‡å®šå‘</p>
<p>å¸¸è§åœºæ™¯</p>
<ul>
<li>ç”¨æˆ·ç™»å½•</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedirectServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/response/image&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«ï¼Ÿ</p>
<p>ç›¸åŒç‚¹ï¼š</p>
<ul>
<li>é¡µé¢éƒ½ä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
<p>ä¸åŒç‚¹ï¼š</p>
<ul>
<li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šå‘ç”Ÿå˜åŒ–</li>
<li>é‡å®šå‘çš„æ—¶å€™ï¼Œurlåœ°å€ä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
<p>index.jsp</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;Hello World!&lt;/h2&gt;</span><br><span class="line">&lt;%--è¿™é‡Œæäº¤çš„è·¯å¾„éœ€è¦å¯»æ‰¾åˆ°é¡¹ç›®çš„è·¯å¾„--%&gt;</span><br><span class="line">&lt;%--$&#123;pageContext. request, contextPath&#125;ä»£è¡¨å½“å‰çš„é¡¹ç›®--%&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>RequestTest</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//å¤„ç†è¯·æ±‚</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(username+password);</span><br><span class="line">        <span class="comment">//é‡å®šå‘çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™404</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/response/success.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-7-HttpServletRequest"><a href="#6-7-HttpServletRequest" class="headerlink" title="6.7 HttpServletRequest"></a>6.7 HttpServletRequest</h2><p>HttpServletRequestä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç”¨æˆ·é€šè¿‡Httpåè®®è®¿é—®æœåŠ¡å™¨ï¼ŒHttpè¯·æ±‚ä¸­çš„æ‰€æœ‰ä¿¡æ¯ä¼šè¢«å°è£…åˆ°HttpServletRequest,é€šè¿‡è¿™ä¸ªHttpServletRequestçš„æ–¹æ³•,è·å¾—å®¢æˆ·ç«¯çš„æ‰€æœ‰ä¿¡æ¯</p>
<p><img src="/2022/04/15/JavaWeb/image-20200810192812503.png" alt="image-20200810192812503"></p>
<p><img src="/2022/04/15/JavaWeb/image-20200810192825638.png" alt="image-20200810192825638"></p>
<h3 id="1-è·å–å‰ç«¯çš„å‚æ•°"><a href="#1-è·å–å‰ç«¯çš„å‚æ•°" class="headerlink" title="1.è·å–å‰ç«¯çš„å‚æ•°"></a>1.è·å–å‰ç«¯çš„å‚æ•°</h3><p><img src="/2022/04/15/JavaWeb/image-20200810193006772.png" alt="image-20200810193006772"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String[] hobbies = req.getParameterValues(<span class="string">&quot;hobby&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">        System.out.println(password);</span><br><span class="line">        System.out.println(Arrays.toString(hobbies));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡è¯·æ±‚è½¬å‘</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œçš„/ ä»£è¡¨å½“å‰çš„webåº”ç”¨</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/success.jsp&quot;</span>).forward(req, resp);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«ï¼Ÿ</p>
<p>ç›¸åŒç‚¹ï¼š</p>
<ul>
<li>é¡µé¢éƒ½ä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
<p>ä¸åŒç‚¹ï¼š</p>
<ul>
<li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šå‘ç”Ÿå˜åŒ–  307</li>
<li>é‡å®šå‘çš„æ—¶å€™ï¼Œurlåœ°å€ä¼šå‘ç”Ÿå˜åŒ–  302</li>
</ul>
<h1 id="7-Cookkieã€Session"><a href="#7-Cookkieã€Session" class="headerlink" title="7 Cookkieã€Session"></a>7 Cookkieã€Session</h1><h2 id="7-1-ä¼šè¯"><a href="#7-1-ä¼šè¯" class="headerlink" title="7.1 ä¼šè¯"></a>7.1 ä¼šè¯</h2><p>ä¼šè¯ï¼šç”¨æˆ·æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»äº†å¾ˆå¤šè¶…é“¾æ¥ï¼Œè®¿é—®å¤šä¸ªwebèµ„æºï¼Œå…³é—­æµè§ˆå™¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥æˆä¸ºä¼šè¯</p>
<p>æœ‰çŠ¶æ€ä¼šè¯ï¼šä¸€ä¸ªåŒå­¦æ¥è¿‡æ•™å®¤ï¼Œä¸‹æ¬¡å†æ¥ï¼Œå°±ä¼šçŸ¥é“ä»–æ›¾ç»æ¥è¿‡</p>
<p>å¦‚ä½•è¯æ˜æ˜¯å­¦ç”Ÿï¼Ÿ</p>
<p>å­¦ç”Ÿ  å­¦æ ¡</p>
<ol>
<li>å‘ç¥¨ å­¦æ ¡ç»™å­¦ç”Ÿå‘ç¥¨</li>
<li>å­¦æ ¡ç™»è®° å­¦æ ¡æ ‡è®°å­¦ç”Ÿæ¥è¿‡</li>
</ol>
<p>ä¸€ä¸ªç½‘ç«™ï¼Œå¦‚ä½•è¯æ˜æ¥è¿‡ï¼Ÿ</p>
<p>å®¢æˆ·ç«¯   æœåŠ¡ç«¯</p>
<ol>
<li>æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ä¸€ä¸ªä¿¡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹æ¬¡è®¿é—®æœåŠ¡ç«¯å¸¦ä¸Šä¿¡ä»¶å°±å¯ä»¥äº†ï¼›cookie</li>
<li>æœåŠ¡å™¨ç™»è®°ä½ æ¥è¿‡äº†ï¼Œä¸‹æ¬¡æ¥æœåŠ¡å™¨æ¥åŒ¹é…ï¼›session</li>
</ol>
<h2 id="7-2ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"><a href="#7-2ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯" class="headerlink" title="7.2ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"></a>7.2ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯</h2><p>cookie</p>
<ul>
<li>å®¢æˆ·ç«¯æŠ€æœ¯ï¼ˆå“åº”ï¼Œè¯·æ±‚ï¼‰</li>
</ul>
<p>session</p>
<ul>
<li>æœåŠ¡å™¨æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯ã€‚å¯ä»¥æŠŠä¿¡æ¯æˆ–è€…æ•°æ®æ”¾åœ¨Sessionä¸­</li>
</ul>
<p>å¸¸è§åº”ç”¨ï¼šç½‘ç«™ç™»å½•ä¹‹åï¼Œä¸‹æ¬¡å°±ä¸ç”¨å†ç™»å½•äº†</p>
<h2 id="7-3-Cookie"><a href="#7-3-Cookie" class="headerlink" title="7.3 Cookie"></a>7.3 Cookie</h2><ol>
<li>ä»è¯·æ±‚ä¸­æ‹¿åˆ°cookieä¿¡æ¯</li>
<li>æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å“åº”cookie</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie[] cookies = req.getCookies();<span class="comment">//è·å¾—cookie</span></span><br><span class="line">cookie.getName();<span class="comment">//è·å¾—cookieçš„key</span></span><br><span class="line">cookie.getValue();<span class="comment">//è·å¾—cookieçš„å€¼</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);<span class="comment">//æ–°å»ºcookie</span></span><br><span class="line">cookie.setMaxAge(-<span class="number">1</span>);<span class="comment">//è®¾ç½®æœ‰æ•ˆæœŸ</span></span><br><span class="line">resp.addCookie(cookie);<span class="comment">//æ·»åŠ cookie</span></span><br></pre></td></tr></table></figure>
<p>cookie:ä¸€èˆ¬å›ä¿å­˜åœ¨æœ¬åœ°çš„ç”¨æˆ·ç›®å½•ä¸‹ appdataï¼›</p>
<p>ä¸€ä¸ªç½‘ç«™çš„cookieæ˜¯å¦å­˜åœ¨ä¸Šé™</p>
<ul>
<li>ä¸€ä¸ªcookieåªèƒ½ä¿å­˜ä¸€ä¸ªä¿¡æ¯ï¼›key-value</li>
<li>ä¸€ä¸ªwebç«™ç‚¹å¯ä»¥ç»™æµè§ˆå™¨å‘é€å¤šä¸ªcookieï¼Œæœ€å¤šå­˜æ”¾20ä¸ªcookie</li>
<li>cookieå¤§å°æœ‰é™åˆ¶  4kb</li>
<li>æµè§ˆå™¨ä¸Šé™ 300ä¸ªcookie</li>
</ul>
<p>åˆ é™¤Cookie:</p>
<ul>
<li>ä¸è®¾ç½®æœ‰æ•ˆæœŸï¼Œå…³é—­æµè§ˆå™¨ï¼Œè‡ªåŠ¨å¤±æ•ˆ</li>
<li>è®¾ç½®æœ‰æ•ˆæœŸæ—¶é—´ä¸º0</li>
</ul>
<p>ç¼–ç è§£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;name&quot;</span>, URLEncoder.encode(<span class="string">&quot;é»‘æ€•&quot;</span>,<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">out.write(URLDecoder.decode(cookie.getValue(),<span class="string">&quot;utf-8&quot;</span>));</span><br></pre></td></tr></table></figure>
<h2 id="7-4-Sessionï¼ˆé‡ç‚¹ï¼‰"><a href="#7-4-Sessionï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="7.4 Sessionï¼ˆé‡ç‚¹ï¼‰"></a>7.4 Sessionï¼ˆé‡ç‚¹ï¼‰</h2><p>ä»€ä¹ˆæ˜¯Session:</p>
<ul>
<li>æœåŠ¡å™¨ä¼šç»™æ¯ä¸€ä¸ªç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰åˆ›å»ºä¸€ä¸ªSessionå¯¹è±¡</li>
<li>ä¸€ä¸ªSeesionç‹¬å ä¸€ä¸ªæµè§ˆå™¨ï¼Œåªè¦æµè§ˆå™¨æ²¡æœ‰å…³é—­ï¼Œè¿™ä¸ªsessionå°±å­˜åœ¨</li>
<li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œæ•´ä¸ªç½‘ç«™éƒ½å¯ä»¥è®¿é—®â€”&gt;ä¿å­˜ç”¨æˆ·ä¿¡æ¯</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">//å¾—åˆ°session</span><br><span class="line">HttpSession session = req.getSession();</span><br><span class="line">//ç»™sessionå­˜ä¸œè¥¿</span><br><span class="line">//session.setAttribute(&quot;name&quot;,&quot;é»‘æ€•&quot;);</span><br><span class="line">session.setAttribute(&quot;name&quot;,new Person(&quot;zz&quot;,1));</span><br><span class="line">//ç§»é™¤session</span><br><span class="line">session.removeAttribute(&quot;name&quot;);</span><br><span class="line">//æ‰‹åŠ¨æ³¨é”€</span><br><span class="line">session.invalidate();</span><br></pre></td></tr></table></figure>
<p>Sessionä¸Cookieçš„åŒºåˆ«</p>
<ul>
<li>Cookie æŠŠç”¨æˆ·çš„æ•°æ®å†™ç»™ç”¨æˆ·çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¿å­˜</li>
<li>SessionæŠŠç”¨æˆ·çš„æ•°æ®å†™é“ç”¨æˆ·ç‹¬å çš„Sessionä¸­ï¼ŒæœåŠ¡å™¨ç«¯ä¿å­˜ï¼ˆä¿å­˜é‡è¦çš„ä¿¡æ¯ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æºçš„æµªè´¹ï¼‰</li>
<li>Sessionå¯¹è±¡ç”±æœåŠ¡å™¨åˆ›å»º</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>ä¿å­˜ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯</li>
<li>è´­ç‰©è½¦</li>
<li>æ•´ä¸ªç½‘ç«™ä¸­ç»å¸¸ä½¿ç”¨çš„æ•°æ®ä¿å­˜åœ¨sessionä¸­</li>
</ul>
<p>ä¼šè¯è‡ªåŠ¨è¿‡æœŸ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®sessioné»˜è®¤çš„å¤±æ•ˆæ—¶é—´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¤±æ•ˆæ—¶é—´ï¼Œåˆ†é’Ÿä¸ºå•ä½--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>5<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Cookieï¼š</p>
<p><img src="/2022/04/15/JavaWeb/image-20200811115243045.png" alt="image-20200811115243045"></p>
<p>Session</p>
<p><img src="/2022/04/15/JavaWeb/image-20200811115511768.png" alt="image-20200811115511768"></p>
<p>ServletContext</p>
<p><img src="/2022/04/15/JavaWeb/image-20200811115641403.png" alt="image-20200811115641403"></p>
<h1 id="8-JSP"><a href="#8-JSP" class="headerlink" title="8 JSP"></a>8 JSP</h1><h2 id="8-1-ä»€ä¹ˆæ˜¯JSP"><a href="#8-1-ä»€ä¹ˆæ˜¯JSP" class="headerlink" title="8.1 ä»€ä¹ˆæ˜¯JSP"></a>8.1 ä»€ä¹ˆæ˜¯JSP</h2><p>Java Server Pages:JavaæœåŠ¡å™¨ç«¯é¡µé¢ï¼Œä¹Ÿå’ŒServletä¸€æ ·ï¼Œç”¨äºåŠ¨æ€WebæŠ€æœ¯ï¼</p>
<p>æœ€å¤§çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p>JSPå°±åƒHTML</p>
</li>
<li><p>åŒºåˆ«</p>
<ul>
<li>HTMLåªç»™ç”¨æˆ·æä¾›é™æ€çš„æ•°æ®</li>
<li>jspé¡µé¢ä¸­å¯ä»¥åµŒå…¥Javaä»£ç ï¼Œä¸ºç”¨æˆ·æä¾›åŠ¨æ€æ•°æ®</li>
</ul>
</li>
</ul>
<h2 id="8-2-JSPåŸç†"><a href="#8-2-JSPåŸç†" class="headerlink" title="8.2 JSPåŸç†"></a>8.2 JSPåŸç†</h2><p>æ€è·¯ï¼šJSPæ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Ÿ</p>
<ul>
<li><p>ä»£ç å±‚é¢ï¼šä¸HTMLç›¸åŒ</p>
</li>
<li><p>æœåŠ¡å™¨å†…éƒ¨å·¥ä½œ</p>
<ul>
<li><p>tomcatä¸­æœ‰ä¸€ä¸ªworkç›®å½•</p>
<p>IDEAä¸­ä½¿ç”¨tomcatä¼šåœ¨IDEAçš„tomcatä¸­ç”Ÿæˆä¸€ä¸ªworkç›®å½•</p>
</li>
</ul>
</li>
</ul>
<p><strong>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä¸ç®¡è®¿é—®ä»€ä¹ˆèµ„æºï¼Œå…¶å®éƒ½æ˜¯åœ¨è®¿é—®Servlet</strong></p>
<p>JSPæœ€ç»ˆä¹Ÿä¼šè¢«è½¬æ¢æˆä¸€ä¸ªJavaç±»</p>
<p><strong>JSPæœ¬è´¨å®å°±æ˜¯ä¸€ä¸ªServlet</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspInit</span><span class="params">()</span> &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//é”€æ¯</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspDestroy</span><span class="params">()</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//JSPService</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspService</span><span class="params">(.HttpServletRequest request,HttpServletResponse response)</span></span><br></pre></td></tr></table></figure>
<ol>
<li>åˆ¤æ–­è¯·æ±‚</li>
<li>å†…ç½®äº†ä¸€äº›å¯¹è±¡</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> javax.servlet.jsp.PageContext pageContext;  <span class="comment">//é¡µé¢ä¸Šä¸‹æ–‡</span></span><br><span class="line">javax.servlet.http.<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> <span class="literal">null</span>;    <span class="comment">//session</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletContext application;   <span class="comment">//applicationContext</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletConfig config;         <span class="comment">//config</span></span><br><span class="line">javax.servlet.jsp.<span class="type">JspWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;           <span class="comment">//out</span></span><br><span class="line"><span class="keyword">final</span> java.lang.<span class="type">Object</span> <span class="variable">page</span> <span class="operator">=</span> <span class="built_in">this</span>;               <span class="comment">//pageï¼šå½“å‰</span></span><br><span class="line">HttpServletRequest request                        <span class="comment">//è¯·æ±‚</span></span><br><span class="line">HttpServletResponse response                      <span class="comment">//å“åº”</span></span><br></pre></td></tr></table></figure>
<ol>
<li>è¾“å‡ºé¡µé¢å‰å¢åŠ çš„ä»£ç </li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.setContentType(<span class="string">&quot;text/html&quot;</span>);       <span class="comment">//è®¾ç½®å“åº”çš„é¡µé¢ç±»å‹</span></span><br><span class="line">pageContext = _jspxFactory.getPageContext(<span class="built_in">this</span>, request, response,</span><br><span class="line">       <span class="literal">null</span>, <span class="literal">true</span>, <span class="number">8192</span>, <span class="literal">true</span>);</span><br><span class="line">_jspx_page_context = pageContext;</span><br><span class="line">application = pageContext.getServletContext();</span><br><span class="line">config = pageContext.getServletConfig();</span><br><span class="line">session = pageContext.getSession();</span><br><span class="line">out = pageContext.getOut();</span><br><span class="line">_jspx_out = out;</span><br></pre></td></tr></table></figure>
<ol>
<li>ä»¥ä¸Šçš„è¿™äº›ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥åœ¨JSPé¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ï¼</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/20200506183804973.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>åœ¨JSPé¡µé¢ä¸­ï¼›</p>
<p>åªè¦æ˜¯ JAVAä»£ç å°±ä¼šåŸå°ä¸åŠ¨çš„è¾“å‡ºï¼›</p>
<p>å¦‚æœæ˜¯HTMLä»£ç ï¼Œå°±ä¼šè¢«è½¬æ¢ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">out.write(<span class="string">&quot;&lt;html&gt;\r\n&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºåˆ°å‰ç«¯</p>
<h2 id="8-3ã€JSPåŸºç¡€è¯­æ³•"><a href="#8-3ã€JSPåŸºç¡€è¯­æ³•" class="headerlink" title="8.3ã€JSPåŸºç¡€è¯­æ³•"></a>8.3ã€JSPåŸºç¡€è¯­æ³•</h2><p>ä»»ä½•è¯­è¨€éƒ½æœ‰è‡ªå·±çš„è¯­æ³•ï¼ŒJAVAä¸­æœ‰,ã€‚ JSP ä½œä¸ºjavaæŠ€æœ¯çš„ä¸€ç§åº”ç”¨ï¼Œå®ƒæ‹¥æœ‰ä¸€äº›è‡ªå·±æ‰©å……çš„è¯­æ³•ï¼ˆäº†è§£ï¼ŒçŸ¥é“å³å¯ï¼ï¼‰ï¼ŒJavaæ‰€æœ‰è¯­æ³•éƒ½æ”¯æŒï¼</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%--JSPè¡¨è¾¾å¼</span><br><span class="line">ä½œç”¨ï¼šç”¨æ¥å°†ç¨‹åºçš„è¾“å‡ºï¼Œè¾“å‡ºåˆ°å®¢æˆ·ç«¯</span><br><span class="line">&lt;%= å˜é‡æˆ–è€…è¡¨è¾¾å¼%&gt;</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%= <span class="keyword">new</span> <span class="title class_">java</span>.util.Date()%&gt;</span><br></pre></td></tr></table></figure>
<p>jspè„šæœ¬ç‰‡æ®µ</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%--jspè„šæœ¬ç‰‡æ®µ--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;=<span class="number">100</span> ; i++) &#123;</span><br><span class="line">    sum+=i;</span><br><span class="line">  &#125;</span><br><span class="line">  out.println(<span class="string">&quot;&lt;h1&gt;Sum=&quot;</span>+sum+<span class="string">&quot;&lt;/h1&gt;&quot;</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<p>è„šæœ¬ç‰‡æ®µçš„å†å®ç°</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">   <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">   out.println(x);</span><br><span class="line"> %&gt;</span><br><span class="line"> &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªJSPæ–‡æ¡£&lt;/p&gt;</span><br><span class="line"> &lt;%</span><br><span class="line">   <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">   out.println(y);</span><br><span class="line"> %&gt;</span><br><span class="line"></span><br><span class="line"> &lt;hr&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &lt;%--åœ¨ä»£ç åµŒå…¥HTMLå…ƒç´ --%&gt;</span><br><span class="line"> &lt;%</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line"> %&gt;</span><br><span class="line"> &lt;h1&gt;Hello,World  &lt;%=i%&gt; &lt;/h1&gt;</span><br><span class="line"> &lt;%</span><br><span class="line">   &#125;</span><br><span class="line"> %&gt;</span><br></pre></td></tr></table></figure>
<p>JSPå£°æ˜</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Loading Servlet!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> <span class="variable">globalVar</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">kuang</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;è¿›å…¥äº†æ–¹æ³•Kuangï¼&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<p>JSPå£°æ˜ï¼šä¼šè¢«ç¼–è¯‘åˆ°JSPç”ŸæˆJavaçš„ç±»ä¸­ï¼å…¶ä»–çš„ï¼Œå°±ä¼šè¢«ç”Ÿæˆåˆ°_jspServiceæ–¹æ³•ä¸­ï¼</p>
<p>åœ¨JSPï¼ŒåµŒå…¥Javaä»£ç å³å¯ï¼</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%%&gt;<span class="comment">//ä¸­é—´å†™javaä»£ç </span></span><br><span class="line">&lt;%=%&gt;<span class="comment">//è¾“å‡ºï¼ˆå˜é‡æˆ–è¡¨è¾¾å¼ï¼‰</span></span><br><span class="line">&lt;%!%&gt;<span class="comment">//å£°æ˜ï¼ˆå…¨å±€å˜é‡ï¼‰</span></span><br><span class="line">&lt;%--æ³¨é‡Š--%&gt;</span><br></pre></td></tr></table></figure>
<p>JSPçš„æ³¨é‡Šï¼Œä¸ä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºï¼ŒHTMLçš„ä¼šï¼</p>
<h2 id="8-4-JSPæŒ‡ä»¤"><a href="#8-4-JSPæŒ‡ä»¤" class="headerlink" title="8.4 JSPæŒ‡ä»¤"></a>8.4 JSPæŒ‡ä»¤</h2><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%<span class="meta">@page</span> args.... %&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;&quot;</span>%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--<span class="meta">@include</span>ä¼šå°†ä¸¤ä¸ªé¡µé¢åˆäºŒä¸ºä¸€--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;common/header.jsp&quot;</span>%&gt;</span><br><span class="line">&lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;common/footer.jsp&quot;</span>%&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--jSPæ ‡ç­¾</span><br><span class="line">    jsp:includeï¼šæ‹¼æ¥é¡µé¢ï¼Œæœ¬è´¨è¿˜æ˜¯ä¸‰ä¸ª</span><br><span class="line">    --%&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;/common/header.jsp&quot;</span>/&gt;</span><br><span class="line">&lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;/common/footer.jsp&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>
<h2 id="8-5-9å¤§å†…ç½®å¯¹è±¡"><a href="#8-5-9å¤§å†…ç½®å¯¹è±¡" class="headerlink" title="8.5 9å¤§å†…ç½®å¯¹è±¡"></a>8.5 9å¤§å†…ç½®å¯¹è±¡</h2><ul>
<li><p>PageContext    å­˜ä¸œè¥¿</p>
</li>
<li><p>Request     å­˜ä¸œè¥¿</p>
</li>
<li><p>Response</p>
</li>
<li><p>Session      å­˜ä¸œè¥¿</p>
</li>
<li><p>Application   ã€SerlvetContextã€‘   å­˜ä¸œè¥¿</p>
</li>
<li><p>config    ã€SerlvetConfigã€‘</p>
</li>
<li><p>out</p>
</li>
<li><p>page ï¼Œä¸ç”¨äº†è§£</p>
</li>
<li><p>exception</p>
</li>
<li><p>```java<br>pageContext.setAttribute(â€œname1â€,â€zz1â€);//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ<br>request.setAttribute(â€œname2â€,â€zz2â€); //ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®<br>session.setAttribute(â€œname3â€,â€zz3â€); //ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨<br>application.setAttribute(â€œname4â€,â€zz4â€);  //ä¿å­˜çš„æ•°æ®åªåœ¨æœåŠ¡å™¨ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  requestï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·çœ‹å®Œå°±æ²¡ç”¨äº†ï¼Œæ¯”å¦‚ï¼šæ–°é—»ï¼Œç”¨æˆ·çœ‹å®Œæ²¡ç”¨çš„ï¼</span><br><span class="line"></span><br><span class="line">  sessionï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·ç”¨å®Œä¸€ä¼šè¿˜æœ‰ç”¨ï¼Œæ¯”å¦‚ï¼šè´­ç‰©è½¦ï¼›</span><br><span class="line"></span><br><span class="line">  applicationï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·ç”¨å®Œäº†ï¼Œå…¶ä»–ç”¨æˆ·è¿˜å¯èƒ½ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šèŠå¤©æ•°æ®ï¼›</span><br><span class="line"></span><br><span class="line">## 8.6ã€JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼</span><br><span class="line"></span><br><span class="line">```xml</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;taglibs&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;standard&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ELè¡¨è¾¾å¼ï¼š  ${ }</p>
<ul>
<li><strong>è·å–æ•°æ®</strong></li>
<li><strong>æ‰§è¡Œè¿ç®—</strong></li>
<li><strong>è·å–webå¼€å‘çš„å¸¸ç”¨å¯¹è±¡</strong></li>
</ul>
<p>JSPæ ‡ç­¾</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%--jsp.include--%&gt;</span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;jsptag2.jsp&quot;</span>&gt;</span><br><span class="line">&lt;jsp:param name=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;zz&quot;</span>/&gt;</span><br><span class="line">&lt;jsp:param name=<span class="string">&quot;age&quot;</span> value=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure>
<p><strong>JSTLè¡¨è¾¾å¼</strong></p>
<p>JSTLæ ‡ç­¾åº“çš„ä½¿ç”¨å°±æ˜¯ä¸ºäº†å¼¥è¡¥HTMLæ ‡ç­¾çš„ä¸è¶³ï¼›å®ƒè‡ªå®šä¹‰è®¸å¤šæ ‡ç­¾ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæ ‡ç­¾çš„åŠŸèƒ½å’ŒJavaä»£ç ä¸€æ ·ï¼</p>
<p><strong>æ ¼å¼åŒ–æ ‡ç­¾</strong></p>
<p><strong>SQLæ ‡ç­¾</strong></p>
<p><strong>XML æ ‡ç­¾</strong></p>
<p><strong>æ ¸å¿ƒæ ‡ç­¾</strong> ï¼ˆæŒæ¡éƒ¨åˆ†ï¼‰</p>
<p><img src="/2022/04/15/JavaWeb/image-20200814104957658.png" alt="image-20200814104957658"></p>
<p><strong>JSTLæ ‡ç­¾åº“ä½¿ç”¨æ­¥éª¤</strong></p>
<ul>
<li>å¼•å…¥å¯¹åº”çš„ taglib</li>
<li>ä½¿ç”¨å…¶ä¸­çš„æ–¹æ³•</li>
<li><strong>åœ¨Tomcat ä¹Ÿéœ€è¦å¼•å…¥ jstlçš„åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šJSTLè§£æé”™è¯¯</strong></li>
</ul>
<p><strong>cï¼šif</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>ifæµ‹è¯•<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;coreif.jsp&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">    &lt;%--</span><br><span class="line">    ELè¡¨è¾¾å¼è·å–è¡¨å•ä¸­çš„æ•°æ®</span><br><span class="line">    $&#123;param.å‚æ•°å&#125;</span><br><span class="line">    --%&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;param.username&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;%--åˆ¤æ–­å¦‚æœæäº¤çš„ç”¨æˆ·åæ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç™»å½•æˆåŠŸ--%&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">&quot;$&#123;param.username==&#x27;admin&#x27;&#125;&quot;</span> <span class="attr">var</span>=<span class="string">&quot;isAdmin&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">&quot;ç®¡ç†å‘˜æ¬¢è¿æ‚¨ï¼&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;%--è‡ªé—­åˆæ ‡ç­¾--%&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;isAdmin&#125;&quot;</span>/&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>c:choose   c:when</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:set</span> <span class="attr">var</span>=<span class="string">&quot;score&quot;</span> <span class="attr">value</span>=<span class="string">&quot;85&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c:choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">&quot;$&#123;score&gt;90&#125;&quot;</span>&gt;</span></span><br><span class="line">        90</span><br><span class="line">    <span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">&quot;$&#123;score&gt;80&#125;&quot;</span>&gt;</span></span><br><span class="line">        80</span><br><span class="line">    <span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">&quot;$&#123;score&gt;70&#125;&quot;</span>&gt;</span></span><br><span class="line">        70</span><br><span class="line">    <span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:choose</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>c:forEach</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">    ArrayList<span class="tag">&lt;<span class="name">String</span>&gt;</span> people = new ArrayList<span class="tag">&lt;&gt;</span>();</span><br><span class="line">    people.add(0,&quot;å¼ ä¸‰&quot;);</span><br><span class="line">    people.add(1,&quot;æå››&quot;);</span><br><span class="line">    people.add(2,&quot;ç‹äº”&quot;);</span><br><span class="line">    people.add(3,&quot;èµµå…­&quot;);</span><br><span class="line">    people.add(4,&quot;ç”°å…­&quot;);</span><br><span class="line">    request.setAttribute(&quot;list&quot;,people);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">var , æ¯ä¸€æ¬¡éå†å‡ºæ¥çš„å˜é‡</span><br><span class="line">items, è¦éå†çš„å¯¹è±¡</span><br><span class="line">begin,   å“ªé‡Œå¼€å§‹</span><br><span class="line">end,     åˆ°å“ªé‡Œ</span><br><span class="line">step,   æ­¥é•¿</span><br><span class="line">--%&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">&quot;people&quot;</span> <span class="attr">items</span>=<span class="string">&quot;$&#123;list&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;people&#125;&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">&quot;people&quot;</span> <span class="attr">items</span>=<span class="string">&quot;$&#123;list&#125;&quot;</span> <span class="attr">begin</span>=<span class="string">&quot;1&quot;</span> <span class="attr">end</span>=<span class="string">&quot;3&quot;</span> <span class="attr">step</span>=<span class="string">&quot;1&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;people&#125;&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="9-JavaBean"><a href="#9-JavaBean" class="headerlink" title="9 JavaBean"></a>9 JavaBean</h1><p>å®ä½“ç±»</p>
<p>JavaBeanæœ‰ç‰¹å®šçš„å†™æ³•ï¼š</p>
<ul>
<li>å¿…é¡»è¦æœ‰ä¸€ä¸ªæ— å‚æ„é€ </li>
<li>å±æ€§å¿…é¡»ç§æœ‰åŒ–</li>
<li>å¿…é¡»æœ‰å¯¹åº”çš„get/setæ–¹æ³•ï¼›</li>
</ul>
<p>ä¸€èˆ¬ç”¨æ¥å’Œæ•°æ®åº“çš„å­—æ®µåšæ˜ å°„  ORMï¼›</p>
<p>ORM ï¼šå¯¹è±¡å…³ç³»æ˜ å°„</p>
<ul>
<li>è¡¨â€”&gt;ç±»</li>
<li>å­—æ®µâ€“&gt;å±æ€§</li>
<li>è¡Œè®°å½•â€”â€”&gt;å¯¹è±¡</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>age</th>
<th>address</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>zz1</td>
<td>3</td>
<td>è¥¿å®‰</td>
</tr>
<tr>
<td>2</td>
<td>zz2</td>
<td>18</td>
<td>è¥¿å®‰</td>
</tr>
<tr>
<td>3</td>
<td>zz3</td>
<td>100</td>
<td>è¥¿å®‰</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">1</span>,<span class="string">&quot;zz1&quot;</span>,<span class="number">3</span>ï¼Œ<span class="string">&quot;è¥¿å®‰&quot;</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">2</span>,<span class="string">&quot;zz2&quot;</span>,<span class="number">18</span>ï¼Œ<span class="string">&quot;è¥¿å®‰&quot;</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">People</span>(<span class="number">3</span>,<span class="string">&quot;zz3&quot;</span>,<span class="number">100</span>ï¼Œ<span class="string">&quot;è¥¿å®‰&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="10ã€MVCä¸‰å±‚æ¶æ„"><a href="#10ã€MVCä¸‰å±‚æ¶æ„" class="headerlink" title="10ã€MVCä¸‰å±‚æ¶æ„"></a>10ã€MVCä¸‰å±‚æ¶æ„</h1><ul>
<li>ä»€ä¹ˆæ˜¯MVCï¼š  Model     view     Controller  æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨</li>
</ul>
<h2 id="10-1-ä»¥å‰çš„æ¶æ„"><a href="#10-1-ä»¥å‰çš„æ¶æ„" class="headerlink" title="10.1 ä»¥å‰çš„æ¶æ„"></a>10.1 ä»¥å‰çš„æ¶æ„</h2><p><img src="/2022/04/15/JavaWeb/untitled.png" alt="untitled"></p>
<p>ç”¨æˆ·ç›´æ¥è®¿é—®æ§åˆ¶å±‚ï¼Œæ§åˆ¶å±‚å°±å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®åº“ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">servlet--CRUD--&gt;æ•°æ®åº“</span><br><span class="line">å¼Šç«¯ï¼šç¨‹åºååˆ†è‡ƒè‚¿ï¼Œä¸åˆ©äºç»´æŠ¤  </span><br><span class="line">servletçš„ä»£ç ä¸­ï¼šå¤„ç†è¯·æ±‚ã€å“åº”ã€è§†å›¾è·³è½¬ã€å¤„ç†JDBCã€å¤„ç†ä¸šåŠ¡ä»£ç ã€å¤„ç†é€»è¾‘ä»£ç </span><br><span class="line"></span><br><span class="line">æ¶æ„ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„ï¼</span><br><span class="line">ç¨‹åºçŒ¿è°ƒç”¨</span><br><span class="line">â†‘</span><br><span class="line">JDBC ï¼ˆå®ç°è¯¥æ¥å£ï¼‰</span><br><span class="line">â†‘</span><br><span class="line">Mysql Oracle SqlServer ....ï¼ˆä¸åŒå‚å•†ï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="10-2ã€MVCä¸‰å±‚æ¶æ„"><a href="#10-2ã€MVCä¸‰å±‚æ¶æ„" class="headerlink" title="10.2ã€MVCä¸‰å±‚æ¶æ„"></a>10.2ã€MVCä¸‰å±‚æ¶æ„</h2><p><img src="/2022/04/15/JavaWeb/untitled-1597383124045.png" alt="untitled"></p>
<p>Model</p>
<ul>
<li>ä¸šåŠ¡å¤„ç† ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆServiceï¼‰</li>
<li>æ•°æ®æŒä¹…å±‚ï¼šCRUD   ï¼ˆDao - æ•°æ®æŒä¹…åŒ–å¯¹è±¡ï¼‰</li>
</ul>
<p>View</p>
<ul>
<li>å±•ç¤ºæ•°æ®</li>
<li>æä¾›é“¾æ¥å‘èµ·Servletè¯·æ±‚ ï¼ˆaï¼Œformï¼Œimgâ€¦ï¼‰</li>
</ul>
<p>Controller  ï¼ˆServletï¼‰</p>
<ul>
<li>æ”¶ç”¨æˆ·çš„è¯·æ±‚ ï¼šï¼ˆreqï¼šè¯·æ±‚å‚æ•°ã€Sessionä¿¡æ¯â€¦.ï¼‰</li>
<li>äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†å¯¹åº”çš„ä»£ç </li>
<li>æ§åˆ¶è§†å›¾çš„è·³è½¬</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç™»å½•---&gt;æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚---&gt;å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ˆè·å–ç”¨æˆ·ç™»å½•çš„å‚æ•°ï¼Œusernameï¼Œpasswordï¼‰----&gt;äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†ç™»å½•ä¸šåŠ¡ï¼ˆåˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ï¼šäº‹åŠ¡ï¼‰---&gt;Daoå±‚æŸ¥è¯¢ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®--&gt;æ•°æ®åº“</span><br></pre></td></tr></table></figure>
<h1 id="11-Filter-ï¼ˆé‡ç‚¹ï¼‰"><a href="#11-Filter-ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="11 Filter ï¼ˆé‡ç‚¹ï¼‰"></a>11 Filter ï¼ˆé‡ç‚¹ï¼‰</h1><p>æ¯”å¦‚ Shiroå®‰å…¨æ¡†æ¶æŠ€æœ¯å°±æ˜¯ç”¨Filteræ¥å®ç°çš„</p>
<p>Filterï¼šè¿‡æ»¤å™¨ ï¼Œç”¨æ¥è¿‡æ»¤ç½‘ç«™çš„æ•°æ®ï¼›</p>
<ul>
<li>å¤„ç†ä¸­æ–‡ä¹±ç </li>
<li>ç™»å½•éªŒè¯â€¦.</li>
</ul>
<p><img src="/2022/04/15/JavaWeb/untitled-1597383728323.png" alt="untitled"></p>
<p>Filterå¼€å‘æ­¥éª¤ï¼š</p>
<ol>
<li><p>å¯¼åŒ…</p>
</li>
<li><p>ç¼–å†™è¿‡æ»¤å™¨</p>
<ol>
<li><p>å¯¼åŒ…ä¸è¦é”™ <strong>ï¼ˆæ³¨æ„ï¼‰</strong></p>
<p><img src="/2022/04/15/JavaWeb/image-20200814135814761.png" alt="image-20200814135814761"></p>
</li>
<li><p>å®ç°æ¥å£ï¼Œé‡å†™å¯¹åº”æ–¹æ³•</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CharatorEncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;init&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// chain é“¾</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 1 è¿‡æ»¤å™¨ä¸­æ‰€æœ‰çš„ä»£ç ï¼Œåœ¨è¿‡æ»¤ç‰¹å®šè¯·æ±‚çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="comment">    * 2 å¿…é¡»è¦è®©è¿‡æ»¤å™¨ç»§ç»­é€šè¡Œ</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html;charset=UTG-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œå‰&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);<span class="comment">//è®©è¯·æ±‚ç»§ç»­ï¼Œå¦‚æœä¸å†™å°±åœæ­¢äº†</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œå&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;destroy&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>åœ¨xmlé…ç½®Filter</li>
</ol>
</li>
</ol>
<h1 id="12-ç›‘å¬å™¨"><a href="#12-ç›‘å¬å™¨" class="headerlink" title="12 ç›‘å¬å™¨"></a>12 ç›‘å¬å™¨</h1><p>å®ç°ä¸€ä¸ªç›‘å¬å™¨çš„æ¥å£ï¼›ï¼ˆæœ‰nç§ç›‘å¬å™¨ï¼‰</p>
<ol>
<li><p>ç¼–å†™ä¸€ä¸ªç›‘å¬å™¨</p>
<p>å®ç°ç›‘å¬å™¨çš„æ¥å£â€¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OnlineCountListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span> &#123;</span><br><span class="line"><span class="comment">//åˆ›å»ºsessionç›‘å¬ çœ‹ä½ çš„ä¸€ä¸¾ä¸€åŠ¨</span></span><br><span class="line"><span class="comment">//ä¸€æ—¦åˆ›å»ºsessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(se.getSession().getId());</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> se.getSession().getServletContext();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">onlineCount</span> <span class="operator">=</span> (Integer) context.getAttribute(<span class="string">&quot;OnlineCount&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(onlineCount==<span class="literal">null</span>)&#123;</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> onlineCount.intValue();</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        context.setAttribute(<span class="string">&quot;OnlineCount&quot;</span>,onlineCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> se.getSession().getServletContext();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">onlineCount</span> <span class="operator">=</span> (Integer) context.getAttribute(<span class="string">&quot;OnlineCount&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(onlineCount==<span class="literal">null</span>)&#123;</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> onlineCount.intValue();</span><br><span class="line">            onlineCount = <span class="keyword">new</span> <span class="title class_">Integer</span>(i - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        context.setAttribute(<span class="string">&quot;OnlineCount&quot;</span>,onlineCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Sessioné”€æ¯ï¼š</span></span><br><span class="line"><span class="comment">    1. æ‰‹åŠ¨é”€æ¯  getSession().invalidate();</span></span><br><span class="line"><span class="comment">    2. è‡ªåŠ¨é”€æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li><p>xmlæ³¨å†Œç›‘å¬å™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.zz.listener.OnlineCountListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>çœ‹æƒ…å†µæ˜¯å¦ä½¿ç”¨</p>
</li>
</ol>
</li>
</ol>
<h1 id="13-è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨"><a href="#13-è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨" class="headerlink" title="13 è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨"></a>13 è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨</h1><p><strong>ç›‘å¬å™¨ï¼šGUIç¼–ç¨‹ä¸­ç»å¸¸ä½¿ç”¨ï¼›</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestPanel</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Frame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Frame</span>(<span class="string">&quot;ä¸­ç§‹èŠ‚å¿«ä¹&quot;</span>);  <span class="comment">//æ–°å»ºä¸€ä¸ªçª—ä½“</span></span><br><span class="line">        <span class="type">Panel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Panel</span>(<span class="literal">null</span>); <span class="comment">//é¢æ¿</span></span><br><span class="line">        frame.setLayout(<span class="literal">null</span>); <span class="comment">//è®¾ç½®çª—ä½“çš„å¸ƒå±€</span></span><br><span class="line"></span><br><span class="line">        frame.setBounds(<span class="number">300</span>,<span class="number">300</span>,<span class="number">500</span>,<span class="number">500</span>);</span><br><span class="line">        frame.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>)); <span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class="line"></span><br><span class="line">        panel.setBounds(<span class="number">50</span>,<span class="number">50</span>,<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">        panel.setBackground(<span class="keyword">new</span> <span class="title class_">Color</span>(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>)); <span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class="line"></span><br><span class="line">        frame.add(panel);</span><br><span class="line"></span><br><span class="line">        frame.setVisible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç›‘å¬äº‹ä»¶ï¼Œç›‘å¬å…³é—­äº‹ä»¶</span></span><br><span class="line">        frame.addWindowListener(<span class="keyword">new</span> <span class="title class_">WindowAdapter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">windowClosing</span><span class="params">(WindowEvent e)</span> &#123;</span><br><span class="line">                <span class="built_in">super</span>.windowClosing(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½è¿›å…¥ä¸»é¡µï¼ç”¨æˆ·æ³¨é”€åå°±ä¸èƒ½è¿›å…¥ä¸»é¡µäº†ï¼</p>
<ol>
<li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œå‘Sesisonä¸­æ”¾å…¥ç”¨æˆ·çš„æ•°æ®</li>
<li>è¿›å…¥ä¸»é¡µçš„æ—¶å€™è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼›è¦æ±‚ï¼šåœ¨è¿‡æ»¤å™¨ä¸­å®ç°ï¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line"><span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (request.getSession().getAttribute(<span class="string">&quot;USER_SESSION&quot;</span>) == <span class="literal">null</span>)&#123;</span><br><span class="line">    response.sendRedirect(<span class="string">&quot;/failed.jsp&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filterChain.doFilter(servletRequest, servletResponse);</span><br></pre></td></tr></table></figure>
<h1 id="14-JDBC"><a href="#14-JDBC" class="headerlink" title="14 JDBC"></a>14 JDBC</h1><p>ä»€ä¹ˆæ˜¯JDBC ï¼š Javaè¿æ¥æ•°æ®åº“ï¼</p>
<p><img src="/2022/04/15/JavaWeb/untitled-1597393274933.png" alt="untitled"></p>
<p>éœ€è¦jaråŒ…çš„æ”¯æŒï¼š</p>
<ul>
<li>java.sql</li>
<li>javax.sql</li>
<li>mysql-conneter-javaâ€¦  è¿æ¥é©±åŠ¨ï¼ˆå¿…é¡»è¦å¯¼å…¥ï¼‰</li>
</ul>
<p><strong>å®éªŒç¯å¢ƒæ­å»º</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> users(</span><br><span class="line">    id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    `name` <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">    `password` <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">60</span>),</span><br><span class="line">    birthday <span class="type">DATE</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users(id,`name`,`password`,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;zs@qq.com&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users(id,`name`,`password`,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;ls@qq.com&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users(id,`name`,`password`,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;ww@qq.com&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>å¯¼å…¥æ•°æ®åº“ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--mysqlçš„é©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>JDBC å›ºå®šæ­¥éª¤ï¼š</strong></p>
<ol>
<li>åŠ è½½é©±åŠ¨</li>
<li>è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</li>
<li>å‘æ•°æ®åº“å‘é€SQLçš„å¯¹è±¡Statement : CRUD</li>
<li>ç¼–å†™SQL ï¼ˆæ ¹æ®ä¸šåŠ¡ï¼Œä¸åŒçš„SQLï¼‰</li>
<li>æ‰§è¡ŒSQL</li>
<li>å…³é—­è¿æ¥ï¼ˆå…ˆå¼€çš„åå…³ï¼‰</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestJdbc</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="comment">//é…ç½®ä¿¡æ¯</span></span><br><span class="line">        <span class="comment">//useUnicode=true&amp;characterEncoding=utf-8 è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        String url=<span class="string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//2.è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å‘æ•°æ®åº“å‘é€SQLçš„å¯¹è±¡Statement,PreparedStatement : CRUD</span></span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.ç¼–å†™SQL</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from users&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.æ‰§è¡ŒæŸ¥è¯¢SQLï¼Œè¿”å›ä¸€ä¸ª ResultSet  ï¼š ç»“æœé›†</span></span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;id=&quot;</span>+rs.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span>+rs.getObject(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;password=&quot;</span>+rs.getObject(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;email=&quot;</span>+rs.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;birthday=&quot;</span>+rs.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼ˆä¸€å®šè¦åšï¼‰ å…ˆå¼€åå…³</span></span><br><span class="line">        rs.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>äº‹åŠ¡</strong></p>
<p>è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼</p>
<p>ACIDåŸåˆ™ï¼šä¿è¯æ•°æ®çš„å®‰å…¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å¼€å¯äº‹åŠ¡</span><br><span class="line">äº‹åŠ¡æäº¤  commit()</span><br><span class="line">äº‹åŠ¡å›æ»š  rollback()</span><br><span class="line">å…³é—­äº‹åŠ¡</span><br><span class="line"></span><br><span class="line">è½¬è´¦ï¼š</span><br><span class="line">A:<span class="number">1000</span></span><br><span class="line">B:<span class="number">1000</span></span><br><span class="line">    </span><br><span class="line">A(<span class="number">900</span>)   --<span class="number">100</span>--&gt;   B(<span class="number">1100</span>) </span><br></pre></td></tr></table></figure>
<p><strong>Junitå•å…ƒæµ‹è¯•</strong></p>
<p>ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å•å…ƒæµ‹è¯•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç®€å•ä½¿ç”¨</p>
<p>@Testæ³¨è§£åªæœ‰åœ¨æ–¹æ³•ä¸Šæœ‰æ•ˆï¼Œåªè¦åŠ äº†è¿™ä¸ªæ³¨è§£çš„æ–¹æ³•ï¼Œå°±å¯ä»¥ç›´æ¥è¿è¡Œï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­å»ºç¯å¢ƒ</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> account(</span><br><span class="line">   id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">   `name` <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">   money <span class="type">FLOAT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account(`name`,money) <span class="keyword">VALUES</span>(<span class="string">&#x27;A&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account(`name`,money) <span class="keyword">VALUES</span>(<span class="string">&#x27;B&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account(`name`,money) <span class="keyword">VALUES</span>(<span class="string">&#x27;C&#x27;</span>,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç ï¼š<a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Tomcat</tag>
        <tag>Maven</tag>
        <tag>Servlet</tag>
        <tag>JSP</tag>
        <tag>MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>RASç®—æ³•çš„æ•°å­¦åŸºç¡€</title>
    <url>/2022/04/15/RAS%E7%AE%97%E6%B3%95%E7%9A%84%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘å­¦æ ¡å¼€äº†ä¸€é—¨mathematics for cryptographyçš„è¯¾ï¼Œä¸»è¦è®²äº†ä¸€äº›å¯†ç å­¦ä¸­å¸¸ç”¨åˆ°çš„æ•°å­¦åŸç†ã€‚CSDNä¸Šå…³äºRSAçš„æ–‡ç« ä¸­ï¼Œåªçœ‹åˆ°äº†å…³äºRSAç®—æ³•çš„ä¸€äº›è®²è§£ï¼Œå¯¹äºå…¶æ¶‰åŠçš„æ•°å­¦åŸç†å¹¶æ²¡æœ‰å¤šå°‘ä»‹ç»ï¼Œå› æ­¤æƒ³å†™ç‚¹ä¸œè¥¿ä¸å¤§å®¶åˆ†äº«ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†è‡ªå·±å¤ä¹ å’Œå·©å›ºã€‚ç¬¬ä¸€æ¬¡å†™æ–‡ç« ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜å’Œä¸è¶³ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡æ­£ã€‚æ­¤å¤–ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦å‚è€ƒäº†æˆ‘ä»¬è€å¸ˆZÃ¼lfÃ¼kar SaygÄ±ï¼ˆTOBB ETÃœ - University of Economics &amp; Technologyï¼‰çš„PPTè¯¾ä»¶ï¼Œã€Šä¿¡æ¯å®‰å…¨åŸç†åŠåº”ç”¨ã€‹ç¬¬ä¸‰ç‰ˆï¼ˆç†Šå¹³ï¼Œæœ±å¤©æ¸…ï¼‰ä»¥åŠã€Šä¿¡æ¯å®‰å…¨æ•°å­¦åŸºç¡€â€”â€”ç®—æ³•ã€åº”ç”¨ä¸å®è·µã€‹ç¬¬äºŒç‰ˆï¼ˆä»»ä¼Ÿï¼‰ã€‚</p>
<span id="more"></span>
<h1 id="1-RSAç®€ä»‹"><a href="#1-RSAç®€ä»‹" class="headerlink" title="1.RSAç®€ä»‹"></a>1.RSAç®€ä»‹</h1><p>RSAæ˜¯1977å¹´ç”±éº»çœç†å·¥å­¦é™¢çš„Ron Rivest,Adi Shamirå’ŒLeonard Adlenmanæå‡ºçš„éå¯¹ç§°å…¬å¼€å¯†é’¥å¯†ç ç®—æ³•ã€‚å…¶å¯é æ€§åŸºäºå¤§æ•°çš„å› å­åˆ†è§£é—®é¢˜ã€‚ç›®å‰ä¸ºæ­¢ï¼Œä»æœªæ‰¾åˆ°å¿«é€Ÿåˆ†è§£å› å­çš„ç®—æ³•ï¼Œæ‰€ä»¥è¿˜æ²¡æœ‰ä»»ä½•å¯é çš„æ”»å‡»RSAç®—æ³•çš„æ–¹å¼ã€‚åªè¦å¯†é’¥çš„é•¿åº¦è¶³å¤Ÿé•¿ï¼Œç”¨RSAåŠ å¯†çš„ä¿¡æ¯å®é™…ä¸Šæ˜¯ä¸å¯èƒ½ç ´è§£çš„ã€‚å› æ­¤ï¼ŒRSAç®—æ³•å·²ç»æˆä¸ºç›®å‰åº”ç”¨æœ€å¹¿æ³›çš„å…¬é’¥å¯†ç ã€‚<br>RSAç®—æ³•çš„åŠ å¯†è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>1)    é€‰æ‹©ä¸¤ä¸ªè¶³å¤Ÿå¤§ç´ æ•°pã€q<br>2)    è®¡ç®—n=pÂ·q   Ğ¤=(p-1)(q-1)<br>3)    é€‰æ‹©ä¸€ä¸ªæ•°eï¼Œæ»¡è¶³1&lt;e&lt;Ğ¤ï¼Œä¸”gcdï¼ˆeï¼ŒĞ¤ï¼‰=1<br>4)    è®¡ç®—dï¼Œä½¿å¾—eÂ·dâ‰¡1 mod Ğ¤</p>
<p>å…¶ä¸­{n,e}ä¸ºå…¬é’¥ï¼Œ{n,d}ä¸ºç§é’¥ã€‚æ˜æ–‡måŠ å¯†ç®—æ³•ä¸ºc=$m^e$ mod nï¼Œæ¥æ”¶æ–¹è§£å¯†æ–¹å¼ä¸ºm= $c^d$ mod nã€‚<br>RSAçš„ç®—æ³•å¹¶ä¸å¤æ‚ï¼Œå…¶å·¥ä½œåŸç†ä¹Ÿæœ‰å¾ˆå¤šæ–‡ç« åšäº†è§£é‡Šå’Œè¯æ˜ã€‚ä¸ºäº†ç¡®ä¿ç®—æ³•çš„å¯é æ€§ï¼Œéœ€é€‰å–è¶³å¤Ÿé•¿çš„å¯†é’¥ã€‚æœ¬æ–‡å°†è®²è§£åœ¨è¶³å¤Ÿé•¿çš„å¯†é’¥ï¼ˆ1024-2048ä½ï¼Œçº¦ä¸º$10^{300}$ï¼‰çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨RSAç®—æ³•è¿ç®—æ—¶æ¶‰åŠåˆ°çš„æ•°å­¦åŸºç¡€ï¼Œä¸»è¦æœ‰Miller-Rabinæ£€æµ‹æ³•ã€è´¹é©¬å°å®šç†ã€æ¬§æ‹‰å‡½æ•°ä¸æ¬§æ‹‰å®šç†ï¼Œä¸­å›½ä½™æ•°å®šç†ä»¥åŠæ¨¡é‡å¤å¹³æ–¹ç®—æ³•ã€‚</p>
<h1 id="2-æ•°è®ºåŸºç¡€"><a href="#2-æ•°è®ºåŸºç¡€" class="headerlink" title="2.æ•°è®ºåŸºç¡€"></a>2.æ•°è®ºåŸºç¡€</h1><p>RSAç”¨åˆ°çš„æ•°å­¦åŸç†æ¶‰åŠåˆ°å¾ˆå¤šæ•°è®ºä¸­çš„æ¦‚å¿µã€‚åœ¨æ­¤åšç®€è¦è¯´æ˜ã€‚</p>
<h2 id="2-1-æ•´é™¤ï¼ˆDivisibilityï¼‰"><a href="#2-1-æ•´é™¤ï¼ˆDivisibilityï¼‰" class="headerlink" title="2.1 æ•´é™¤ï¼ˆDivisibilityï¼‰"></a>2.1 æ•´é™¤ï¼ˆDivisibilityï¼‰</h2><p>å®šç†ï¼šæ•´æ•°aå’Œbï¼Œå¦‚æœå­˜åœ¨æ•´æ•°cï¼Œä½¿å¾—b=aÂ·cï¼Œåˆ™bèƒ½è¢«aæ•´é™¤ï¼Œè®°åša|bã€‚</p>
<h2 id="2-2-ç´ æ•°ï¼ˆPrimeï¼‰"><a href="#2-2-ç´ æ•°ï¼ˆPrimeï¼‰" class="headerlink" title="2.2 ç´ æ•°ï¼ˆPrimeï¼‰"></a>2.2 ç´ æ•°ï¼ˆPrimeï¼‰</h2><p>å®šä¹‰ï¼šå¦‚æœæ•´æ•°pâ‰¥2ä¸”åªèƒ½è¢«1å’Œå®ƒæœ¬èº«æ•´é™¤ï¼Œåˆ™å…¶ä¸ºç´ æ•°ï¼Œå¦åˆ™ä¸ºåˆæ•°ï¼ˆcompositeï¼‰ã€‚</p>
<h2 id="2-3-æœ€å¤§å…¬çº¦æ•°-Greatest-Commom-Divisor-gcd"><a href="#2-3-æœ€å¤§å…¬çº¦æ•°-Greatest-Commom-Divisor-gcd" class="headerlink" title="2.3 æœ€å¤§å…¬çº¦æ•°(Greatest Commom Divisor,gcd)"></a>2.3 æœ€å¤§å…¬çº¦æ•°(Greatest Commom Divisor,gcd)</h2><p>å®šä¹‰ï¼šaå’Œbçš„æœ€å¤§å…¬çº¦æ•°æ˜¯èƒ½å¤ŸåŒæ—¶æ•´é™¤aå’Œbçš„æœ€å¤§æ­£æ•´æ•°ï¼Œè®°åšgcdï¼ˆa,bï¼‰</p>
<h2 id="2-4-åŒä½™ï¼ˆCongruence-theoremï¼‰"><a href="#2-4-åŒä½™ï¼ˆCongruence-theoremï¼‰" class="headerlink" title="2.4 åŒä½™ï¼ˆCongruence theoremï¼‰"></a>2.4 åŒä½™ï¼ˆCongruence theoremï¼‰</h2><p>å®šä¹‰ï¼šè®¾æ•´æ•°a,b,n(nâ‰ 0)ï¼Œå¦‚æœa-bæ˜¯nçš„æ•´æ•°å€ï¼Œå³a=b+knï¼Œkä¸ºæ•´æ•°ï¼Œåˆ™aâ‰¡b mod n</p>
<h2 id="2-5-ä¹˜æ³•é€†å…ƒï¼ˆMultiplicative-Inverse-Elementsï¼‰"><a href="#2-5-ä¹˜æ³•é€†å…ƒï¼ˆMultiplicative-Inverse-Elementsï¼‰" class="headerlink" title="2.5 ä¹˜æ³•é€†å…ƒï¼ˆMultiplicative Inverse Elementsï¼‰"></a>2.5 ä¹˜æ³•é€†å…ƒï¼ˆMultiplicative Inverse Elementsï¼‰</h2><p>å®šä¹‰ï¼šå¦‚æœgcdï¼ˆa,bï¼‰=1ï¼Œé‚£ä¹ˆï¼š<br>1)    å­˜åœ¨$a^{-1}$ï¼Œä½¿å¾—aÂ·a-1â‰¡1 mod bï¼Œå³(aÂ·$a^{-1}$)mod b=1;<br>2)    å­˜åœ¨$b^{-1}$ï¼Œä½¿å¾—bÂ·b-1â‰¡1 mod aï¼Œå³(bÂ·$b^{-1}$)mod a=1ã€‚<br>æŠŠ$a^{-1}$ ç§°ä¸ºaæ¨¡bçš„ä¹˜æ³•é€†å…ƒï¼Œ$b^{-1}$ç§°ä¸ºbæ¨¡açš„ä¹˜æ³•é€†å…ƒã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœaä¸næ˜¯äº’ç´ çš„ï¼Œå³gcdï¼ˆaï¼Œnï¼‰=1,é‚£ä¹ˆaæ¨¡nçš„ä¹˜æ³•é€†å…ƒa-1â‰¡x mod næœ‰å”¯ä¸€è§£ï¼›å¦åˆ™ï¼Œa-1â‰¡x mod næ— è§£ã€‚</p>
<h1 id="3-æ•°å­¦å®šç†"><a href="#3-æ•°å­¦å®šç†" class="headerlink" title="3.æ•°å­¦å®šç†"></a>3.æ•°å­¦å®šç†</h1><h2 id="3-1-Miller-Rabinæ£€æµ‹æ³•å’Œè´¹é©¬å°å®šç†ï¼ˆFermatâ€™s-Little-Theoremï¼ŒFLTï¼‰"><a href="#3-1-Miller-Rabinæ£€æµ‹æ³•å’Œè´¹é©¬å°å®šç†ï¼ˆFermatâ€™s-Little-Theoremï¼ŒFLTï¼‰" class="headerlink" title="3.1 Miller-Rabinæ£€æµ‹æ³•å’Œè´¹é©¬å°å®šç†ï¼ˆFermatâ€™s Little Theoremï¼ŒFLTï¼‰"></a>3.1 Miller-Rabinæ£€æµ‹æ³•å’Œè´¹é©¬å°å®šç†ï¼ˆFermatâ€™s Little Theoremï¼ŒFLTï¼‰</h2><p>åœ¨RSAç®—æ³•ä¸­ï¼Œnæ˜¯ç”±ä¸¤ä¸ªç´ æ•°çš„ä¹˜ç§¯æ¥ç¡®å®šçš„ã€‚ç”±äºnæ˜¯å…¬å¼€çš„ï¼Œä¸ºäº†é¿å…æ”»å‡»è€…ç”¨ç©·ä¸¾æ³•æ±‚å‡ºpå’Œqï¼ˆn=pÂ·qï¼‰ï¼Œpå’Œqåº”è¶³å¤Ÿå¤§ã€‚RSAç›®å‰å»ºè®®çš„å¯†é’¥é•¿åº¦ä¸º1024æˆ–2048ä½ã€‚å¯¹äºä¸€ä¸ª1024ä½çš„å¯†é’¥è€Œè¨€ï¼Œpå’Œqçš„å¤§å°åœ¨$10^{100}$~$10^{200}$ä¹‹é—´ã€‚ç›®å‰è¿˜æ²¡æœ‰æœ‰æ•ˆçš„æ–¹æ³•äº§ç”Ÿä»»æ„å¤§å°çš„ç´ æ•°ï¼Œåªèƒ½ä»æœŸæœ›å¤§å°çš„æ•°ä¸­è¿›è¡Œæµ‹è¯•ï¼Œç›´åˆ°æ£€æµ‹åˆ°ç´ æ•°ä¸ºæ­¢ã€‚ç›®å‰å¸¸ç”¨çš„æ–¹æ³•ä¸ºMiller-Rabinç´ æ€§æ£€æµ‹æ³•ã€‚Miller-Rabinæ£€æµ‹æ³•å¯ä»¥ç¡®å®šä¸€ä¸ªæ•´æ•°æ˜¯åˆæ•°ï¼Œä½†ä¸èƒ½ç¡®å®šå…¶ä¸€å®šæ˜¯ç´ æ•°ã€‚ä¸è¿‡å°½ç®¡å¦‚æ­¤ï¼Œè¯¥ç®—æ³•æ‰€äº§ç”Ÿçš„æ•°å‡ ä¹å¯ä»¥è‚¯å®šæ˜¯ç´ æ•°ã€‚</p>
<h3 id="3-1-1è´¹é©¬å°å®šç†ï¼ˆFermatâ€™s-Little-Theoremï¼‰"><a href="#3-1-1è´¹é©¬å°å®šç†ï¼ˆFermatâ€™s-Little-Theoremï¼‰" class="headerlink" title="3.1.1è´¹é©¬å°å®šç†ï¼ˆFermatâ€™s Little Theoremï¼‰"></a>3.1.1è´¹é©¬å°å®šç†ï¼ˆFermatâ€™s Little Theoremï¼‰</h3><p>Miller-Rabinç´ æ€§æ£€æµ‹æ³•ä¸»è¦æ˜¯ä¾æ®è´¹é©¬å°å®šç†å’Œè´¹é©¬æµ‹è¯•ï¼Œæ‰€ä»¥å…ˆä»‹ç»è´¹é©¬å°å®šç†<br>å®šç†ï¼šå¦‚æœpæ˜¯ç´ æ•°ä¸”gcdï¼ˆa,pï¼‰=1ï¼Œ1â‰¤aâ‰¤p-1ï¼Œåˆ™$a^{p-1}$â‰¡1 mod p<br>å› æ­¤ï¼Œç»™å®šéœ€è¦åˆ¤å®šç´ æ€§çš„æ•°nï¼Œè‹¥èƒ½æ‰¾åˆ°ä¸€ä¸ªæ•´æ•°aï¼Œä½¿å¾—$a^{n-1}$â‰ 1 mod nï¼Œåˆ™næ˜¯åˆæ•°ã€‚<br>Fermatç´ æ€§æµ‹è¯•ï¼š<br>è¾“å…¥ï¼šå¥‡æ•°nâ‰¥3<br>è¾“å‡ºï¼šprime/composite<br>Fermatï¼ˆnï¼‰ï¼š{<br>    éšæœºé€‰æ‹©aï¼Œ2â‰¤aâ‰¤n-2<br>    r=$a^{n-1}$ mod n;<br>    if râ‰ 1 return compositeï¼›<br>    return primeï¼›<br>}<br>åœ¨è´¹é©¬æµ‹è¯•ä¸­ï¼Œå¦‚æœè¾“å‡ºæ˜¯åˆæ•°ï¼Œåˆ™nä¸€å®šæ˜¯åˆæ•°ã€‚è‹¥è¾“å‡ºä¸ºç´ æ•°ï¼Œåˆ™æœ‰å¯èƒ½ä¸ºç´ æ•°ã€‚è¿™æ˜¯å› ä¸ºå­˜åœ¨ç€è¿™æ ·çš„ä¸€äº›åˆæ•°nï¼Œå¯¹äºæ»¡è¶³gcdï¼ˆa,nï¼‰=1çš„aï¼Œå‡æœ‰$a^{n-1}$=1 mod nã€‚è¿™äº›æ•°è¢«ç§°ä¸ºCarmichaelæ•°ï¼Œä¾‹å¦‚561,1105,1729,2465,2821,6601,8911â€¦â€¦ä½†è¿™ç§æ•°æ¯”è¾ƒç¨€å°‘ï¼Œå¯¹è´¹é©¬æµ‹è¯•çš„å‡†ç¡®æ€§å‡†ç¡®æ€§å½±å“å¾ˆå°ã€‚ç ”ç©¶è¡¨æ˜ï¼Œå¦‚æœç®—æ³•è¾“å‡ºä¸ºprimeï¼Œå³é€šè¿‡äº†ç´ æ€§æµ‹è¯•ï¼Œåˆ™nä¸ºç´ æ•°çš„å¯èƒ½æ€§å¤§äº1-1/2ï¼Œè‹¥æµ‹è¯•äº†tæ¬¡å‡ä¸ºprimeï¼Œåˆ™nä¸ºç´ æ•°çš„å¯èƒ½æ€§å¤§äº1-1/$2^t$ã€‚<br>è´¹é©¬å°å®šç†é™¤äº†å¯ä»¥ç”¨åœ¨Miller-Rabinæ£€æµ‹æ³•ä¸­ï¼Œè¿˜è¢«ç”¨äºè®¡ç®—ä¹˜æ³•é€†å…ƒã€‚å½“ på–ç´ æ•°æ—¶ï¼Œè®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>1)    pæ˜¯ç´ æ•°ä¸”gcdï¼ˆa,pï¼‰=1<br>2)    FLTâ†’$a^{p-1}$â‰¡1 mod pâ†’aÂ·$a^{a-2}$â‰¡1 mod p<br>3)    $a^{p-1}$â‰¡$a^{p-2}$ mod p</p>
<h3 id="3-1-2-Miller-Rabinæ£€æµ‹æ³•"><a href="#3-1-2-Miller-Rabinæ£€æµ‹æ³•" class="headerlink" title="3.1.2 Miller-Rabinæ£€æµ‹æ³•"></a>3.1.2 Miller-Rabinæ£€æµ‹æ³•</h3><p>åœ¨Fermatæµ‹è¯•ä¸­ï¼Œéœ€è¦è®¡ç®—$a^{n-1}$mod nã€‚è‹¥ç»“æœä¸º1åˆ™è¾“å‡ºç´ æ•°ï¼Œä¸ä¸º1åˆ™è¾“å‡ºåˆæ•°ã€‚ä¸ºäº†ç®€åŒ–è®¡ç®—è¿‡ç¨‹ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ã€‚å¯¹äºnï¼ˆn&gt;2ï¼‰ï¼Œè‹¥nä¸ºå¶æ•°ï¼Œåˆ™nå¿…å®šä¸ºåˆæ•°ï¼›nä¸ºå¥‡æ•°ï¼Œåˆ™n-1ä¸ºå¶æ•°ï¼Œè®¾n-1=2t,äºæ˜¯$a^{n-1}$=$ï¼ˆa^tï¼‰^2$ï¼Œå¦‚æœ$a^t$=Â±1 mod nï¼Œåˆ™ç›´æ¥è¾“å‡ºç´ æ•°ï¼Œæ²¡æœ‰å¿…è¦ç»§ç»­è®¡ç®—ï¼ˆå› ä¸ºå¹³æ–¹åä¼šå¾—åˆ°$a^{n-1}$=1 mod nï¼‰ã€‚è¿›è€Œï¼Œå¦‚æœn-1=$2^k$t(kâ‰¥0)ï¼Œåˆ™<br>$a^{n-1}$=$(((a^t)^2)^2)^2â€¦â€¦)^2$å…±kæ¬¡å¹³æ–¹<br>åŒå‰é¢çš„åˆ†æï¼Œå¦‚æœ$a^t$=Â±1 mod nï¼Œåˆ™å¿…æœ‰$a^{n-1}$=1 mod nï¼Œç›´æ¥è¾“å‡ºç´ æ•°ï¼›å¦åˆ™ï¼Œåœ¨k-1æ¬¡å¹³æ–¹çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸º-1ï¼Œåˆ™$a^{n-1}$=1 mod nï¼Œè¾“å‡ºä¸ºç´ æ•°ã€‚<br>æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œç®—æ³•å¦‚ä¸‹ã€‚<br>Miller-Rabinç´ æ€§æµ‹è¯•<br>è¾“å…¥ï¼šå¥‡æ•°nâ‰¥3<br>è¾“å‡ºï¼šprime/composite<br>Miller-Rabinï¼ˆnï¼‰{<br>    æŠŠn-1å†™æˆn-1=$2^k$tï¼Œéšæœºé€‰æ‹©æ•´æ•°aï¼Œ1â‰¤aâ‰¤n-1<br>    b=$a^t$ mod n;<br>    if bâ‰¡1 mod n return prime;<br>    for(i=0,i&lt;k,i++){<br>if bâ‰¡-1 mod n return prime;<br>else b=$b^2$ mod n;<br>}<br>return composite;<br>}</p>
<h2 id="3-2-æ¬§æ‹‰å‡½æ•°ä¸æ¬§æ‹‰å®šç†"><a href="#3-2-æ¬§æ‹‰å‡½æ•°ä¸æ¬§æ‹‰å®šç†" class="headerlink" title="3.2 æ¬§æ‹‰å‡½æ•°ä¸æ¬§æ‹‰å®šç†"></a>3.2 æ¬§æ‹‰å‡½æ•°ä¸æ¬§æ‹‰å®šç†</h2><p>åœ¨AESç®—æ³•ä¸­ï¼Œåˆ©ç”¨Miller-Rabinæ£€æµ‹æ³•æ±‚å¾—ä¸¤ä¸ªè¶³å¤Ÿå¤§çš„ç´ æ•°pã€qï¼Œå¹¶ä¸”è®¡ç®—å‡ºè®¡ç®—n=pÂ·qå’ŒĞ¤=(p-1)(q-1)ã€‚å…¶ä¸­Ğ¤çš„å€¼ä¸ºnçš„æ¬§æ‹‰å‡½æ•°ï¼ˆEuler Phiï¼‰ã€‚</p>
<h3 id="3-2-1æ¬§æ‹‰å‡½æ•°ï¼ˆEuler-Phi-Functionï¼‰"><a href="#3-2-1æ¬§æ‹‰å‡½æ•°ï¼ˆEuler-Phi-Functionï¼‰" class="headerlink" title="3.2.1æ¬§æ‹‰å‡½æ•°ï¼ˆEuler Phi Functionï¼‰"></a>3.2.1æ¬§æ‹‰å‡½æ•°ï¼ˆEuler Phi Functionï¼‰</h3><p>å®šä¹‰ï¼šå°äºnä¸”ä¸näº’ç´ çš„æ­£æ•´æ•°çš„ä¸ªæ•°ï¼Œè®°åšĞ¤(n)ï¼ŒæŠŠĞ¤(n)ç§°ä¸ºæ¬§æ‹‰å‡½æ•°ã€‚<br>æ€§è´¨ï¼š<br>    å¦‚æœn=pæ˜¯ç´ æ•°ï¼ŒĞ¤(n)=n-1<br>    å¦‚æœn=$p^e$æ˜¯ç´ æ•°çš„å¹‚ï¼ŒĞ¤(n)=$p^e$-$p^{e-1}$<br>    å¦‚æœgcd(m,n)=1ï¼ŒĞ¤(nÂ·m)= Ğ¤(n) Â·Ğ¤(m)<br>åœ¨AESç®—æ³•ä¸­ï¼Œå› ä¸ºpå’Œqéƒ½æ˜¯ç´ æ•°ï¼Œæ‰€ä»¥Ğ¤(n)= (p-1)(q-1)</p>
<h3 id="3-2-2æ¬§æ‹‰å®šç†-Eulerâ€™s-Theorem"><a href="#3-2-2æ¬§æ‹‰å®šç†-Eulerâ€™s-Theorem" class="headerlink" title="3.2.2æ¬§æ‹‰å®šç†(Eulerâ€™s Theorem)"></a>3.2.2æ¬§æ‹‰å®šç†(Eulerâ€™s Theorem)</h3><p>å®šç†ï¼šå¯¹äºä»»æ„äº’ç´ çš„æ•´æ•°aå’Œnï¼Œæœ‰aĞ¤(n) â‰¡1 mod n<br>äº‹å®ä¸Šè´¹é©¬å°å®šç†ä»…æ˜¯æ¬§æ‹‰å®šç†çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼ˆnä¸ºç´ æ•°ï¼‰ï¼Œæ‰€ä»¥æ¬§æ‹‰å®šç†å¯¹äºä»»æ„çš„æ¨¡néƒ½å¯ä»¥æ±‚è§£ä¹˜æ³•é€†å…ƒï¼ˆç”¨äº3.4ä¸­è®¡ç®—ç§é’¥dï¼‰ã€‚è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>    Eulerâ€™s Theoremâ†’$a^{Ğ¤(n)}$â‰¡1 mod nâ†’aÂ·aĞ¤(n) â‰¡1 mod n<br>    $a^{-1}$â‰¡$a^{Ğ¤(n)-1}$ mod n<br>ä¾‹å¦‚ï¼Œæ±‚$13^{-1}$ mod 49ã€‚<br>    Ğ¤(49)= Ğ¤($7^2$)=($7^2$)-($7^1$)=42<br>    Eulerâ€™s Theoremâ†’$13^{42}$ â‰¡1 mod 49<br>    $13^{-1}$â‰¡$13^{42}$ mod 49</p>
<h2 id="3-3-æ¨¡é‡å¤å¹³æ–¹ç®—æ³•ï¼ˆRepeated-square-and-multiply-algorithmï¼‰"><a href="#3-3-æ¨¡é‡å¤å¹³æ–¹ç®—æ³•ï¼ˆRepeated-square-and-multiply-algorithmï¼‰" class="headerlink" title="3.3  æ¨¡é‡å¤å¹³æ–¹ç®—æ³•ï¼ˆRepeated square-and-multiply algorithmï¼‰"></a>3.3  æ¨¡é‡å¤å¹³æ–¹ç®—æ³•ï¼ˆRepeated square-and-multiply algorithmï¼‰</h2><p>RSAåŠ å¯†å’Œè§£å¯†æ—¶éƒ½éœ€è¦è®¡ç®—æ¨¡å¹‚ï¼Œæ¬§æ‹‰å®šç†æ±‚è§£é€†å…ƒæ—¶ä¹Ÿéœ€è¦è®¡ç®—æ¨¡å¹‚ã€‚æ™®é€šçš„æ±‚æ¨¡å¹‚çš„æ–¹æ³•åœ¨å¹‚æŒ‡æ•°ç‰¹åˆ«å¤§æ—¶è€—æ—¶éå¸¸å¤§ã€‚å› æ­¤éœ€è¦ç”¨æ¨¡å¹³æ³•ç®—æ³•åŠ å¿«è®¡ç®—æ¨¡å¹‚çš„é€Ÿåº¦ã€‚åœ¨æ­¤ç®—æ³•ä¸­ï¼Œå°†æŒ‡æ•°eç”¨äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºï¼Œå³e =$\sum<em>{i=0}^k=e_i2^i$ï¼Œeiç­‰äº0æˆ–1ï¼Œåˆ™ï¼š<br>$a^e=\prod ^k</em>{i=0}a^{e_i2_i}=(a^{2^0})^{e_0}(a^{2^1})^{e_1}\cdot \cdot \cdot (a^{2^k})^{e_k}$<br>ä¾‹å¦‚ï¼Œè®¡ç®—$5^{110}$ mod 131.<br>110=64+32+8+4+2=$(1101110)_2$<br>$5^2$â‰¡ 25 mod 131 ,$5^4$â‰¡ 101 mod 131<br>$5^8$â‰¡ 114mod 131 ,$5^{16}$â‰¡ 27 mod 131<br>$5^{32}$â‰¡ 74 mod 131 ,$5^{64}$ â‰¡ 105 mod 131<br>æ‰€ä»¥$5^{110}$â‰¡ $5^{64+32+8+4+2}$ â‰¡ $5^{64}$ Â·$5^{32}$ Â·$5^8$ Â·$5^4$ Â·$5^2$ â‰¡ 105Â·74Â·114Â·101Â·25 â‰¡ 60 mod 131</p>
<h2 id="3-4-æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean-Algorithm-EAï¼‰"><a href="#3-4-æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean-Algorithm-EAï¼‰" class="headerlink" title="3.4 æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean Algorithm,EAï¼‰"></a>3.4 æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean Algorithm,EAï¼‰</h2><p>åœ¨æ±‚å¾—pã€qã€nã€Ğ¤ä¹‹åï¼Œé€‰å–ä¸€æ•´æ•°eï¼Œä½¿å¾—æ»¡è¶³1&lt;e&lt;Ğ¤ï¼Œä¸”gcdï¼ˆeï¼ŒĞ¤ï¼‰=1ã€‚å› ä¸ºä»»æ„ä¸¤ä¸ªéšæœºæ•°äº’ç´ çš„æ¦‚ç‡çº¦ä¸º0.6ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥å¹¶ä¸å¤æ‚ã€‚éšæœºé€‰æ‹©æ•´æ•°eï¼Œæ±‚gcdï¼ˆeï¼ŒĞ¤ï¼‰å¹¶é€ä¸€åˆ¤æ–­å³å¯ã€‚eå’ŒĞ¤å¾ˆå°æ—¶ï¼Œå¾ˆå®¹æ˜“eå’ŒĞ¤çš„æœ€å¤§å…¬çº¦æ•°gcdï¼ˆeï¼ŒĞ¤ï¼‰ï¼Œå¦‚æœeå’ŒĞ¤çš„å€¼å¾ˆå¤§ï¼Œå¯ä»¥é‡‡ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆEuclidean Algorithm,EAï¼‰ã€‚<br>EAç®—æ³•åŸºäºä»¥ä¸‹å®šç†ï¼Œå¯¹äºä»»æ„éè´Ÿæ•´æ•°aå’Œä»»æ„æ­£æ•´æ•°bï¼Œæœ‰<br>gcdï¼ˆa,bï¼‰=gcd(b,a mod b)<br>å¾ªç¯ä½¿ç”¨è¯¥å®šç†ï¼Œå¯ä»¥å¾—åˆ°gcd(a,b) = gcd(b,r1) = Â·Â·Â· = gcd(rk,0) = rkã€‚<br>å…¶ç®—æ³•æè¿°å¦‚ä¸‹ï¼š<br>    Aâ†a,Bâ†bï¼›<br>    è‹¥B=0ï¼Œåˆ™è¿”å›A=gcdï¼ˆaï¼Œbï¼‰ï¼›<br>    R=A mod Bï¼›<br>    Aâ†Bï¼›<br>    Bâ†Rï¼›<br>    è½¬åˆ°2ï¼‰ï¼›<br>ä¾‹å¦‚ï¼Œ<br>gcd(91,52) = gcd(52,91âˆ’52 = 39)<br>= gcd(39,52âˆ’39 = 13)<br>= gcd(13,39âˆ’3Â·13 = 0) = 13.<br>gcd(11111,12345) = gcd(1111,12345-1111= 1234)<br>= gcd(1234,11111âˆ’9Â·1234 = 5)<br>= gcd(5,1234âˆ’5Â·246 = 4)<br>= gcd(4,5-4 = 1)<br>= gcd(1,0)<br>=1.</p>
<h2 id="3-5æ‰©å±•çš„æ¬§å‡ é‡Œå¾—ç®—æ³•-Extended-Euclidean-Algorithm-EEA"><a href="#3-5æ‰©å±•çš„æ¬§å‡ é‡Œå¾—ç®—æ³•-Extended-Euclidean-Algorithm-EEA" class="headerlink" title="3.5æ‰©å±•çš„æ¬§å‡ é‡Œå¾—ç®—æ³•(Extended Euclidean Algorithm,EEA)"></a>3.5æ‰©å±•çš„æ¬§å‡ é‡Œå¾—ç®—æ³•(Extended Euclidean Algorithm,EEA)</h2><p>åœ¨æ±‚å¾—eä¹‹åï¼Œå¯ä»¥è®¡ç®—dï¼Œä½¿å¾—eÂ·dâ‰¡1 mod Ğ¤ã€‚dä¸ºeæ¨¡Ğ¤çš„ä¹˜æ³•é€†å…ƒï¼Œå³ä¸ºe-1ã€‚å› ä¸ºeä¸Ğ¤äº’ç´ ï¼Œæ‰€ä»¥e-1ä¸€å®šå­˜åœ¨ã€‚ä½¿ç”¨EAç®—æ³•æ±‚å¾—gcdï¼ˆeï¼ŒĞ¤ï¼‰=1ï¼Œå†å°†æ¨å¯¼è¿‡ç¨‹ä¸€æ­¥ä¸€æ­¥åæ¨å›å»ï¼Œå¯æ±‚å¾—ä¸¤ä¸ªæ•´æ•°xï¼Œyï¼Œæ»¡è¶³xÂ·e+yÂ·Ğ¤=1â†’ xÂ·e=-yÂ·Ğ¤+1ï¼Œå³xÂ·e â‰¡1 mod Ğ¤ï¼Œe-1=xã€‚å³ä¸ºEEAç®—æ³•ã€‚<br>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œgcdï¼ˆ91,25ï¼‰= 13ï¼Œæ‰€ä»¥91ã€25æ²¡æœ‰é€†å…ƒ<br>gcd(11111,12345)=1ï¼Œ<br>åˆ™1=5-4=5 -ï¼ˆ1234-5Â·246ï¼‰=247Â·5-1234<br>    =247Â·ï¼ˆ11111-9Â·1234ï¼‰-1234=247Â·11111-2224Â·1234<br>    =247Â·111 1-2224Â·ï¼ˆ12345-11111ï¼‰=2471Â·11111-2224Â·12345<br>æ‰€ä»¥ï¼Œ11111æ¨¡12345çš„é€†å…ƒä¸º2471ï¼Œ12345æ¨¡11111çš„é€†å…ƒä¸º-2224ã€‚<br>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆæ¬§æ‹‰å®šç†å’ŒRepeated square-and-multiply algorithmï¼Œæˆ–è€…åˆ©ç”¨EEAç®—æ³•æ¥è®¡ç®—ä»»æ„æ¨¡nçš„é€†å…ƒã€‚</p>
<h2 id="3-6ä¸­å›½å‰©ä½™å®šç†ï¼ˆChinese-remainder-theoremï¼ŒCRTï¼‰"><a href="#3-6ä¸­å›½å‰©ä½™å®šç†ï¼ˆChinese-remainder-theoremï¼ŒCRTï¼‰" class="headerlink" title="3.6ä¸­å›½å‰©ä½™å®šç†ï¼ˆChinese remainder theoremï¼ŒCRTï¼‰"></a>3.6ä¸­å›½å‰©ä½™å®šç†ï¼ˆChinese remainder theoremï¼ŒCRTï¼‰</h2><h3 id="3-6-1ä¸­å›½å‰©ä½™å®šç†"><a href="#3-6-1ä¸­å›½å‰©ä½™å®šç†" class="headerlink" title="3.6.1ä¸­å›½å‰©ä½™å®šç†"></a>3.6.1ä¸­å›½å‰©ä½™å®šç†</h3><p>ä¸­å›½å‰©ä½™å®šç†ï¼Œåˆç§°å­™å­å®šç†ï¼Œæœ€æ—©è§äºå—åŒ—æœçš„ç»å…¸æ•°å­¦è‘—ä½œã€Šå­™å­ç®—ç»ã€‹ä¸­çš„â€œç‰©ä¸çŸ¥æ•°â€é—®é¢˜ï¼šâ€œä»Šæœ‰ç‰©ä¸çŸ¥å…¶æ•°ï¼Œä¸‰ä¸‰æ•°ä¹‹å‰©äºŒï¼Œäº”äº”æ•°ä¹‹å‰©ä¸‰ï¼Œä¸ƒä¸ƒæ•°ä¹‹å‰©äºŒï¼Œé—®ç‰©å‡ ä½•ï¼Ÿâ€<br>è¿™å…¶å®æ˜¯æ±‚è§£ä¸€ä¸ªä¸€æ¬¡åŒä½™å¼æ–¹ç¨‹ç»„ï¼Œå³ï¼š<br>    xâ‰¡2 mod 3<br>    xâ‰¡3 mod 5<br>    xâ‰¡2 mod 7<br>ã€Šå­™å­ç®—ç»ã€‹ä¸­ç»™å‡ºäº†è§£æ³•ï¼Œä½†åªæ˜¯ä¸€ä¸ªå­¤ç«‹çš„ä¾‹å­ï¼Œå—å®‹æ•°å­¦å®¶ç§¦ä¹éŸ¶ç»™å‡ºäº†ä¸€èˆ¬æ€§çš„æ±‚è§£æ–¹æ³•ã€‚ä¸­å›½å¤ä»£å°†è¿™ä¸€æˆæœç»Ÿç§°ä¸ºâ€œå­™å­å®šç†â€ï¼Œåœ¨å¤–æ–‡æ–‡çŒ®ä¸­å¸¸è¢«ç§°ä¸º â€œä¸­å›½å‰©ä½™å®šç†â€ã€‚å®ƒå¯èƒ½æ˜¯æœ€è‘—åçš„ç”±ä¸­å›½äººç»™å‡ºçš„ç®—æ³•ã€‚ä¸‹é¢ç»™å‡ºå…¶å®šç†ã€‚<br>å®šç†ï¼šè®¾$m<em>1$,$m_2$,â€¦ï¼Œ$m_k$æ˜¯kä¸ªä¸¤ä¸¤äº’ç´ çš„æ­£æ•´æ•°ï¼Œm=$\prod </em>{i=1}^{k}m<em>i$ï¼Œ$M_i$=m/$m_i$ï¼Œåˆ™å¯¹äºä»»æ„çš„æ•´æ•°$a_1$,$a_2$,â€¦,$a_k$ï¼Œåˆ™åŒä½™å¼ç»„<br>xâ‰¡$a_1$ mod $m_1$<br>xâ‰¡$a_2$ mod $m_2$<br>â€¦<br>xâ‰¡$a_k$ mod $m_k$<br>æœ‰å”¯ä¸€è§£ï¼Œå³xâ‰¡$\sum </em>{i=1}^kM_iM^{-1}a_i$ mod nï¼Œå…¶ä¸­$M_iM^{-1}$â‰¡1 mod nã€‚<br>ä¾‹å¦‚éŸ©ä¿¡ç‚¹å…µé—®é¢˜ï¼Œå¯åŒ–ä¸ºåŒä½™å¼ç»„<br>    xâ‰¡1 mod 5<br>    xâ‰¡5 mod 6<br>    xâ‰¡4 mod 7<br>    xâ‰¡10 mod 11<br>åº”ç”¨CRTï¼Œm=5Â·6Â·7Â·11=2310<br>$M_1$=462 $M_1^{-1}$â‰¡3 mod 5<br>$M_2$=385 $M_2^{-1}$â‰¡1 mod 6<br>$M_3$=330 $M_3^{-1}$â‰¡1 mod 7<br>$M_4$=210 $M_4^{-1}$â‰¡1 mod 11<br>xâ‰¡462Â·3Â·1+385Â·1Â·5+330Â·1Â·4+210Â·1Â·10â‰¡6731â‰¡2111 mod 2310</p>
<h3 id="3-6-2-CRTåœ¨RSAä¸­çš„åº”ç”¨"><a href="#3-6-2-CRTåœ¨RSAä¸­çš„åº”ç”¨" class="headerlink" title="3.6.2 CRTåœ¨RSAä¸­çš„åº”ç”¨"></a>3.6.2 CRTåœ¨RSAä¸­çš„åº”ç”¨</h3><p>è§£å¯†è€…åœ¨è®¡ç®—m=$c^d$ mod nçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åˆ†åˆ«è®¡ç®—m=$c^d$ mod på’Œm=$c^d$ mod qï¼Œç„¶ååˆ©ç”¨CRTè®¡ç®—å‡ºmã€‚ä½†CRTç®—æ³•åªèƒ½å¯¹è§£å¯†è¿‡ç¨‹åŠ é€Ÿï¼Œä¸èƒ½å¯¹åŠ å¯†è¿‡ç¨‹åŠ é€Ÿï¼Œå› ä¸ºåŠ å¯†è€…åªçŸ¥é“å…¬é’¥ï¼ˆeï¼Œnï¼‰ï¼Œå¹¶ä¸çŸ¥é“nçš„åˆ†è§£pã€qã€‚æ‰€ä»¥ï¼Œï¼Œä¸ºäº†ç»´æŠ¤åŠ å¯†è€…çš„ç”¨æˆ·ä½“éªŒï¼Œå¾ˆå¤šæƒ…å†µä¸‹RSAçš„åŠ å¯†å¯†é’¥eè¾ƒè§£å¯†å¯†é’¥då°ã€‚</p>
<h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>åœ¨RSAç®—æ³•çš„æ±‚è§£è¿‡ç¨‹å¦‚ä¸‹ï¼Œ<br>    ç”¨Miller-Rabinæ£€æµ‹æ³•å»é€‰å–ä¸¤ä¸ªè¶³å¤Ÿå¤§ï¼ˆ$10^{100}$~$10^{200}$ï¼‰çš„ç´ æ•°pã€qã€‚<br>    åˆ©ç”¨pã€qè®¡ç®—å‡ºn=pÂ·qå’Œnçš„æ¬§æ‹‰æ•°Ğ¤(n)=(p-1)Â·(q-1)ã€‚<br>    éšæœºé€‰å–æ•´æ•°eï¼Œ    åˆ©ç”¨EAç®—æ³•è®¡ç®—æœ€å¤§å…¬çº¦æ•°gcdï¼ˆeï¼ŒĞ¤ï¼‰ï¼Œä½¿å¾—gcdï¼ˆeï¼ŒĞ¤ï¼‰=1ã€‚<br>    ä½¿ç”¨EEAæˆ–è€…Eulerâ€™s Theoremæ±‚è§£dã€‚<br>    è§£å¯†è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç”¨åˆ°CRTç®—æ³•æ¥åŠ é€Ÿè§£å¯†è¿‡ç¨‹ã€‚  </p>
]]></content>
      <categories>
        <category>å¯†ç å­¦</category>
      </categories>
      <tags>
        <tag>RSA</tag>
        <tag>æ•°å­¦</tag>
        <tag>è´¹é©¬å°å®šç†</tag>
        <tag>Miller-Rabin</tag>
      </tags>
  </entry>
  <entry>
    <title>Rustcæºç å­¦ä¹ 01-Lintä¸LintPass.md</title>
    <url>/2022/09/01/Rustc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A001-Lint%E4%B8%8ELintPass/</url>
    <content><![CDATA[<h1 id="Lint-ä¸-LintPass"><a href="#Lint-ä¸-LintPass" class="headerlink" title="Lint ä¸ LintPass"></a>Lint ä¸ LintPass</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><h3 id="Rustc"><a href="#Rustc" class="headerlink" title="Rustc"></a>Rustc</h3><p>Rustc æ˜¯ Rust Compiler çš„ç®€ç§°ï¼Œå³ Rust ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ã€‚Rust çš„ç¼–è¯‘å™¨æ˜¯è‡ªä¸¾çš„ï¼Œå³ Rustc ç”± Rust è¯­è¨€ç¼–å†™è€Œæˆï¼Œå¯ä»¥é€šè¿‡æ—§ç‰ˆæœ¬ç¼–è¯‘å‡ºæ–°ç‰ˆæœ¬ã€‚å› æ­¤ï¼ŒRustc å¯ä»¥è¯´æ˜¯ç”¨ Rust è¯­è¨€ç¼–å†™ç¼–è¯‘å™¨çš„æœ€ä½³å®è·µã€‚</p>
<h3 id="Lint-å·¥å…·"><a href="#Lint-å·¥å…·" class="headerlink" title="Lint å·¥å…·"></a>Lint å·¥å…·</h3><p>Lint æ˜¯ä»£ç é™æ€åˆ†æå·¥å…·çš„ä¸€ç§ï¼Œæœ€æ—©æ˜¯æ¥æºäº C è¯­è¨€ã€‚Lint å·¥å…·é€šå¸¸ä¼šæ£€æŸ¥ä»£ç ä¸­æ½œåœ¨çš„é—®é¢˜å’Œé”™è¯¯ï¼ŒåŒ…æ‹¬ï¼ˆä½†ä¸é™äºï¼‰ç¼–ç¨‹é£æ ¼ï¼ˆç¼©è¿›ã€ç©ºè¡Œã€ç©ºæ ¼ï¼‰ã€ä»£ç è´¨é‡ï¼ˆå®šä¹‰æœªä½¿ç”¨çš„å˜é‡ã€æ–‡æ¡£ç¼ºå¤±ï¼‰ä»¥åŠé”™è¯¯ä»£ç ï¼ˆé™¤0é”™è¯¯ã€é‡å¤å®šä¹‰ã€å¾ªç¯å¼•ç”¨ï¼‰ç­‰é—®é¢˜ã€‚é€šå¸¸æ¥è¯´ï¼ŒLint å·¥å…·é™¤äº†æ ‡è¯†é”™è¯¯å¤–ï¼Œè¿˜ä¼šå¸¦æœ‰ä¸€å®šçš„ fix/refactor suggest å’Œ auto-fix çš„èƒ½åŠ›ã€‚åœ¨å·¥ç¨‹ä¸­å¼•å…¥ Lint å·¥å…·å¯ä»¥æœ‰æ•ˆçš„å‡å°‘é”™è¯¯ï¼Œæé«˜æ•´ä½“çš„å·¥ç¨‹è´¨é‡ã€‚æ­¤å¤–ï¼Œå¯¹ä¸€ç§ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼ŒLint å·¥å…·é€šå¸¸ä¹Ÿæ˜¯å…¶ä»–å·¥å…·ç ”å‘çš„å‰ç½®æ¡ä»¶ï¼Œä¾‹å¦‚ IDE æ’ä»¶çš„é”™è¯¯æç¤ºï¼ŒCI çš„ Pipeline æ£€æµ‹ç­‰ã€‚</p>
<span id="more"></span>
<h2 id="Lint-vs-LintPass"><a href="#Lint-vs-LintPass" class="headerlink" title="Lint vs. LintPass"></a>Lint vs. LintPass</h2><h3 id="æ¦‚å¿µä¸å…³ç³»"><a href="#æ¦‚å¿µä¸å…³ç³»" class="headerlink" title="æ¦‚å¿µä¸å…³ç³»"></a>æ¦‚å¿µä¸å…³ç³»</h3><p>Rustc ä¸­å…³äº Lint æœ€ä¸»è¦çš„ç»“æ„æœ‰ä¸¤ä¸ªï¼Œ <code>Lint</code> å’Œ <code>LintPass</code>ã€‚é¦–å…ˆéœ€è¦åŒºåˆ† Lint å’Œ LintPass çš„æ¦‚å¿µã€‚Rustc çš„å¾ˆå¤šæ–‡æ¡£ä¸­éƒ½å°†å®ƒä»¬ç»Ÿç§°ä¸º <code>Lint</code>ï¼Œè¿™å¾ˆå®¹æ˜“é€ æˆæ··æ·†ã€‚å…³äºè¿™ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼Œrustc-dev-guide ç»™å‡ºçš„è§£é‡Šæ˜¯ï¼š</p>
<blockquote>
<p>Lint declarations donâ€™t carry any â€œstateâ€ - they are merely global identifiers and descriptions of lints. We assert at runtime that they are not registered twice (by lint name).<br>Lint passes are the meat of any lint.</p>
</blockquote>
<p>ä»å®šä¹‰æ–¹é¢ï¼Œ <code>Lint</code> æ˜¯å¯¹æ‰€å®šä¹‰çš„ lint æ£€æŸ¥çš„é™æ€æè¿°ï¼Œä¾‹å¦‚ name, level, description, code ç­‰å±æ€§ï¼Œä¸æ£€æŸ¥æ—¶çš„çŠ¶æ€æ— å…³ï¼ŒRustc ç”¨ <code>Lint</code> çš„å®šä¹‰åšå”¯ä¸€æ€§çš„æ£€æŸ¥ã€‚è€Œ <code>LintPass</code> æ˜¯ <code>Lint</code> çš„å…·ä½“å®ç°ï¼Œæ˜¯åœ¨æ£€æŸ¥æ—¶è°ƒç”¨çš„ <code>check_*</code> æ–¹æ³•ã€‚<br>åœ¨å…·ä½“çš„ä»£ç å®ç°æ–¹æ³•ï¼Œ <code>Lint</code>å®šä¹‰ä¸ºä¸€ä¸ª Structï¼Œæ‰€æœ‰ lint çš„å®šä¹‰éƒ½æ˜¯æ­¤ç±»å‹çš„ä¸€ä¸ªå®ä¾‹/å¯¹è±¡ã€‚è€Œ <code>LintPass</code> åˆ™å¯¹åº”ä¸ºä¸€ä¸ª traitã€‚trait ç±»ä¼¼äº java/c++ ä¸­çš„æ¥å£ï¼Œæ¯ä¸€ä¸ª lintpass çš„å®šä¹‰éƒ½éœ€è¦å®ç°è¯¥æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// Specification of a single lint.</span></span><br><span class="line"><span class="meta">#[derive(Copy, Clone, Debug)]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Lint</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> name: &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span>,</span><br><span class="line">    <span class="comment">/// Default level for the lint.</span></span><br><span class="line">    <span class="keyword">pub</span> default_level: Level,</span><br><span class="line">    <span class="comment">/// Description of the lint or the issue it detects.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// e.g., &quot;imports that are never used&quot;</span></span><br><span class="line">    <span class="keyword">pub</span> desc: &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span>,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">LintPass</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">name</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡åˆšåˆšçš„æè¿°ä¸­è¯´åˆ°<code>trait</code> ç±»ä¼¼äºæ¥å£è€Œ <code>Lint</code> æ˜¯ä¸€ä¸ª structï¼Œä½† <code>Lint</code> å’Œ <code>LintPass</code> ä¹‹é—´å¹¶ä¸æ˜¯ OO ä¸­ä¸€ä¸ªâ€œç±»â€å’Œå®ƒçš„â€œæ–¹æ³•â€çš„å…³ç³»ã€‚è€Œæ˜¯åœ¨å£°æ˜ <code>LintPass</code> ä¼šç”Ÿæˆä¸€ä¸ªå®ç°äº†è¯¥ trait çš„åŒåçš„ structï¼Œè¯¥ struct ä¸­çš„ <code>get_lints()</code> æ–¹æ³•ä¼šç”Ÿæˆå¯¹åº”çš„ <code>Lint</code> å®šä¹‰ã€‚</p>
<p><img src="/2022/09/01/Rustc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A001-Lint%E4%B8%8ELintPass/lint_lintpass.jpeg" alt="lint vs. lintpass"></p>
<p>è¿™ä¸ rustc-dev-guide çš„æè¿°ä¹Ÿä¿æŒäº†ä¸€è‡´:</p>
<blockquote>
<p>A lint might not have any lint pass that emits it, it could have many, or just one â€” the compiler doesnâ€™t track whether a pass is in any way associated with a particular lint, and frequently lints are emitted as part of other work (e.g., type checking, etc.).</p>
</blockquote>
<h3 id="Lint-ä¸-LintPass-çš„å®å®šä¹‰"><a href="#Lint-ä¸-LintPass-çš„å®å®šä¹‰" class="headerlink" title="Lint ä¸ LintPass çš„å®å®šä¹‰"></a>Lint ä¸ LintPass çš„å®å®šä¹‰</h3><p>Rustc ä¸º Lint å’Œ LintPass éƒ½æä¾›äº†ç”¨äºå®šä¹‰å…¶ç»“æ„çš„å®ã€‚<br>å®šä¹‰ Lint çš„å®<code>declare_lint</code> æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥åœ¨<code>rustc_lint_defs::lib.rs</code>ä¸­æ‰¾åˆ°ã€‚<code>declare_lint</code> å®è§£æè¾“å…¥å‚æ•°ï¼Œå¹¶ç”Ÿæˆåç§°ä¸º <code>$NAME</code> çš„ Lint structã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="meta">#[macro_export]</span></span><br><span class="line"><span class="built_in">macro_rules!</span> declare_lint &#123;</span><br><span class="line">    ($(<span class="meta">#[$attr:meta]</span>)* $vis: vis $NAME: ident, $Level: ident, $desc: expr) =&gt; (</span><br><span class="line">        $crate::declare_lint!(</span><br><span class="line">            $(<span class="meta">#[$attr]</span>)* $vis $NAME, $Level, $desc,</span><br><span class="line">        );</span><br><span class="line">    );</span><br><span class="line">    ($(<span class="meta">#[$attr:meta]</span>)* $vis: vis $NAME: ident, $Level: ident, $desc: expr,</span><br><span class="line">     $(@feature_gate = $gate:expr;)?</span><br><span class="line">     $(@future_incompatible = FutureIncompatibleInfo &#123; $($field:ident : $val:expr),* $(,)*  &#125;; )?</span><br><span class="line">     $($v:ident),*) =&gt; (</span><br><span class="line">        $(<span class="meta">#[$attr]</span>)*</span><br><span class="line">        $vis <span class="keyword">static</span> $NAME: &amp;$crate::Lint = &amp;$crate::Lint &#123;</span><br><span class="line">            name: <span class="built_in">stringify!</span>($NAME),</span><br><span class="line">            default_level: $crate::$Level,</span><br><span class="line">            desc: $desc,</span><br><span class="line">            edition_lint_opts: <span class="literal">None</span>,</span><br><span class="line">            is_plugin: <span class="literal">false</span>,</span><br><span class="line">            $($v: <span class="literal">true</span>,)*</span><br><span class="line">            $(feature_gate: <span class="title function_ invoke__">Some</span>($gate),)*</span><br><span class="line">            $(future_incompatible: <span class="title function_ invoke__">Some</span>($crate::FutureIncompatibleInfo &#123;</span><br><span class="line">                $($field: $val,)*</span><br><span class="line">                ..$crate::FutureIncompatibleInfo::<span class="title function_ invoke__">default_fields_for_macro</span>()</span><br><span class="line">            &#125;),)*</span><br><span class="line">            ..$crate::Lint::<span class="title function_ invoke__">default_fields_for_macro</span>()</span><br><span class="line">        &#125;;</span><br><span class="line">    );</span><br><span class="line">    ($(<span class="meta">#[$attr:meta]</span>)* $vis: vis $NAME: ident, $Level: ident, $desc: expr,</span><br><span class="line">     $lint_edition: expr =&gt; $edition_level: ident</span><br><span class="line">    ) =&gt; (</span><br><span class="line">        $(<span class="meta">#[$attr]</span>)*</span><br><span class="line">        $vis <span class="keyword">static</span> $NAME: &amp;$crate::Lint = &amp;$crate::Lint &#123;</span><br><span class="line">            name: <span class="built_in">stringify!</span>($NAME),</span><br><span class="line">            default_level: $crate::$Level,</span><br><span class="line">            desc: $desc,</span><br><span class="line">            edition_lint_opts: <span class="title function_ invoke__">Some</span>(($lint_edition, $crate::Level::$edition_level)),</span><br><span class="line">            report_in_external_macro: <span class="literal">false</span>,</span><br><span class="line">            is_plugin: <span class="literal">false</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>LintPass çš„å®šä¹‰æ¶‰åŠåˆ°ä¸¤ä¸ªå®ï¼š</p>
<ul>
<li>declare_lint_passï¼šç”Ÿæˆä¸€ä¸ªåä¸º<code>$name</code> çš„ structï¼Œå¹¶ä¸”è°ƒç”¨ <code>impl_lint_pass</code> å®ã€‚</li>
</ul>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> declare_lint_pass &#123;</span><br><span class="line">    ($(<span class="meta">#[$m:meta]</span>)* $name:ident =&gt; [$($lint:expr),* $(,)?]) =&gt; &#123;</span><br><span class="line">        $(<span class="meta">#[$m]</span>)* <span class="meta">#[derive(Copy, Clone)]</span> <span class="keyword">pub</span> <span class="keyword">struct</span> $name;</span><br><span class="line">        $crate::impl_lint_pass!($name =&gt; [$($lint),*]);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>impl_lint_passï¼šä¸ºç”Ÿæˆçš„ <code>LintPass</code> ç»“æ„å®ç°<code>fn name()</code>å’Œ <code>fn get_lints()</code> æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> impl_lint_pass &#123;</span><br><span class="line">    ($ty:ty =&gt; [$($lint:expr),* $(,)?]) =&gt; &#123;</span><br><span class="line">        <span class="keyword">impl</span> $crate::LintPass <span class="keyword">for</span> $ty &#123;</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">name</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span> &#123; <span class="built_in">stringify!</span>($ty) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">impl</span> $ty &#123;</span><br><span class="line">            <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">get_lints</span>() <span class="punctuation">-&gt;</span> $crate::LintArray &#123; $crate::lint_array!($($lint),*) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="EarlyLintPass-ä¸-LateLintPass"><a href="#EarlyLintPass-ä¸-LateLintPass" class="headerlink" title="EarlyLintPass ä¸ LateLintPass"></a>EarlyLintPass ä¸ LateLintPass</h3><p>å‰é¢å…³äº <code>LintPass</code> çš„å®ä¹‹ä¸­ï¼Œåªå®šä¹‰äº†<code>fn name()</code>å’Œ <code>fn get_lints()</code> æ–¹æ³•ï¼Œä½†å¹¶æ²¡æœ‰å®šä¹‰ç”¨äºæ£€æŸ¥çš„ <code>check_*</code> å‡½æ•°ã€‚è¿™æ˜¯å› ä¸º Rustc ä¸­å°† <code>LintPass</code> åˆ†ä¸ºäº†æ›´ä¸ºå…·ä½“çš„ä¸¤ç±»ï¼š<code>EarlyLintPass</code>å’Œ<code>LateLintPass</code>ã€‚å…¶ä¸»è¦åŒºåˆ«åœ¨äºæ£€æŸ¥çš„å…ƒç´ æ˜¯å¦å¸¦æœ‰ç±»å‹ä¿¡æ¯ï¼Œå³åœ¨ç±»å‹æ£€æŸ¥ä¹‹å‰è¿˜æ˜¯ä¹‹åæ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œ <code>WhileTrue</code> æ£€æŸ¥ä»£ç ä¸­çš„ <code>while true&#123;...&#125;</code> å¹¶æç¤ºç”¨æˆ·ä½¿ç”¨ <code>loop&#123;...&#125;</code> å»ä»£æ›¿ã€‚è¿™é¡¹æ£€æŸ¥ä¸éœ€è¦ä»»ä½•çš„ç±»å‹ä¿¡æ¯ï¼Œå› æ­¤è¢«å®šä¹‰ä¸ºä¸€ä¸ª  <code>EarlyLint</code>(ä»£ç ä¸­ <code>impl EarlyLintPass for WhileTrue</code>ã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">declare_lint! &#123;</span><br><span class="line">    WHILE_TRUE,</span><br><span class="line">    Warn,</span><br><span class="line">    <span class="string">&quot;suggest using `loop &#123; &#125;` instead of `while true &#123; &#125;`&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">declare_lint_pass!(WhileTrue =&gt; [WHILE_TRUE]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">EarlyLintPass</span> <span class="keyword">for</span> <span class="title class_">WhileTrue</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_expr</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, cx: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, e: &amp;ast::Expr) &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Rustc ä¸­ç”¨äº†3ä¸ªå®å»å®šä¹‰ <code>EarlyLintPass</code>ï¼š</p>
<ul>
<li>early<em>lint_methodsï¼šearly_lint_methods ä¸­å®šä¹‰äº† <code>EarlyLintPass</code> ä¸­éœ€è¦å®ç°çš„ `check</em>*<code>å‡½æ•°ï¼Œå¹¶ä¸”å°†è¿™äº›å‡½æ•°ä»¥åŠæ¥æ”¶çš„å‚æ•°</code>$args`ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå®ã€‚</li>
</ul>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> early_lint_methods &#123;</span><br><span class="line">    ($<span class="keyword">macro</span>:path, $args:tt) =&gt; (</span><br><span class="line">        $macro!($args, [</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_param</span>(a: &amp;ast::Param);</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_ident</span>(a: &amp;ast::Ident);</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_crate</span>(a: &amp;ast::Crate);</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_crate_post</span>(a: &amp;ast::Crate);</span><br><span class="line">            ...</span><br><span class="line">        ]);</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>declare_early_lint_passï¼šç”Ÿæˆtrait <code>EarlyLintPass</code> å¹¶è°ƒç”¨å® <code>expand_early_lint_pass_methods</code>ã€‚</li>
</ul>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> declare_early_lint_pass &#123;</span><br><span class="line">    ([], [$($methods:tt)*]) =&gt; (</span><br><span class="line">        <span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">EarlyLintPass</span>: LintPass &#123;</span><br><span class="line">            expand_early_lint_pass_methods!(&amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, [$($methods)*]);</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>expand<em>early_lint_pass_methodsï¼šä¸º`check</em>*`æ–¹æ³•æä¾›é»˜è®¤å®ç°ï¼Œå³ç©ºæ£€æŸ¥ã€‚</li>
</ul>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> expand_early_lint_pass_methods &#123;</span><br><span class="line">    ($context:ty, [$($(<span class="meta">#[$attr:meta]</span>)* <span class="keyword">fn</span> $name:<span class="title function_ invoke__">ident</span>($($param:ident: $arg:ty),*);)*]) =&gt; (</span><br><span class="line">        $(<span class="meta">#[inline(always)]</span> <span class="keyword">fn</span> $<span class="title function_ invoke__">name</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, _: $context, $(_: $arg),*) &#123;&#125;)*</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„è®¾è®¡å¥½å¤„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å› ä¸º LintPass æ˜¯ä¸€ä¸ª traitï¼Œæ¯ä¸€ä¸ª LintPass çš„å®šä¹‰éƒ½éœ€è¦å®ç°å…¶å†…éƒ¨å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ã€‚ä½† early lint å’Œ late lint å‘ç”Ÿåœ¨ç¼–è¯‘çš„ä¸åŒé˜¶æ®µï¼Œå‡½æ•°å…¥å‚ä¹Ÿä¸ä¸€è‡´ï¼ˆAST å’Œ HIRï¼‰ã€‚å› æ­¤ï¼ŒLintPass çš„å®šä¹‰åªåŒ…å«äº† <code>fn name()</code> å’Œ <code>fn get_lints()</code> è¿™ä¸¤ä¸ªé€šç”¨çš„æ–¹æ³•ã€‚è€Œæ‰§è¡Œæ£€æŸ¥å‡½æ•°åˆ™å®šä¹‰åœ¨äº†æ›´ä¸ºå…·ä½“çš„ <code>EarlyLintPass</code> å’Œ <code>LateLintPass</code> ä¸­ã€‚</li>
<li>åŒæ ·çš„ï¼Œå¯¹äº <code>EarlyLintPass</code>ï¼Œ æ¯ä¸€ä¸ª lintpass çš„å®šä¹‰éƒ½å¿…é¡»å®ç°å…¶ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚ä½†å¹¶éæ¯ä¸€ä¸ª lintpass éƒ½éœ€è¦æ£€æŸ¥ AST çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ <code>expand_early_lint_pass_methods</code> ä¸ºå…¶å†…éƒ¨æ–¹æ³•æä¾›äº†é»˜è®¤å®ç°ã€‚è¿™æ ·åœ¨å®šä¹‰å…·ä½“çš„ lintpass æ—¶ï¼Œåªéœ€è¦å…³æ³¨å’Œå®ç°å…¶ç›¸å…³çš„æ£€æŸ¥å‡½æ•°å³å¯ã€‚ä¾‹å¦‚ï¼Œå¯¹äº <code>WhileTrue</code> çš„å®šä¹‰ï¼Œå› ä¸º <code>while true &#123; &#125;</code>è¿™æ ·çš„å†™æ³•åªä¼šå‡ºç°åœ¨ <code>ast::Expr</code> èŠ‚ç‚¹ä¸­ï¼Œå› æ­¤åªéœ€è¦å®ç° <code>check_expr</code> å‡½æ•°å³å¯ã€‚åœ¨å…¶ä»–ä»»ä½•èŠ‚ç‚¹è°ƒç”¨ <code>WhileTrue</code> çš„æ£€æŸ¥å‡½æ•°ï¼Œå¦‚åœ¨æ£€æŸ¥ AST ä¸Šçš„æ ‡è¯†ç¬¦èŠ‚ç‚¹æ—¶ï¼Œè°ƒç”¨ <code>WhileTrue.check_ident()</code>ï¼Œåˆ™æ ¹æ®å® <code>expand_early_lint_pass_methods</code> ä¸­çš„å®šä¹‰æ‰§è¡Œä¸€ä¸ªç©ºå‡½æ•°ã€‚</li>
</ol>
<h3 id="pass-çš„å«ä¹‰"><a href="#pass-çš„å«ä¹‰" class="headerlink" title="pass çš„å«ä¹‰"></a>pass çš„å«ä¹‰</h3><p>åœ¨ Rustc ä¸­ï¼Œé™¤äº† <code>Lint</code> å’Œ <code>LintPass</code> å¤–ï¼Œè¿˜æœ‰ä¸€äº› <code>*Pass</code> çš„å‘½åï¼Œå¦‚ <code>Mir</code> å’Œ <code>MirPass</code>ã€<code>rustc_passes</code> åŒ…ç­‰ã€‚ç¼–è¯‘åŸç†é¾™ä¹¦ä¸­å¯¹Passæœ‰å¯¹åº”çš„è§£é‡Šï¼š</p>
<blockquote>
<p>1.2.8 å°†å¤šä¸ªæ­¥éª¤ç»„åˆæˆè¶Ÿ<br>å‰é¢å…³äºæ­¥éª¤çš„è®¨è®ºè®²çš„æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨çš„é€»è¾‘ç»„ç»‡æ–¹å¼ã€‚åœ¨ä¸€ä¸ªç‰¹å®šçš„å®ç°ä¸­ï¼Œå¤šä¸ªæ­¥éª¤çš„æ´»åŠ¨å¯ä»¥è¢«ç»„åˆæˆä¸€è¶Ÿï¼ˆpassï¼‰ã€‚æ¯è¶Ÿè¯»å…¥ä¸€ä¸ªè¾“å…¥æ–‡ä»¶å¹¶äº§ç”Ÿä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ã€‚</p>
</blockquote>
<p>åœ¨å£°æ˜ <code>LintPass</code> çš„å® <code>declare_lint_pass</code> ä¸­ï¼Œå…¶ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œè¡¨ç¤ºä¸€ä¸ª lintpass å¯ä»¥ç”Ÿæˆå¤šä¸ª lintã€‚Rustc ä¸­è¿˜æœ‰ä¸€äº› CombinedLintPass ä¸­ä¹Ÿæ˜¯å°†æ‰€æœ‰ builtin çš„ lint æ±‡æ€»åˆ°ä¸€ä¸ª lintpass ä¸­ã€‚è¿™ä¸é¾™ä¹¦ä¸­â€œè¶Ÿâ€çš„å®šä¹‰åŸºæœ¬ä¸€è‡´:<code>LintPass</code> å¯ä»¥ç»„åˆå¤šä¸ª <code>Lint</code> çš„æ£€æŸ¥ï¼Œæ¯ä¸ª LintPass è¯»å–ä¸€ä¸ª AST å¹¶äº§ç”Ÿå¯¹åº”çš„ç»“æœã€‚</p>
<h2 id="Lint-çš„ç®€å•å®ç°"><a href="#Lint-çš„ç®€å•å®ç°" class="headerlink" title="Lint çš„ç®€å•å®ç°"></a>Lint çš„ç®€å•å®ç°</h2><p>åœ¨ LintPass çš„å®šä¹‰ä¸­ï¼Œç»™æ¯ä¸€ä¸ª lintpass çš„æ‰€æœ‰ <code>check_*</code> æ–¹æ³•éƒ½æä¾›äº†ä¸€ä¸ªé»˜è®¤å®ç°ã€‚åˆ°è¿™é‡Œä¸ºæ­¢ï¼ŒåŸºæœ¬ä¸Šå·²ç»å¯ä»¥å®ç° Lint æ£€æŸ¥çš„åŠŸèƒ½ã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Linter</span> &#123; &#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">ast_visit</span>::Visitor <span class="keyword">for</span> <span class="title class_">Linter</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">visit_crate</span>(a: ast:<span class="keyword">crate</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">lintpass</span> <span class="keyword">in</span> lintpasses&#123;</span><br><span class="line">            lintpass.<span class="title function_ invoke__">check_crate</span>(a)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_ invoke__">walk_crate</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">visit_stmt</span>(a: ast:stmt)&#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">lintpass</span> <span class="keyword">in</span> lintpasses&#123;</span><br><span class="line">            lintpass.<span class="title function_ invoke__">check_stmt</span>(a)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_ invoke__">walk_stmt</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">linter</span> = Linter::<span class="title function_ invoke__">new</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="variable">c</span> <span class="keyword">in</span> crates&#123;</span><br><span class="line">    linter.<span class="title function_ invoke__">visit_crate</span>(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Visitor</code> æ˜¯éå† AST çš„å·¥å…·ï¼Œåœ¨è¿™é‡Œä¸º Linter å®ç°å…¶ä¸­çš„ <code>visit_*</code> æ–¹æ³•ï¼Œåœ¨éå†æ—¶è°ƒç”¨æ‰€æœ‰ lintpass çš„ <code>check_*</code> å‡½æ•°ã€‚<code>walk_*</code> ä¼šç»§ç»­è°ƒç”¨å…¶ä»–çš„ <code>visit_*</code> å‡½æ•°ï¼Œéå†å…¶ä¸­çš„å­èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œå¯¹äºæ¯ä¸€ä¸ª crateï¼Œ åªéœ€è¦è°ƒç”¨ <code>visit_crate()</code> å‡½æ•°å°±å¯ä»¥éå† AST å¹¶å®Œæˆæ£€æŸ¥ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡ç®€å•ä»‹ç»äº† Rustc æºç ä¸­å…³äº Lint çš„å‡ ä¸ªé‡è¦ç»“æ„ã€‚å¹¶ä»¥ <code>WhileTrue</code> ä¸ºä¾‹è¯´æ˜äº† Rustc å¦‚ä½•ä¸­å®šä¹‰å’Œå®ç°ä¸€ä¸ª <code>Lint</code>ï¼Œæœ€ååŸºäºè¿™äº›ç»“æ„ï¼Œæä¾›äº†ä¸€ä¸ªç®€æ˜“çš„ Lint æ£€æŸ¥çš„å®ç°æ–¹å¼ã€‚å¸Œæœ›èƒ½å¤Ÿå¯¹ç†è§£ Rustc åŠ Lint æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚KCL çš„ Lint å·¥å…·ä¹Ÿå‚è€ƒäº†å…¶ä¸­éƒ¨åˆ†è®¾è®¡ï¼Œ ç”±æ–‡æœ«ç®€æ˜“çš„ Linter ç»“æ„æ”¹è¿›è€Œæˆã€‚ç¯‡å¹…é™åˆ¶ï¼Œå°†åç»­çš„æ–‡ç« å°†ç»§ç»­ä»‹ç» Rustc ä¸­ Lint åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„æ³¨å†Œå’Œæ‰§è¡Œè¿‡ç¨‹ï¼Œå¦‚ä½•ç»§ç»­ä¼˜åŒ–ä¸Šè¿° <code>Linter</code> çš„å®ç°ï¼Œä»¥åŠ KCL Lint çš„è®¾è®¡å’Œå®è·µï¼ŒæœŸå¾…ç»§ç»­å…³æ³¨ã€‚</p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ul>
<li>KusionStack: <a href="https://github.com/KusionStack">https://github.com/KusionStack</a></li>
<li>Rustc: <a href="https://github.com/rust-lang/rust">https://github.com/rust-lang/rust</a></li>
<li>rustc-dev-guide: <a href="https://rustc-dev-guide.rust-lang.org/">https://rustc-dev-guide.rust-lang.org/</a></li>
<li>Rust Visitor: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_ast/visit/index.html">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_ast/visit/index.html</a></li>
<li>Rust Clippy: <a href="https://github.com/rust-lang/rust-clippy">https://github.com/rust-lang/rust-clippy</a></li>
</ul>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
        <tag>Rustæºç å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>MyBatisç¬”è®°</title>
    <url>/2022/04/15/Mybatis/</url>
    <content><![CDATA[<h1 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1 ç®€ä»‹"></a>1 ç®€ä»‹</h1><h2 id="1-1-ä»€ä¹ˆæ˜¯MyBatis"><a href="#1-1-ä»€ä¹ˆæ˜¯MyBatis" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯MyBatis"></a>1.1 ä»€ä¹ˆæ˜¯MyBatis</h2><ul>
<li><strong>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶;</strong></li>
<li>å®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li>
<li>MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ å®ä½“ç±» ã€Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡ã€‘æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li>
<li>MyBatis æœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ibatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚</li>
<li>2013å¹´11æœˆè¿ç§»åˆ°<strong><em>\</em>Github**</strong> .</li>
</ul>
<span id="more"></span>
<p>å¦‚ä½•è·å¾—MyBatis</p>
<ul>
<li><p>mavenä»“åº“</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>Mybatiså®˜æ–¹æ–‡æ¡£ : <a href="http://www.mybatis.org/mybatis-3/zh/index.html">http://www.mybatis.org/mybatis-3/zh/index.html</a></li>
<li>GitHub : <a href="https://github.com/mybatis/mybatis-3">https://github.com/mybatis/mybatis-3</a></li>
</ul>
<h2 id="1-2-æŒä¹…åŒ–"><a href="#1-2-æŒä¹…åŒ–" class="headerlink" title="1.2 æŒä¹…åŒ–"></a>1.2 æŒä¹…åŒ–</h2><p>æ•°æ®æŒä¹…åŒ–</p>
<ul>
<li>æŒä¹…åŒ–å°±æ˜¯å°†ç¨‹åºçš„æ•°æ®åœ¨æŒä¹…çŠ¶æ€å’Œç¬æ—¶çŠ¶æ€è½¬åŒ–çš„è¿‡ç¨‹</li>
<li>å†…å­˜ï¼š<strong>æ–­ç”µå³å¤±</strong></li>
<li>æ•°æ®åº“ï¼ˆJdbcï¼‰,ioæ–‡ä»¶æŒä¹…åŒ–ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆè¦æŒä¹…åŒ–ï¼Ÿ</strong></p>
<ul>
<li>æœ‰ä¸€äº›å¯¹è±¡ï¼Œä¸èƒ½è®©ä»–ä¸¢æ‰</li>
<li>å†…å­˜å¤ªè´µ</li>
</ul>
<h2 id="1-3-æŒä¹…å±‚"><a href="#1-3-æŒä¹…å±‚" class="headerlink" title="1.3 æŒä¹…å±‚"></a>1.3 æŒä¹…å±‚</h2><p>Daoå±‚ã€Serviceå±‚ã€Controllerå±‚</p>
<ul>
<li>å®ŒæˆæŒä¹…åŒ–å·¥ä½œçš„ä»£ç å—</li>
<li>å±‚ç•Œé™ååˆ†æ˜æ˜¾</li>
</ul>
<h2 id="1-4-ä¸ºä»€ä¹ˆéœ€è¦MyBatis"><a href="#1-4-ä¸ºä»€ä¹ˆéœ€è¦MyBatis" class="headerlink" title="1.4 ä¸ºä»€ä¹ˆéœ€è¦MyBatis"></a>1.4 ä¸ºä»€ä¹ˆéœ€è¦MyBatis</h2><ul>
<li>å¸®åŠ©ç¨‹åºå‘˜å°†æ•°æ®å­˜å…¥åˆ°æ•°æ®åº“ä¸­</li>
<li>æ–¹ä¾¿</li>
<li>ä¼ ç»Ÿçš„JDBCä»£ç å¤ªå¤æ‚äº†ï¼Œç®€åŒ–ï¼Œæ¡†æ¶ï¼Œè‡ªåŠ¨åŒ–</li>
<li>ä¸ç”¨MyBatisä¹Ÿå¯ä»¥ï¼ŒæŠ€æœ¯æ²¡æœ‰é«˜ä½ä¹‹åˆ†</li>
<li>ä¼˜ç‚¹ï¼š<ul>
<li>ç®€å•æ˜“å­¦</li>
<li>çµæ´»</li>
<li>sqlå’Œä»£ç çš„åˆ†ç¦»ï¼Œæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚</li>
<li>æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ormå­—æ®µå…³ç³»æ˜ å°„</li>
<li>æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„å»ºç»´æŠ¤</li>
<li>æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sql</li>
</ul>
</li>
</ul>
<h1 id="2-ç¬¬ä¸€ä¸ªMyBatisç¨‹åº"><a href="#2-ç¬¬ä¸€ä¸ªMyBatisç¨‹åº" class="headerlink" title="2 ç¬¬ä¸€ä¸ªMyBatisç¨‹åº"></a>2 ç¬¬ä¸€ä¸ªMyBatisç¨‹åº</h1><p><strong>æ€è·¯æµç¨‹ï¼šæ­å»ºç¯å¢ƒâ€”&gt;å¯¼å…¥Mybatisâ€”-&gt;ç¼–å†™ä»£ç â€”-&gt;æµ‹è¯•</strong></p>
<h2 id="2-1-æ­å»ºç¯å¢ƒ"><a href="#2-1-æ­å»ºç¯å¢ƒ" class="headerlink" title="2.1 æ­å»ºç¯å¢ƒ"></a>2.1 æ­å»ºç¯å¢ƒ</h2><p>æ­å»ºæ•°æ®åº“ï¼ˆåˆ›å»ºæ•°æ®åº“æœ€å¥½ç”¨SQLyogï¼Œåé¢å®¹æ˜“å‘ç”Ÿå­—ç¬¦ç¼–ç é”™è¯¯ï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `mybatis`;</span><br><span class="line">USE `mybatis`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`) </span><br><span class="line"></span><br><span class="line">);ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf<span class="number">-8</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` (`id`,`name`,`pwd`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;zz1&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;zz2&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;zz3&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>æ–°å»ºé¡¹ç›®</p>
<ol>
<li>æ–°å»ºmavené¡¹ç›®</li>
<li>åˆ é™¤src</li>
<li>å¯¼å…¥ä¾èµ–</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-åˆ›å»ºæ¨¡å—"><a href="#2-2-åˆ›å»ºæ¨¡å—" class="headerlink" title="2.2 åˆ›å»ºæ¨¡å—"></a>2.2 åˆ›å»ºæ¨¡å—</h2><ul>
<li>ç¼–å†™MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç¼–å†™MyBatiså·¥å…·ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisUtils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è·å–sqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å–SqlSessionè¿æ¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title function_">getSession</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-3-ç¼–å†™ä»£ç "><a href="#2-3-ç¼–å†™ä»£ç " class="headerlink" title="2.3 ç¼–å†™ä»£ç "></a>2.3 ç¼–å†™ä»£ç </h2><ul>
<li>å®ä½“ç±»</li>
<li>Daoæ¥å£</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUserList</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¥å£å®ç°ç±» ï¼ˆç”±åŸæ¥çš„UserDaoImplè½¬å˜ä¸ºä¸€ä¸ªMapperé…ç½®æ–‡ä»¶ï¼‰</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--namespace=ç»‘å®šä¸€ä¸ªæŒ‡å®šçš„Dao/Mapperæ¥å£--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.zz.dao.UserDao&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--id å¯¹åº”æ–¹æ³•å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    select * from user</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="2-4-æµ‹è¯•"><a href="#2-4-æµ‹è¯•" class="headerlink" title="2.4 æµ‹è¯•"></a>2.4 æµ‹è¯•</h2><p>æ³¨æ„ç‚¹ï¼š</p>
<p>org.apache.ibatis.binding.BindingException: Type interface com.kuang.dao.UserDao is not known to the MapperRegistry.</p>
<p><strong>MapperRegistryæ˜¯ä»€ä¹ˆ?</strong></p>
<p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œmapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MyTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//è·å¾—SqlSessionå¯¹è±¡</span></span><br><span class="line">    <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> MybatisUtils.getSession();</span><br><span class="line">    <span class="comment">//æ–¹å¼ä¸€ getMapper</span></span><br><span class="line">    <span class="type">UserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> sqlSession.getMapper(UserDao.class);</span><br><span class="line">    List&lt;User&gt; userList = userDao.getUserList();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3ã€CURD"><a href="#3ã€CURD" class="headerlink" title="3ã€CURD"></a>3ã€CURD</h1><h2 id="3-1-namespace"><a href="#3-1-namespace" class="headerlink" title="3.1 namespace"></a>3.1 namespace</h2><p>namespaceä¸­çš„åŒ…åè¦å’ŒDao/Mapperæ¥å£çš„åŒ…åä¸€è‡´</p>
<h2 id="3-2-select"><a href="#3-2-select" class="headerlink" title="3.2 select"></a>3.2 select</h2><p>é€‰æ‹©ï¼ŒæŸ¥è¯¢è¯­å¥ï¼›</p>
<ul>
<li><p>idï¼šå°±æ˜¯å¯¹åº”çš„namespaceä¸­çš„æ–¹æ³•åï¼›</p>
</li>
<li><p>resultType : Sqlè¯­å¥æ‰§è¡Œçš„è¿”å›å€¼ï¼›</p>
</li>
<li><p>parameterType : å‚æ•°ç±»å‹ï¼›</p>
<ol>
<li><p>ç¼–å†™æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUserList</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">//æ’å…¥ç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(User user)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™å¯¹åº”çš„mapperä¸­çš„sqlè¯­å¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    insert into user (id,name,password) values (#&#123;id&#125;, #&#123;name&#125;, #&#123;password&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MyTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> MybatisUtils.getSqlSession();</span><br><span class="line">    <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">3</span>,<span class="string">&quot;zz&quot;</span>,<span class="string">&quot;666&quot;</span>);</span><br><span class="line">    mapper.addUser(user);</span><br><span class="line">    <span class="comment">//å¢åˆ æ”¹ä¸€å®šè¦æäº¤äº‹åŠ¡</span></span><br><span class="line">    sqlSession.commit();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å…³é—­sqlSession</span></span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼šå¢åˆ æ”¹æŸ¥ä¸€å®šè¦æäº¤äº‹åŠ¡ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">sqlSession.commit();</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h2 id="3-3-Insert"><a href="#3-3-Insert" class="headerlink" title="3.3 Insert"></a>3.3 Insert</h2><h2 id="3-4-update"><a href="#3-4-update" class="headerlink" title="3.4 update"></a>3.4 update</h2><h2 id="3-5-Delete"><a href="#3-5-Delete" class="headerlink" title="3.5 Delete"></a>3.5 Delete</h2><h2 id="3-6-ä¸‡èƒ½Map"><a href="#3-6-ä¸‡èƒ½Map" class="headerlink" title="3.6 ä¸‡èƒ½Map"></a>3.6 ä¸‡èƒ½Map</h2><p>å‡è®¾ï¼Œæˆ‘ä»¬çš„å®ä½“ç±»ï¼Œæˆ–è€…æ•°æ®åº“ä¸­çš„è¡¨ï¼Œå­—æ®µæˆ–è€…å‚æ•°è¿‡å¤šï¼Œæˆ‘ä»¬åº”è¯¥è€ƒè™‘ä½¿ç”¨Map!</p>
<ol>
<li><p>UserMapperæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç”¨ä¸‡èƒ½Mapæ’å…¥ç”¨æˆ·</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser2</span><span class="params">(Map&lt;String,Object&gt; map)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>```xml</p>
<!--å¯¹è±¡ä¸­çš„å±æ€§å¯ä»¥ç›´æ¥å–å‡ºæ¥ ä¼ é€’mapçš„key-->
<p><insert id="addUser2" parametertype="map"></insert></p>
<pre><code>insert into user (id,name,password) values (#&#123;userid&#125;,#&#123;username&#125;,#&#123;userpassword&#125;)
</code></pre><p>&lt;/insert&gt;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">3. ```java</span><br><span class="line">       @MyTest</span><br><span class="line">       public void test3()&#123;</span><br><span class="line">           SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">           UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">           HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();</span><br><span class="line">           map.put(&quot;userid&quot;,4);</span><br><span class="line">           map.put(&quot;username&quot;,&quot;zzz&quot;);</span><br><span class="line">           map.put(&quot;userpassword&quot;,789);</span><br><span class="line">           mapper.addUser2(map);</span><br><span class="line">           //æäº¤äº‹åŠ¡</span><br><span class="line">           sqlSession.commit();</span><br><span class="line">           //å…³é—­èµ„æº</span><br><span class="line">           sqlSession.close();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>Mapä¼ é€’å‚æ•°ï¼Œç›´æ¥åœ¨sqlä¸­å–å‡ºkeyå³å¯ï¼    ã€parameter=â€œmapâ€ã€‘</p>
<p>å¯¹è±¡ä¼ é€’å‚æ•°ï¼Œç›´æ¥åœ¨sqlä¸­å–å‡ºå¯¹è±¡çš„å±æ€§å³å¯ï¼    ã€parameter=â€œObjectâ€ã€‘</p>
<p>åªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹å‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åœ¨sqlä¸­å–åˆ°</p>
<p>å¤šä¸ªå‚æ•°ç”¨Map , <strong>æˆ–è€…æ³¨è§£ï¼</strong></p>
</blockquote>
<h2 id="3-7-æ¨¡ç³ŠæŸ¥è¯¢"><a href="#3-7-æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="3.7  æ¨¡ç³ŠæŸ¥è¯¢"></a>3.7  æ¨¡ç³ŠæŸ¥è¯¢</h2><ol>
<li>Javaä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼ é€’é€šé…ç¬¦ % %</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;User&gt; userList = mapper.getUserLike(<span class="string">&quot;%æ%&quot;</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li>åœ¨sqlæ‹¼æ¥ä¸­ä½¿ç”¨é€šé…ç¬¦ï¼</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mybatis.user <span class="keyword">where</span> name <span class="keyword">like</span> &quot;%&quot;#&#123;<span class="keyword">value</span>&#125;&quot;%&quot;</span><br></pre></td></tr></table></figure>
<h1 id="4-é…ç½®è§£æ"><a href="#4-é…ç½®è§£æ" class="headerlink" title="4 é…ç½®è§£æ"></a>4 é…ç½®è§£æ</h1><h2 id="4-1-æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#4-1-æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="4.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>4.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶</h2><ul>
<li>mybatis-config.xml</li>
<li>MyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">configurationï¼ˆé…ç½®ï¼‰</span><br><span class="line">propertiesï¼ˆå±æ€§ï¼‰</span><br><span class="line">settingsï¼ˆè®¾ç½®ï¼‰</span><br><span class="line">typeAliasesï¼ˆç±»å‹åˆ«åï¼‰</span><br><span class="line">typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</span><br><span class="line">objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</span><br><span class="line">pluginsï¼ˆæ’ä»¶ï¼‰</span><br><span class="line">environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰</span><br><span class="line">environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰</span><br><span class="line">transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</span><br><span class="line">dataSourceï¼ˆæ•°æ®æºï¼‰</span><br><span class="line">databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰</span><br><span class="line">mappersï¼ˆæ˜ å°„å™¨ï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="4-2-ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"><a href="#4-2-ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰" class="headerlink" title="4.2 ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"></a>4.2 ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰</h2><p>MyBatis å¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒ</p>
<p><strong>ä¸è¿‡è¦è®°ä½ï¼šå°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactory å®ä¾‹åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒã€‚</strong></p>
<p>å­¦ä¼šä½¿ç”¨é…ç½®å¤šå¥—è¿è¡Œç¯å¢ƒï¼</p>
<p>Mybatisé»˜è®¤çš„äº‹åŠ¡ç®¡ç†å™¨å°±æ˜¯ JDBC  ï¼Œ è¿æ¥æ±  ï¼š POOLED</p>
<h2 id="4-3-å±æ€§ï¼ˆpropertiesï¼‰"><a href="#4-3-å±æ€§ï¼ˆpropertiesï¼‰" class="headerlink" title="4.3 å±æ€§ï¼ˆpropertiesï¼‰"></a>4.3 å±æ€§ï¼ˆpropertiesï¼‰</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡propertieså±æ€§æ¥å®ç°å¼•ç”¨é…ç½®æ–‡ä»¶</p>
<p>è¿™äº›å±æ€§éƒ½æ˜¯å¯å¤–éƒ¨é…ç½®ä¸”å¯åŠ¨æ€æ›¿æ¢çš„ï¼Œæ—¢å¯ä»¥åœ¨å…¸å‹çš„ Java å±æ€§æ–‡ä»¶ä¸­é…ç½®ï¼Œäº¦å¯é€šè¿‡ properties å…ƒç´ çš„å­å…ƒç´ æ¥ä¼ é€’ã€‚ã€db.propertiesã€‘</p>
<p>ç¼–å†™é…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">driver=value=&quot;com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8</span><br><span class="line">username=root</span><br><span class="line">password=123456</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ˜ å…¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;db.properties&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¯ä»¥ç›´æ¥å¼•å…¥å¤–éƒ¨æ–‡ä»¶</li>
<li>å¯ä»¥åœ¨å…¶ä¸­å¢åŠ ä¸€äº›å±æ€§é…ç½®</li>
<li>å¦‚æœä¸¤ä¸ªæ–‡ä»¶æœ‰åŒä¸€ä¸ªå­—æ®µï¼Œä¼˜å…ˆä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶çš„ï¼</li>
</ul>
<h2 id="4-4-ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"><a href="#4-4-ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰" class="headerlink" title="4.4 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"></a>4.4 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</h2><ul>
<li>ç±»å‹åˆ«åæ˜¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªçŸ­çš„åå­—ã€‚</li>
<li>å­˜åœ¨çš„æ„ä¹‰ä»…åœ¨äºç”¨æ¥å‡å°‘ç±»å®Œå…¨é™å®šåçš„å†—ä½™ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;User&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼ŒMyBatis ä¼šåœ¨åŒ…åä¸‹é¢æœç´¢éœ€è¦çš„ Java Beanï¼Œæ¯”å¦‚ï¼š</p>
<p>æ‰«æå®ä½“ç±»çš„åŒ…ï¼Œå®ƒçš„é»˜è®¤åˆ«åå°±ä¸ºè¿™ä¸ªç±»çš„ ç±»åï¼Œé¦–å­—æ¯å°å†™ï¼</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.kuang.pojo&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å®ä½“ç±»æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ã€‚</p>
<p>å¦‚æœå®ä½“ç±»ååˆ†å¤šï¼Œå»ºè®®ä½¿ç”¨ç¬¬äºŒç§ã€‚</p>
<p>ç¬¬ä¸€ç§å¯ä»¥DIYåˆ«åï¼Œç¬¬äºŒç§åˆ™Â·ä¸è¡ŒÂ·ï¼Œå¦‚æœéè¦æ”¹ï¼Œéœ€è¦åœ¨å®ä½“ä¸Šå¢åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Alias(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-5-è®¾ç½®"><a href="#4-5-è®¾ç½®" class="headerlink" title="4.5 è®¾ç½®"></a>4.5 è®¾ç½®</h2><p>è¿™æ˜¯ MyBatis ä¸­æä¸ºé‡è¦çš„è°ƒæ•´è®¾ç½®ï¼Œå®ƒä»¬ä¼šæ”¹å˜ MyBatis çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚</p>
<p><img src="/2022/04/15/Mybatis/20200706081846851.png" alt="20200706081846851"></p>
<p><img src="/2022/04/15/Mybatis/20200706081846831.png" alt="20200706081846831"></p>
<h2 id="4-6-å…¶ä»–é…ç½®"><a href="#4-6-å…¶ä»–é…ç½®" class="headerlink" title="4.6 å…¶ä»–é…ç½®"></a>4.6 å…¶ä»–é…ç½®</h2><ul>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers">typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</a></li>
<li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory">objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</a></li>
<li>pluginsæ’ä»¶<ul>
<li>mybatis-generator-core</li>
<li>mybatis-plus</li>
<li>é€šç”¨mapper</li>
</ul>
</li>
</ul>
<h2 id="4-7-æ˜ å°„å™¨ï¼ˆmappersï¼‰"><a href="#4-7-æ˜ å°„å™¨ï¼ˆmappersï¼‰" class="headerlink" title="4.7 æ˜ å°„å™¨ï¼ˆmappersï¼‰"></a>4.7 æ˜ å°„å™¨ï¼ˆmappersï¼‰</h2><p>MapperRegistryï¼šæ³¨å†Œç»‘å®šæˆ‘ä»¬çš„Mapperæ–‡ä»¶ï¼›</p>
<p>æ–¹å¼ä¸€ï¼š ã€æ¨èä½¿ç”¨ã€‘</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/zz/dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–¹å¼äºŒï¼šä½¿ç”¨classæ–‡ä»¶ç»‘å®šæ³¨å†Œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.dao.UserMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼</li>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li>
</ul>
<p>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ‰«æåŒ…è¿›è¡Œæ³¨å…¥ç»‘å®š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.zz.dao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼</li>
<li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li>
</ul>
<p>ç»ƒä¹ æ—¶é—´ï¼š</p>
<ul>
<li>å°†æ•°æ®åº“é…ç½®æ–‡ä»¶å¤–éƒ¨å¼•å…¥</li>
<li>å®ä½“ç±»åˆ«å</li>
<li>ä¿è¯UserMapper æ¥å£ å’Œ UserMapper .xml æ”¹ä¸ºä¸€è‡´ï¼å¹¶ä¸”æ”¾åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li>
</ul>
<h2 id="5-8-ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"><a href="#5-8-ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ" class="headerlink" title="5.8 ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"></a>5.8 ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ</h2><p><img src="https://img-blog.csdnimg.cn/20200706081923437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>ç”Ÿå‘½å‘¨æœŸï¼Œå’Œä½œç”¨åŸŸï¼Œæ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºé”™è¯¯çš„ä½¿ç”¨ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„<strong>å¹¶å‘é—®é¢˜</strong>ã€‚</p>
<p><strong>SqlSessionFactoryBuilderï¼š</strong></p>
<ul>
<li>ä¸€æ—¦åˆ›å»ºäº† SqlSessionFactoryï¼Œå°±ä¸å†éœ€è¦å®ƒäº†</li>
<li>å±€éƒ¨å˜é‡</li>
</ul>
<p><strong>SqlSessionFactoryï¼š</strong></p>
<ul>
<li>è¯´ç™½äº†å°±æ˜¯å¯ä»¥æƒ³è±¡ä¸º ï¼šæ•°æ®åº“è¿æ¥æ± </li>
<li>SqlSessionFactory ä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œ<strong>æ²¡æœ‰ä»»ä½•ç†ç”±ä¸¢å¼ƒå®ƒæˆ–é‡æ–°åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹ã€‚</strong></li>
<li>å› æ­¤ SqlSessionFactory çš„æœ€ä½³ä½œç”¨åŸŸæ˜¯åº”ç”¨ä½œç”¨åŸŸã€‚</li>
<li>æœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨<strong>å•ä¾‹æ¨¡å¼</strong>æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼ã€‚</li>
</ul>
<p><strong>SqlSession</strong></p>
<ul>
<li>è¿æ¥åˆ°è¿æ¥æ± çš„ä¸€ä¸ªè¯·æ±‚ï¼</li>
<li>SqlSession çš„å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸã€‚</li>
<li>ç”¨å®Œä¹‹åéœ€è¦èµ¶ç´§å…³é—­ï¼Œå¦åˆ™èµ„æºè¢«å ç”¨ï¼</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200706081946508.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿™é‡Œé¢çš„æ¯ä¸€ä¸ªMapperï¼Œå°±ä»£è¡¨ä¸€ä¸ªå…·ä½“çš„ä¸šåŠ¡ï¼5ã€è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</p>
<h1 id="5-è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜"><a href="#5-è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜" class="headerlink" title="5 è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜"></a>5 è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</h1><h2 id="5-1-é—®é¢˜"><a href="#5-1-é—®é¢˜" class="headerlink" title="5.1  é—®é¢˜"></a>5.1  é—®é¢˜</h2><p>æ•°æ®åº“ä¸­çš„å­—æ®µ</p>
<p><img src="https://img-blog.csdnimg.cn/202007060820133.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ‹·è´ä¹‹å‰çš„ï¼Œæµ‹è¯•å®ä½“ç±»å­—æ®µä¸ä¸€è‡´çš„æƒ…å†µ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æµ‹å‡ºç°é—®é¢˜</p>
<p><img src="/2022/04/15/Mybatis/image-20200816200149612.png" alt="image-20200816200149612"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//    select * from mybatis.user where id = #&#123;id&#125;</span></span><br><span class="line"><span class="comment">//ç±»å‹å¤„ç†å™¨</span></span><br><span class="line"><span class="comment">//    select id,name,pwd from mybatis.user where id = #&#123;id&#125;</span></span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<ul>
<li><p>èµ·åˆ«å</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    select id,name,pwd as password from mybatis.user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-2-ç»“æœé›†æ˜ å°„"><a href="#5-2-ç»“æœé›†æ˜ å°„" class="headerlink" title="5.2 ç»“æœé›†æ˜ å°„"></a>5.2 ç»“æœé›†æ˜ å°„</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id   name   pwd</span><br><span class="line">id   name   password</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç»“æœé›†æ˜ å°„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;UserMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--columnæ•°æ®åº“ä¸­çš„å­—æ®µï¼Œpropertyå®ä½“ç±»ä¸­çš„å±æ€§--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">property</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;UserMap&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatis.user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>resultMap</code> å…ƒç´ æ˜¯ MyBatis ä¸­æœ€é‡è¦æœ€å¼ºå¤§çš„å…ƒç´ </li>
<li>ResultMap çš„è®¾è®¡æ€æƒ³æ˜¯ï¼Œå¯¹äºç®€å•çš„è¯­å¥æ ¹æœ¬ä¸éœ€è¦é…ç½®æ˜¾å¼çš„ç»“æœæ˜ å°„ï¼Œè€Œå¯¹äºå¤æ‚ä¸€ç‚¹çš„è¯­å¥åªéœ€è¦æè¿°å®ƒä»¬çš„å…³ç³»å°±è¡Œäº†ã€‚</li>
<li><code>ResultMap</code> æœ€ä¼˜ç§€çš„åœ°æ–¹åœ¨äºï¼Œè™½ç„¶ä½ å·²ç»å¯¹å®ƒç›¸å½“äº†è§£äº†ï¼Œä½†æ˜¯æ ¹æœ¬å°±ä¸éœ€è¦æ˜¾å¼åœ°ç”¨åˆ°ä»–ä»¬ã€‚</li>
</ul>
<h1 id="6-æ—¥å¿—"><a href="#6-æ—¥å¿—" class="headerlink" title="6 æ—¥å¿—"></a>6 æ—¥å¿—</h1><h2 id="6-1-æ—¥å¿—å·¥å‚"><a href="#6-1-æ—¥å¿—å·¥å‚" class="headerlink" title="6.1 æ—¥å¿—å·¥å‚"></a>6.1 æ—¥å¿—å·¥å‚</h2><p>å¦‚æœä¸€ä¸ªæ•°æ®åº“æ“ä½œï¼Œå‡ºç°äº†å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦æ’é”™ã€‚æ—¥å¿—å°±æ˜¯æœ€å¥½çš„åŠ©æ‰‹ï¼</p>
<p>æ›¾ç»ï¼šsout ã€debug</p>
<p>ç°åœ¨ï¼šæ—¥å¿—å·¥å‚ï¼</p>
<p><img src="https://img-blog.csdnimg.cn/20200706082113240.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<ul>
<li>SLF4J</li>
<li>LOG4J  ã€æŒæ¡ã€‘</li>
<li>LOG4J2</li>
<li>JDK_LOGGING</li>
<li>COMMONS_LOGGING</li>
<li>STDOUT_LOGGING   ã€æŒæ¡ã€‘</li>
<li>NO_LOGGING</li>
</ul>
<p>åœ¨Mybatisä¸­å…·ä½“ä½¿ç”¨é‚£ä¸ªä¸€æ—¥å¿—å®ç°ï¼Œåœ¨è®¾ç½®ä¸­è®¾å®šï¼</p>
<p><strong>STDOUT_LOGGINGæ ‡å‡†æ—¥å¿—è¾“å‡º</strong></p>
<p>åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®æˆ‘ä»¬çš„æ—¥å¿—ï¼</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2020070608213977.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="6-2-Log4j"><a href="#6-2-Log4j" class="headerlink" title="6.2 Log4j"></a>6.2 Log4j</h2><p>ä»€ä¹ˆæ˜¯Log4jï¼Ÿ</p>
<ul>
<li>Log4jæ˜¯<a href="https://baike.baidu.com/item/Apache/8512995">Apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯<a href="https://baike.baidu.com/item/æ§åˆ¶å°/2438626">æ§åˆ¶å°</a>ã€æ–‡ä»¶ã€<a href="https://baike.baidu.com/item/GUI">GUI</a>ç»„ä»¶</li>
<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›</li>
<li>é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚</li>
<li>é€šè¿‡ä¸€ä¸ª<a href="https://baike.baidu.com/item/é…ç½®æ–‡ä»¶/286550">é…ç½®æ–‡ä»¶</a>æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚</li>
</ul>
<ol>
<li><p>å…ˆå¯¼å…¥log4jçš„åŒ…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>log4j.properties</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç </span></span><br><span class="line"><span class="attr">log4j.rootLogger</span>=<span class="string">DEBUG,console,file</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span></span><br><span class="line"><span class="attr">log4j.appender.console</span> = <span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="attr">log4j.appender.console.Target</span> = <span class="string">System.out</span></span><br><span class="line"><span class="attr">log4j.appender.console.Threshold</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.appender.console.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.console.layout.ConversionPattern</span>=<span class="string">[%c]-%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span></span><br><span class="line"><span class="attr">log4j.appender.file</span> = <span class="string">org.apache.log4j.RollingFileAppender</span></span><br><span class="line"><span class="attr">log4j.appender.file.File</span>=<span class="string">./log/kuang.log</span></span><br><span class="line"><span class="attr">log4j.appender.file.MaxFileSize</span>=<span class="string">10mb</span></span><br><span class="line"><span class="attr">log4j.appender.file.Threshold</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.appender.file.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.file.layout.ConversionPattern</span>=<span class="string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#æ—¥å¿—è¾“å‡ºçº§åˆ«</span></span><br><span class="line"><span class="attr">log4j.logger.org.mybatis</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.logger.java.sql</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.logger.java.sql.Statement</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.logger.java.sql.ResultSet</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.logger.java.sql.PreparedStatement</span>=<span class="string">DEBUG</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®log4jä¸ºæ—¥å¿—çš„å®ç°</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;LOG4J&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Log4jçš„ä½¿ç”¨ï¼ï¼Œç›´æ¥æµ‹è¯•è¿è¡Œåˆšæ‰çš„æŸ¥è¯¢<br> <img src="https://img-blog.csdnimg.cn/20200706082208266.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
</li>
</ol>
<p><strong>ç®€å•ä½¿ç”¨</strong></p>
<ol>
<li><p>åœ¨è¦ä½¿ç”¨Log4j çš„ç±»ä¸­ï¼Œå¯¼å…¥åŒ…  import org.apache.log4j.Logger;</p>
</li>
<li><p>æ—¥å¿—å¯¹è±¡ï¼Œå‚æ•°ä¸ºå½“å‰ç±»çš„class</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> Logger.getLogger(UserDaoTest.class);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ—¥å¿—çº§åˆ«</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">logger.info(<span class="string">&quot;info:è¿›å…¥äº†testLog4j&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;debug:è¿›å…¥äº†testLog4j&quot;</span>);</span><br><span class="line">logger.error(<span class="string">&quot;error:è¿›å…¥äº†testLog4j&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="7-åˆ†é¡µ"><a href="#7-åˆ†é¡µ" class="headerlink" title="7 åˆ†é¡µ"></a>7 åˆ†é¡µ</h1><p>   <strong>æ€è€ƒï¼šä¸ºä»€ä¹ˆè¦åˆ†é¡µï¼Ÿ</strong></p>
<ul>
<li><p>å‡å°‘æ•°æ®çš„å¤„ç†é‡</p>
<h2 id="7-1-ä½¿ç”¨Limitåˆ†é¡µ"><a href="#7-1-ä½¿ç”¨Limitåˆ†é¡µ" class="headerlink" title="7.1 ä½¿ç”¨Limitåˆ†é¡µ"></a>7.1 ä½¿ç”¨Limitåˆ†é¡µ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">è¯­æ³•ï¼š<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> limit startIndex,pageSize;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> limit <span class="number">3</span>;  #[<span class="number">0</span>,n]</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨Mybatiså®ç°åˆ†é¡µï¼Œæ ¸å¿ƒSQL</p>
</li>
</ul>
<ol>
<li><p>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ†é¡µ</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserByLimit</span><span class="params">(Map&lt;String,Integer&gt; map)</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--//åˆ†é¡µ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByLimit&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;UserMap&quot;</span>&gt;</span></span><br><span class="line">    select * from  mybatis.user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MyTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUserByLimit</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> MybatisUtils.getSqlSession();</span><br><span class="line"><span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line"></span><br><span class="line">HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, Integer&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;startIndex&quot;</span>,<span class="number">1</span>);</span><br><span class="line">    map.put(<span class="string">&quot;pageSize&quot;</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    List&lt;User&gt; userList =  mapper.getUserByLimit(map);</span><br><span class="line">    <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="7-2ã€RowBoundsåˆ†é¡µ"><a href="#7-2ã€RowBoundsåˆ†é¡µ" class="headerlink" title="7.2ã€RowBoundsåˆ†é¡µ"></a>7.2ã€RowBoundsåˆ†é¡µ</h3><p>ä¸å†ä½¿ç”¨SQLå®ç°åˆ†é¡µ</p>
<ol>
<li><p>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ†é¡µ2</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserByRowBounds</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--åˆ†é¡µ2--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByRowBounds&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;UserMap&quot;</span>&gt;</span></span><br><span class="line">    select * from  mybatis.user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@MyTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUserByRowBounds</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> MybatisUtils.getSqlSession();</span><br><span class="line"></span><br><span class="line"><span class="comment">//RowBoundså®ç°</span></span><br><span class="line"><span class="type">RowBounds</span> <span class="variable">rowBounds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RowBounds</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡Javaä»£ç å±‚é¢å®ç°åˆ†é¡µ</span></span><br><span class="line">List&lt;User&gt; userList = sqlSession.selectList(<span class="string">&quot;com.kuang.dao.UserMapper.getUserByRowBounds&quot;</span>,<span class="literal">null</span>,rowBounds);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="7-3-åˆ†é¡µæ’ä»¶"><a href="#7-3-åˆ†é¡µæ’ä»¶" class="headerlink" title="7.3 åˆ†é¡µæ’ä»¶"></a>7.3 åˆ†é¡µæ’ä»¶</h3><p><img src="https://img-blog.csdnimg.cn/20200706082257138.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h1 id="8-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8 ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8 ä½¿ç”¨æ³¨è§£å¼€å‘</h1><h2 id="8-1-é¢å‘æ¥å£ç¼–ç¨‹"><a href="#8-1-é¢å‘æ¥å£ç¼–ç¨‹" class="headerlink" title="8.1 é¢å‘æ¥å£ç¼–ç¨‹"></a>8.1 é¢å‘æ¥å£ç¼–ç¨‹</h2><p>- å¤§å®¶ä¹‹å‰éƒ½å­¦è¿‡é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå­¦ä¹ è¿‡æ¥å£ï¼Œä½†åœ¨çœŸæ­£çš„å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šé€‰æ‹©é¢å‘æ¥å£ç¼–ç¨‹<br> - <strong>æ ¹æœ¬åŸå›  :  è§£è€¦ , å¯æ‹“å±• , æé«˜å¤ç”¨ , åˆ†å±‚å¼€å‘ä¸­ , ä¸Šå±‚ä¸ç”¨ç®¡å…·ä½“çš„å®ç° , å¤§å®¶éƒ½éµå®ˆå…±åŒçš„æ ‡å‡† , ä½¿å¾—å¼€å‘å˜å¾—å®¹æ˜“ , è§„èŒƒæ€§æ›´å¥½</strong><br> - åœ¨ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„å„ç§åŠŸèƒ½æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ä¸åŒå¯¹è±¡åä½œå®Œæˆçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå„ä¸ªå¯¹è±¡å†…éƒ¨æ˜¯å¦‚ä½•å®ç°è‡ªå·±çš„,å¯¹ç³»ç»Ÿè®¾è®¡äººå‘˜æ¥è®²å°±ä¸é‚£ä¹ˆé‡è¦äº†ï¼›<br> - è€Œå„ä¸ªå¯¹è±¡ä¹‹é—´çš„åä½œå…³ç³»åˆ™æˆä¸ºç³»ç»Ÿè®¾è®¡çš„å…³é”®ã€‚å°åˆ°ä¸åŒç±»ä¹‹é—´çš„é€šä¿¡ï¼Œå¤§åˆ°å„æ¨¡å—ä¹‹é—´çš„äº¤äº’ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¹‹åˆéƒ½æ˜¯è¦ç€é‡è€ƒè™‘çš„ï¼Œè¿™ä¹Ÿæ˜¯ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦å·¥ä½œå†…å®¹ã€‚é¢å‘æ¥å£ç¼–ç¨‹å°±æ˜¯æŒ‡æŒ‰ç…§è¿™ç§æ€æƒ³æ¥ç¼–ç¨‹ã€‚</p>
<p><strong>å…³äºæ¥å£çš„ç†è§£</strong></p>
<p>- æ¥å£ä»æ›´æ·±å±‚æ¬¡çš„ç†è§£ï¼Œåº”æ˜¯å®šä¹‰ï¼ˆè§„èŒƒï¼Œçº¦æŸï¼‰ä¸å®ç°ï¼ˆåå®åˆ†ç¦»çš„åŸåˆ™ï¼‰çš„åˆ†ç¦»ã€‚<br> - æ¥å£çš„æœ¬èº«åæ˜ äº†ç³»ç»Ÿè®¾è®¡äººå‘˜å¯¹ç³»ç»Ÿçš„æŠ½è±¡ç†è§£ã€‚<br> - æ¥å£åº”æœ‰ä¸¤ç±»ï¼š<br> - ç¬¬ä¸€ç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“çš„æŠ½è±¡ï¼Œå®ƒå¯å¯¹åº”ä¸ºä¸€ä¸ªæŠ½è±¡ä½“(abstract class)ï¼›<br> - ç¬¬äºŒç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“æŸä¸€æ–¹é¢çš„æŠ½è±¡ï¼Œå³å½¢æˆä¸€ä¸ªæŠ½è±¡é¢ï¼ˆinterfaceï¼‰ï¼›<br> - ä¸€ä¸ªä½“æœ‰å¯èƒ½æœ‰å¤šä¸ªæŠ½è±¡é¢ã€‚æŠ½è±¡ä½“ä¸æŠ½è±¡é¢æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<p><strong>ä¸‰ä¸ªé¢å‘åŒºåˆ«</strong></p>
<p>- é¢å‘å¯¹è±¡æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥å¯¹è±¡ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å±æ€§åŠæ–¹æ³• .<br> - é¢å‘è¿‡ç¨‹æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥ä¸€ä¸ªå…·ä½“çš„æµç¨‹ï¼ˆäº‹åŠ¡è¿‡ç¨‹ï¼‰ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å®ç° .<br> - æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ˜¯é’ˆå¯¹å¤ç”¨æŠ€æœ¯è€Œè¨€çš„ï¼Œä¸é¢å‘å¯¹è±¡ï¼ˆè¿‡ç¨‹ï¼‰ä¸æ˜¯ä¸€ä¸ªé—®é¢˜.æ›´å¤šçš„ä½“ç°å°±æ˜¯å¯¹ç³»ç»Ÿæ•´ä½“çš„æ¶æ„</p>
<h2 id="8-2-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-2-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8.2 ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8.2 ä½¿ç”¨æ³¨è§£å¼€å‘</h2><ol>
<li><p>æ³¨è§£åœ¨æ¥å£ä¸Šå®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUsers</span><span class="params">()</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>éœ€è¦å†æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ¥å£ï¼</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç»‘å®šæ¥å£--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.dao.UserMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•</p>
</li>
</ol>
<p>æœ¬è´¨ï¼šåå°„æœºåˆ¶å®ç°</p>
<p>åº•å±‚ï¼šåŠ¨æ€ä»£ç†ï¼<br> <img src="https://img-blog.csdnimg.cn/20200706082347652.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><strong>Mybatisè¯¦ç»†çš„æ‰§è¡Œæµç¨‹ï¼</strong><br> <img src="https://img-blog.csdnimg.cn/20200706082410595.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="8-3ã€CRUD"><a href="#8-3ã€CRUD" class="headerlink" title="8.3ã€CRUD"></a>8.3ã€CRUD</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨å·¥å…·ç±»åˆ›å»ºçš„æ—¶å€™å®ç°è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession  <span class="title function_">getSqlSession</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sqlSessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™æ¥å£ï¼Œå¢åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUsers</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•å­˜åœ¨å¤šä¸ªå‚æ•°ï¼Œæ‰€æœ‰å‚æ•°å‰é¢åŠ @Param</span></span><br><span class="line"><span class="meta">@Select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span></span><br><span class="line">User <span class="title function_">getUserById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id,<span class="meta">@Param(&quot;name&quot;)</span> String name)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Insert(&quot;insert into user(id,name,pwd) value (#&#123;id&#125;,#&#123;name&#125;,#&#123;password&#125;)&quot;)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">addUser</span><span class="params">(User user)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Update(&quot;update user set name=#&#123;name&#125;,pwd=#&#123;password&#125; where id=#&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">updateUser</span><span class="params">(User user)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Delete(&quot;delete from user where id=#&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteUser</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ç±»</p>
<p>ã€æ³¨æ„ï¼šæˆ‘ä»¬å¿…é¡»è¦è®²æ¥å£æ³¨å†Œç»‘å®šåˆ°æˆ‘ä»¬çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼ã€‘</p>
<p><strong>å…³äº@Param() æ³¨è§£</strong></p>
<ul>
<li>åŸºæœ¬ç±»å‹çš„å‚æ•°æˆ–è€…Stringç±»å‹ï¼Œéœ€è¦åŠ ä¸Š</li>
<li>å¼•ç”¨ç±»å‹ä¸éœ€è¦åŠ </li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„è¯ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä½†æ˜¯å»ºè®®å¤§å®¶éƒ½åŠ ä¸Šï¼</li>
<li>æˆ‘ä»¬åœ¨SQLä¸­å¼•ç”¨çš„å°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„ @Param() ä¸­è®¾å®šçš„å±æ€§åï¼</li>
</ul>
<p><strong>#{}     ${} åŒºåˆ«</strong></p>
<h1 id="9-Lombok"><a href="#9-Lombok" class="headerlink" title="9 Lombok"></a>9 Lombok</h1><p>Project Lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.<br>Never write another getter or equals method again, with one annotation your class has a fully featured builder, Automate your logging variables, and much more.</p>
<ul>
<li>java library</li>
<li>plugs</li>
<li>build tools</li>
<li>with one annotation your class</li>
</ul>
<p>ä½¿ç”¨æ­¥éª¤ï¼š</p>
<ol>
<li>åœ¨IDEAä¸­å®‰è£…Lombokæ’ä»¶ï¼</li>
<li>åœ¨é¡¹ç›®ä¸­å¯¼å…¥lombokçš„jaråŒ…</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>åœ¨å®ä½“ç±»ä¸ŠåŠ æ³¨è§£å³å¯ï¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"> <span class="meta">@Getter</span> and <span class="meta">@Setter</span></span><br><span class="line"> <span class="meta">@FieldNameConstants</span></span><br><span class="line"> <span class="meta">@ToString</span></span><br><span class="line"> <span class="meta">@EqualsAndHashCode</span></span><br><span class="line"> <span class="meta">@AllArgsConstructor</span>, <span class="meta">@RequiredArgsConstructor</span> and <span class="meta">@NoArgsConstructor</span></span><br><span class="line"> <span class="meta">@Log</span>, <span class="meta">@Log4j</span>, <span class="meta">@Log4j2</span>, <span class="meta">@Slf4j</span>, <span class="meta">@XSlf4j</span>, <span class="meta">@CommonsLog</span>, <span class="meta">@JBossLog</span>, <span class="meta">@Flogger</span></span><br><span class="line"> <span class="meta">@Data</span></span><br><span class="line"> <span class="meta">@Builder</span></span><br><span class="line"> <span class="meta">@Singular</span></span><br><span class="line"> <span class="meta">@Delegate</span></span><br><span class="line"> <span class="meta">@Value</span></span><br><span class="line"> <span class="meta">@Accessors</span></span><br><span class="line"> <span class="meta">@Wither</span></span><br><span class="line"> <span class="meta">@SneakyThrows</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span>ï¼šæ— å‚æ„é€ ï¼Œgetã€setã€tostringã€hashcodeï¼Œequals</span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="meta">@Getter</span></span><br></pre></td></tr></table></figure>
<h1 id="10-å¤šå¯¹ä¸€å¤„ç†"><a href="#10-å¤šå¯¹ä¸€å¤„ç†" class="headerlink" title="10 å¤šå¯¹ä¸€å¤„ç†"></a>10 å¤šå¯¹ä¸€å¤„ç†</h1><p>å¤šå¯¹ä¸€ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200706082446229.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDYzNTE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<ul>
<li>å¤šä¸ªå­¦ç”Ÿï¼Œå¯¹åº”ä¸€ä¸ªè€å¸ˆ</li>
<li>å¯¹äºå­¦ç”Ÿè¿™è¾¹è€Œè¨€ï¼Œ  <strong>å…³è”</strong> â€¦  å¤šä¸ªå­¦ç”Ÿï¼Œå…³è”ä¸€ä¸ªè€å¸ˆ  ã€å¤šå¯¹ä¸€ã€‘</li>
<li>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œ <strong>é›†åˆ</strong> ï¼Œ ä¸€ä¸ªè€å¸ˆï¼Œæœ‰å¾ˆå¤šå­¦ç”Ÿ ã€ä¸€å¯¹å¤šã€‘</li>
</ul>
<p><img src="/2022/04/15/Mybatis/untitled.png" alt="untitled"></p>
<p>SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `teacher` (</span><br><span class="line">  `id` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher(`id`, `name`) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;ç§¦è€å¸ˆ&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `id` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `tid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `fktid` (`tid`),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `fktid` <span class="keyword">FOREIGN</span> KEY (`tid`) <span class="keyword">REFERENCES</span> `teacher` (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;å°æ˜&#x27;</span>, <span class="string">&#x27;1&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;å°çº¢&#x27;</span>, <span class="string">&#x27;1&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;å°å¼ &#x27;</span>, <span class="string">&#x27;1&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;å°æ&#x27;</span>, <span class="string">&#x27;1&#x27;</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;å°ç‹&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="10-1-æµ‹è¯•ç¯å¢ƒæ­å»º"><a href="#10-1-æµ‹è¯•ç¯å¢ƒæ­å»º" class="headerlink" title="10.1 æµ‹è¯•ç¯å¢ƒæ­å»º"></a>10.1 æµ‹è¯•ç¯å¢ƒæ­å»º</h2><ol>
<li>å¯¼å…¥lombok</li>
<li>æ–°å»ºå®ä½“ç±» Teacherï¼ŒStudent</li>
<li>å»ºç«‹Mapperæ¥å£</li>
<li>å»ºç«‹Mapper.XMLæ–‡ä»¶</li>
<li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ³¨å†Œæˆ‘ä»¬çš„Mapperæ¥å£æˆ–è€…æ–‡ä»¶ï¼ã€æ–¹å¼å¾ˆå¤šï¼Œéšå¿ƒé€‰ã€‘</li>
<li>æµ‹è¯•æŸ¥è¯¢æ˜¯å¦èƒ½å¤ŸæˆåŠŸï¼</li>
</ol>
<h2 id="10-2-æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†"><a href="#10-2-æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†" class="headerlink" title="10.2 æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†"></a>10.2 æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    æ€è·¯:</span></span><br><span class="line"><span class="comment">        1. æŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="comment">        2. æ ¹æ®æŸ¥è¯¢å‡ºæ¥çš„å­¦ç”Ÿçš„tidï¼Œå¯»æ‰¾å¯¹åº”çš„è€å¸ˆï¼  å­æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudent&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;StudentTeacher&quot;</span>&gt;</span></span><br><span class="line">    select * from student</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;StudentTeacher&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¤æ‚çš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼š association é›†åˆï¼š collection --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;Teacher&quot;</span> <span class="attr">select</span>=<span class="string">&quot;getTeacher&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacher&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Teacher&quot;</span>&gt;</span></span><br><span class="line">    select * from teacher where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="10-2-æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"><a href="#10-2-æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†" class="headerlink" title="10.2 æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"></a>10.2 æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudent2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;StudentTeacher2&quot;</span>&gt;</span></span><br><span class="line">       select s.id sid,s.name sname,t.name tname</span><br><span class="line">       from mybatis.student s, mybatis.teacher t</span><br><span class="line">       where  s.tid = t.id;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;StudentTeacher2&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;Teacher&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å›é¡¾Mysql å¤šå¯¹ä¸€æŸ¥è¯¢æ–¹å¼ï¼š</p>
<ul>
<li>å­æŸ¥è¯¢</li>
<li>è”è¡¨æŸ¥è¯¢</li>
</ul>
<h1 id="11-ä¸€å¯¹å¤šå¤„ç†"><a href="#11-ä¸€å¯¹å¤šå¤„ç†" class="headerlink" title="11 ä¸€å¯¹å¤šå¤„ç†"></a>11 ä¸€å¯¹å¤šå¤„ç†</h1><p>æ¯”å¦‚ï¼šä¸€ä¸ªè€å¸ˆæ‹¥æœ‰å¤šä¸ªå­¦ç”Ÿï¼</p>
<p>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œå°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»!</p>
<h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><ol>
<li>ç¯å¢ƒæ­å»º</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Student&gt; studentList;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> tid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"><a href="#æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†" class="headerlink" title="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†"></a>æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacher&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;TeacherStudent&quot;</span>&gt;</span></span><br><span class="line">        select s.id sid,s.name sname,t.name tname,t.id tid</span><br><span class="line">        from mybatis.student s,mybatis.teacher t</span><br><span class="line">        where s.tid = t.id and t.id = #&#123;tid&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;TeacherStudent&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Teacher&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¤æ‚çš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼š association é›†åˆï¼š collection</span></span><br><span class="line"><span class="comment">javaType=&quot;&quot; æŒ‡å®šå±æ€§çš„ç±»å‹ï¼</span></span><br><span class="line"><span class="comment">é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ofTypeè·å–</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;studentList&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†"><a href="#æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†" class="headerlink" title="æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†"></a>æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacher2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;TeacherStudent2&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatis.teacher where id=#&#123;tid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;TeacherStudent2&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Teacher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;studentList&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;ArrayList&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;Student&quot;</span> <span class="attr">select</span>=<span class="string">&quot;getStudentByTeacherId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentByTeacherId&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatis.student where tid=#&#123;tid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ol>
<li>å…³è” - association   ã€å¤šå¯¹ä¸€ã€‘</li>
<li>é›†åˆ - collection   ã€ä¸€å¯¹å¤šã€‘</li>
<li>javaType    &amp;   ofType<ol>
<li>JavaType  ç”¨æ¥æŒ‡å®šå®ä½“ç±»ä¸­å±æ€§çš„ç±»å‹</li>
<li>ofType  ç”¨æ¥æŒ‡å®šæ˜ å°„åˆ°Listæˆ–è€…é›†åˆä¸­çš„ pojoç±»å‹ï¼Œæ³›å‹ä¸­çš„çº¦æŸç±»å‹ï¼</li>
</ol>
</li>
</ol>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>ä¿è¯SQLçš„å¯è¯»æ€§ï¼Œå°½é‡ä¿è¯é€šä¿—æ˜“æ‡‚</li>
<li>æ³¨æ„ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€ä¸­ï¼Œå±æ€§åå’Œå­—æ®µçš„é—®é¢˜ï¼</li>
<li>å¦‚æœé—®é¢˜ä¸å¥½æ’æŸ¥é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨æ—¥å¿— ï¼Œ å»ºè®®ä½¿ç”¨ Log4j</li>
</ul>
<p><strong>æ…¢SQL       1s        1000s</strong></p>
<p>é¢è¯•é«˜é¢‘</p>
<ul>
<li>Mysqlå¼•æ“</li>
<li>InnoDBåº•å±‚åŸç†</li>
<li>ç´¢å¼•</li>
<li>ç´¢å¼•ä¼˜åŒ–ï¼</li>
</ul>
<h1 id="12-åŠ¨æ€-SQL"><a href="#12-åŠ¨æ€-SQL" class="headerlink" title="12 åŠ¨æ€ SQL"></a>12 åŠ¨æ€ SQL</h1><p><strong>ä»€ä¹ˆæ˜¯åŠ¨æ€SQLï¼šåŠ¨æ€SQLå°±æ˜¯æŒ‡æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒçš„SQLè¯­å¥</strong></p>
<p>åˆ©ç”¨åŠ¨æ€ SQL è¿™ä¸€ç‰¹æ€§å¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">åŠ¨æ€ SQL å…ƒç´ å’Œ JSTL æˆ–åŸºäºç±»ä¼¼ XML çš„æ–‡æœ¬å¤„ç†å™¨ç›¸ä¼¼ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæœ‰å¾ˆå¤šå…ƒç´ éœ€è¦èŠ±æ—¶é—´äº†è§£ã€‚MyBatis 3 å¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨åªéœ€å­¦ä¹ åŸæ¥ä¸€åŠçš„å…ƒç´ ä¾¿å¯ã€‚MyBatis é‡‡ç”¨åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼æ¥æ·˜æ±°å…¶å®ƒå¤§éƒ¨åˆ†å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">if</span><br><span class="line">choose (when, otherwise)</span><br><span class="line">trim (where, set)</span><br><span class="line">foreach</span><br></pre></td></tr></table></figure>
<h2 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `blog` (</span><br><span class="line">  `id` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;åšå®¢id&#x27;</span>,</span><br><span class="line">  `title` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;åšå®¢æ ‡é¢˜&#x27;</span>,</span><br><span class="line">  `author` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;åšå®¢ä½œè€…&#x27;</span>,</span><br><span class="line">  `create_time` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">  `views` <span class="type">int</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æµè§ˆé‡&#x27;</span></span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºä¸€ä¸ªåŸºç¡€å·¥ç¨‹</p>
<ol>
<li>å¯¼åŒ…</li>
<li>ç¼–å†™é…ç½®æ–‡ä»¶</li>
<li>ç¼–å†™å®ä½“ç±»</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Blog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> views;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>ç¼–å†™å®ä½“ç±»å¯¹åº”Mapperæ¥å£ å’Œ Mapper.XMLæ–‡ä»¶</li>
</ol>
<p>IdUtilsï¼ˆUUIDç±»ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IdUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getId</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(IdUtils.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>mapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addBlog&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">    insert into mybatis.blog (id, title, author, create_time, views) VALUES</span><br><span class="line">    (#&#123;id&#125;, #&#123;title&#125;, #&#123;author&#125;, #&#123;createTime&#125;, #&#123;views&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>test</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInitBlog</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> MybatisUtils.getSession();</span><br><span class="line">    <span class="type">BlogMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(BlogMapper.class);</span><br><span class="line">    <span class="type">Blog</span> <span class="variable">blog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Blog</span>();</span><br><span class="line">    blog.setId(IdUtils.getId());</span><br><span class="line">    blog.setTitle(<span class="string">&quot;Mybatis&quot;</span>);</span><br><span class="line">    blog.setAuthor(<span class="string">&quot;ç‹‚ç¥è¯´&quot;</span>);</span><br><span class="line">    blog.setCreateTime(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    blog.setViews(<span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line">    mapper.addBlog(blog);</span><br><span class="line"></span><br><span class="line">    blog.setId(IdUtils.getId());</span><br><span class="line">    blog.setTitle(<span class="string">&quot;Java&quot;</span>);</span><br><span class="line">    mapper.addBlog(blog);</span><br><span class="line"></span><br><span class="line">    blog.setId(IdUtils.getId());</span><br><span class="line">    blog.setTitle(<span class="string">&quot;Spring&quot;</span>);</span><br><span class="line">    mapper.addBlog(blog);</span><br><span class="line"></span><br><span class="line">    blog.setId(IdUtils.getId());</span><br><span class="line">    blog.setTitle(<span class="string">&quot;å¾®æœåŠ¡&quot;</span>);</span><br><span class="line">    mapper.addBlog(blog);</span><br><span class="line"></span><br><span class="line">    session.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogIf&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">        select *</span><br><span class="line">        from mybatis.blog where 1=1</span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">            and title = #&#123;title&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">            and author = #&#123;author&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="choose-when-otherwise"><a href="#choose-when-otherwise" class="headerlink" title="choose (when, otherwise)"></a>choose (when, otherwise)</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogChoose&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatis.blog</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">                title = #&#123;title&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">                and author = #&#123;author&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">                and views = #&#123;views&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="trimï¼ˆwhereï¼Œsetï¼‰"><a href="#trimï¼ˆwhereï¼Œsetï¼‰" class="headerlink" title="trimï¼ˆwhereï¼Œsetï¼‰"></a>trimï¼ˆwhereï¼Œsetï¼‰</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">	and title = #&#123;title&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">	and author = #&#123;author&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateBlog&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">    update mybatis.blog</span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">            title=#&#123;title&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">            author=#&#123;author&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>åŠ¨æ€SQLå°±æ˜¯åœ¨æ‹¼æ¥SQLè¯­å¥ï¼Œæˆ‘ä»¬åªè¦ä¿è¯SQLçš„æ­£ç¡®æ€§ï¼ŒæŒ‰ç…§SQLçš„æ ¼å¼ï¼Œå»æ’åˆ—ç»„åˆå°±å¯ä»¥äº†</strong></p>
<h2 id="SQLç‰‡æ®µ"><a href="#SQLç‰‡æ®µ" class="headerlink" title="SQLç‰‡æ®µ"></a>SQLç‰‡æ®µ</h2><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå°†ä¸€äº›åŠŸèƒ½çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥ï¼Œæ–¹ä¾¿å¤ç”¨ï¼</p>
<p>ä½¿ç”¨SQLæ ‡ç­¾æŠ½å–å…¬å…±éƒ¨åˆ†</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;title-author&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">        and title = #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">        and author = #&#123;author&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹ä½¿ç”¨Includeæ ‡ç­¾å¼•ç”¨å³å¯</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogIf&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">    select *</span><br><span class="line">    from mybatis.blog</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;title-author&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>æœ€å¥½åŸºäºå•æ ‡æ¥å®šä¹‰SQLç‰‡æ®µ</li>
<li>ä¸è¦å­˜åœ¨whereæ ‡ç­¾</li>
</ul>
<h1 id="13-ç¼“å­˜"><a href="#13-ç¼“å­˜" class="headerlink" title="13 ç¼“å­˜"></a>13 ç¼“å­˜</h1><h2 id="13-1-ç®€ä»‹"><a href="#13-1-ç®€ä»‹" class="headerlink" title="13.1 ç®€ä»‹"></a>13.1 ç®€ä»‹</h2><blockquote>
<p>æŸ¥è¯¢   ï¼š  è¿æ¥æ•°æ®åº“ï¼Œè€—èµ„æº</p>
<p>ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœï¼Œç»™ä»–æš‚å­˜ä¸€ä¸ªå¯ä»¥ç›´æ¥å–åˆ°çš„åœ°æ–¹ â€”&gt; å†…å­˜ï¼šç¼“å­˜</p>
<p>æˆ‘ä»¬å†æ¬¡æŸ¥è¯¢çš„ç›¸åŒæ•°æ®çš„æ—¶å€™ï¼Œç›´æ¥èµ°ç¼“å­˜ï¼Œä¸èµ°æ•°æ®åº“äº†</p>
</blockquote>
<ol>
<li>ä»€ä¹ˆæ˜¯ç¼“å­˜[Cache]ï¼Ÿ<ul>
<li>å­˜åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®</li>
<li>å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·å»æŸ¥è¯¢æ•°æ®å°±ä¸ç”¨ä»ç£ç›˜ä¸Šï¼ˆå…³ç³»å‹æ•°æ®åº“æ–‡ä»¶ï¼‰æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³äº†é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿ<ul>
<li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡</li>
</ul>
</li>
<li>ä»€ä¹ˆæ ·çš„æ•°æ®å¯ä»¥ä½¿ç”¨ç¼“å­˜ï¼Ÿ<ul>
<li>ç»å¸¸æŸ¥è¯¢å¹¶ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®    ã€å¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‘</li>
</ul>
</li>
</ol>
<h2 id="13-2-MyBatisç¼“å­˜"><a href="#13-2-MyBatisç¼“å­˜" class="headerlink" title="13.2 MyBatisç¼“å­˜"></a>13.2 MyBatisç¼“å­˜</h2><ul>
<li>MyBatisåŒ…å«ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æŸ¥è¯¢ç¼“å­˜ç‰¹æ€§ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®šåˆ¶å’Œé…ç½®ç¼“å­˜ï¼Œç¼“å­˜å¯ä»¥æå¤§çš„æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</li>
<li>MyBatisç³»ç»Ÿä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ï¼šä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€çº§ç¼“å­˜å¼€å¯ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼‰</li>
<li>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚</li>
<li>ä¸ºäº†æé«˜å¯æ‰©å±•æ€§ï¼ŒMyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥å®šä¹‰äºŒçº§ç¼“å­˜ã€‚</li>
</ul>
</li>
</ul>
<h2 id="13-3-ä¸€çº§ç¼“å­˜"><a href="#13-3-ä¸€çº§ç¼“å­˜" class="headerlink" title="13.3 ä¸€çº§ç¼“å­˜"></a>13.3 ä¸€çº§ç¼“å­˜</h2><ul>
<li>ä¸€çº§ç¼“å­˜ä¹Ÿå«æœ¬åœ°ç¼“å­˜ï¼šSqlSession<ul>
<li>ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­</li>
<li>ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ï¼Œæ²¡å¿…è¦å†å»æŸ¥è¯¢æ•°æ®åº“</li>
</ul>
</li>
</ul>
<p>æµ‹è¯•æ­¥éª¤ï¼š</p>
<ol>
<li>å¼€å¯æ—¥å¿—</li>
<li>æµ‹è¯•åœ¨ä¸€ä¸ªSessionä¸­æŸ¥è¯¢ä¸¤æ¬¡è®°å½•</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> MybatisUtils.getSession();</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(UserMapper.class);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> mapper.queryUserById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> mapper.queryUserById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(user2);</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>æŸ¥çœ‹æ—¥å¿—è¾“å‡º</li>
</ol>
<p><strong>ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š</strong></p>
<ol>
<li>æŸ¥è¯¢ä¸åŒçš„ä¸œè¥¿</li>
<li>å¢åˆ æ”¹æ“ä½œï¼Œå¯èƒ½ä¼šæ”¹å˜åŸæ¥çš„æ•°æ®ï¼Œæ‰€ä»¥å¿…å®šä¼šåˆ·æ–°ç¼“å­˜</li>
<li>æŸ¥è¯¢ä¸åŒçš„Mapper.xml</li>
<li>æ‰‹åŠ¨æ¸…ç†ç¼“å­˜</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sqlSession.clearCache();</span><br></pre></td></tr></table></figure>
<p>å°ç»“ï¼šä¸€çº§ç¼“å­˜æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œåªåœ¨ä¸€æ¬¡SqlSessionä¸­æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ°è¿æ¥åˆ°å…³é—­è¿æ¥è¿™ä¸ªåŒºé—´æ®µ</p>
<h2 id="13-4-äºŒçº§ç¼“å­˜"><a href="#13-4-äºŒçº§ç¼“å­˜" class="headerlink" title="13.4 äºŒçº§ç¼“å­˜"></a>13.4 äºŒçº§ç¼“å­˜</h2><ul>
<li>äºŒçº§ç¼“å­˜ä¹Ÿå«å…¨å±€ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜ä½œç”¨åŸŸå¤ªä½äº†ï¼Œæ‰€ä»¥è¯ç”Ÿäº†äºŒçº§ç¼“å­˜</li>
<li>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼Œä¸€ä¸ªåç§°ç©ºé—´ï¼Œå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜</li>
<li>å·¥ä½œæœºåˆ¶<ul>
<li>ä¸€ä¸ªä¼šè¯æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­</li>
<li>å¦‚æœä¼šè¯å…³é—­äº†ï¼Œè¿™ä¸ªä¼šå‘˜å¯¹åº”çš„ä¸€çº§ç¼“å­˜å°±æ²¡äº†ï¼›ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ˜¯ï¼Œä¼šè¯å…³é—­äº†ï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®è¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­</li>
<li>æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥ä»äºŒçº§ç¼“å­˜ä¸­è·å–å†…å®¹</li>
<li>ä¸åŒçš„mapperæŸ¥è¯¢å‡ºçš„æ•°æ®ä¼šæ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ï¼ˆmapï¼‰ä¸­</li>
</ul>
</li>
</ul>
<p>ä¸€çº§ç¼“å­˜å¼€å¯ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼‰</p>
<ul>
<li>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚</li>
<li>ä¸ºäº†æé«˜å¯æ‰©å±•æ€§ï¼ŒMyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥å®šä¹‰äºŒçº§ç¼“å­˜ã€‚</li>
</ul>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li><p>å¼€å¯å…¨å±€ç¼“å­˜</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ˜¾ç¤ºçš„å¼€å¯å…¨å±€ç¼“å­˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;cacheEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨Mapper.xmlä¸­ä½¿ç”¨ç¼“å­˜</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">cache</span></span></span><br><span class="line"><span class="tag">       <span class="attr">eviction</span>=<span class="string">&quot;FIFO&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">flushInterval</span>=<span class="string">&quot;60000&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">size</span>=<span class="string">&quot;512&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">readOnly</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•</p>
<ol>
<li>é—®é¢˜ï¼šæˆ‘ä»¬éœ€è¦å°†å®ä½“ç±»åºåˆ—åŒ–ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™</li>
</ol>
</li>
</ol>
<p><strong>å°ç»“ï¼š</strong></p>
<ul>
<li>åªè¦å¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œåœ¨åŒä¸€ä¸ªMapperä¸‹å°±æœ‰æ•ˆ</li>
<li>æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šæ”¾åœ¨ä¸€çº§ç¼“å­˜ä¸­</li>
<li>åªæœ‰å½“å‰ä¼šè¯æäº¤ï¼Œæˆ–è€…å…³é—­çš„æ—¶å€™ï¼Œæ‰ä¼šæäº¤åˆ°äºŒçº§ç¼“å­˜ä¸­</li>
</ul>
<h2 id="13-5-ç¼“å­˜åŸç†"><a href="#13-5-ç¼“å­˜åŸç†" class="headerlink" title="13.5 ç¼“å­˜åŸç†"></a>13.5 ç¼“å­˜åŸç†</h2><p><img src="/2022/04/15/Mybatis/untitled-1597755386033.png" alt="untitled"></p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li><p>åªæœ‰æŸ¥è¯¢æ‰æœ‰ç¼“å­˜ï¼Œæ ¹æ®æ•°æ®æ˜¯å¦éœ€è¦ç¼“å­˜ï¼ˆä¿®æ”¹æ˜¯å¦é¢‘ç¹é€‰æ‹©æ˜¯å¦å¼€å¯ï¼‰useCache=â€œtrueâ€</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span> <span class="attr">useCache</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    select * from user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  </span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="13-6-è‡ªå®šä¹‰ç¼“å­˜-ehcache"><a href="#13-6-è‡ªå®šä¹‰ç¼“å­˜-ehcache" class="headerlink" title="13.6 è‡ªå®šä¹‰ç¼“å­˜-ehcache"></a>13.6 è‡ªå®šä¹‰ç¼“å­˜-ehcache</h2><blockquote>
<p>Ehcacheæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¼€æºJavaåˆ†å¸ƒå¼ç¼“å­˜ã€‚ä¸»è¦é¢å‘é€šç”¨ç¼“å­˜</p>
</blockquote>
<ol>
<li><p>å¯¼åŒ…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨mapperä¸­æŒ‡å®šä½¿ç”¨æˆ‘ä»¬çš„ehcacheç¼“å­˜å®ç°</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cache</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç : <a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>Rustcæºç å­¦ä¹ 02-CombinedLintPass</title>
    <url>/2022/09/01/Rustc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A002-CombinedLintPass/</url>
    <content><![CDATA[<h1 id="CombinedLintPass"><a href="#CombinedLintPass" class="headerlink" title="CombinedLintPass"></a>CombinedLintPass</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p><a href="https://github.com/awesome-kusion/rust-code-book/blob/main/rust-tools/lint/lint-pass.md">å‰ä¸€ç¯‡æ–‡ç« </a> ä»‹ç»äº†å…³äº <code>Lint</code> å’Œ <code>LintPass</code> çš„ä¸€äº›æ¦‚å¿µå’Œå®ç°ã€‚åŸºäºè¿™äº›ç»“æ„ï¼Œæä¾›äº†ä¸€ä¸ªç®€æ˜“çš„ <code>Lint</code> æ£€æŸ¥çš„å®ç°æ–¹å¼ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç» <code>CombinedLintPass</code> è¿™ä¸€ç»“æ„çš„å®ç°ï¼Œå¹¶åŸºäº <code>CombinedLintPass</code> è¿›ä¸€æ­¥ä¼˜åŒ– <code>Lint</code> çš„å®ç°ã€‚</p>
<span id="more"></span>
<h2 id="CombinedLintpass"><a href="#CombinedLintpass" class="headerlink" title="CombinedLintpass"></a>CombinedLintpass</h2><p>Rustc åœ¨ <code>LintPass</code> çš„ä¸­å®ç°äº† <code>Lint</code> å·¥å…·æ£€æŸ¥çš„å…·ä½“é€»è¾‘ã€‚å¹¶ä¸”ä½¿ç”¨ Visitor æ¨¡å¼éå† AST çš„åŒæ—¶è°ƒç”¨ lintpass ä¸­çš„ <code>check_*</code>æ–¹æ³•ã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">ast_visit</span>::Visitor <span class="keyword">for</span> <span class="title class_">Linter</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">visit_crate</span>(a: ast:<span class="keyword">crate</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">lintpass</span> <span class="keyword">in</span> lintpasses&#123;</span><br><span class="line">            lintpass.<span class="title function_ invoke__">check_crate</span>(a)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_ invoke__">walk_crate</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">visit_stmt</span>(a: ast:stmt)&#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="variable">lintpass</span> <span class="keyword">in</span> lintpasses&#123;</span><br><span class="line">            lintpass.<span class="title function_ invoke__">check_stmt</span>(a)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_ invoke__">walk_stmt</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼ŒRustc è‡ªèº«å’Œ clippy æä¾›çš„ Lint å®šä¹‰å¤šè¾¾550+å¤šä¸ªã€‚è€ƒè™‘åˆ°æ€§èƒ½å› ç´ ï¼Œå®šä¹‰å¤§é‡çš„ LintPassï¼Œåˆ†åˆ«æ³¨å†Œå’Œè°ƒç”¨æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ã€‚Rustc æä¾›äº†ä¸€ç§æ›´ä¼˜çš„è§£å†³æ–¹æ³•ï¼šæ—¢ç„¶å¯ä»¥å°†å¤šä¸ª Lint ç»„ç»‡ä¸ºä¸€ä¸ª LintPassï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å°†å¤šä¸ª LintPass ç»„åˆæˆä¸€ä¸ª CombinedLintPassã€‚</p>
<blockquote>
<p><a href="https://rustc-dev-guide.rust-lang.org/diagnostics/lintstore.html#compiler-lint-passes-are-combined-into-one-pass">Compiler lint passes are combined into one pass</a><br>Within the compiler, for performance reasons, we usually do not register dozens of lint passes. Instead, we have a single lint pass of each variety (e.g., BuiltinCombinedModuleLateLintPass) which will internally call all of the individual lint passes; this is because then we get the benefits of static over dynamic dispatch for each of the (often empty) trait methods.<br>Ideally, weâ€™d not have to do this, since it adds to the complexity of understanding the code. However, with the current type-erased lint store approach, it is beneficial to do so for performance reasons.</p>
</blockquote>
<h3 id="BuiltinCombinedEarlyLintPass"><a href="#BuiltinCombinedEarlyLintPass" class="headerlink" title="BuiltinCombinedEarlyLintPass"></a>BuiltinCombinedEarlyLintPass</h3><p>CombinedLintPass åŒæ ·åˆ†ä¸º early å’Œ late ä¸¤ç±»ã€‚ ä»¥ builtin çš„ early lint ä¸ºä¾‹ï¼ŒRustc åœ¨ <code>rustc_lint::src::lib.rs</code> ä¸­ä¸ºè¿™äº› lintpass å®šä¹‰äº†ä¸€ä¸ª <code>BuiltinCombinedEarlyLintPass</code> ç»“æ„ã€‚</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">early_lint_passes!(declare_combined_early_pass, [BuiltinCombinedEarlyLintPass]);</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶è¿™ä¸ªå®šä¹‰çœ‹èµ·æ¥åªæœ‰ä¸€è¡Œï¼Œä½†å…¶ä¸­é€šè¿‡è‹¥å¹²ä¸ªå®çš„å±•å¼€ï¼Œæ±‡æ€»äº†14ä¸ª <code>LintPass</code>ï¼Œå¹¶ä¸”æ¯ä¸ª <code>LintPass</code> æä¾›äº†50å¤šä¸ª <code>check_*</code> æ–¹æ³•ã€‚æ¥ä¸‹æ¥ä¸€ä¸€è¯´æ˜è¿™äº›å®ã€‚</p>
<h4 id="BuiltinCombinedEarlyLintPass-çš„å®å®šä¹‰"><a href="#BuiltinCombinedEarlyLintPass-çš„å®å®šä¹‰" class="headerlink" title="BuiltinCombinedEarlyLintPass çš„å®å®šä¹‰"></a>BuiltinCombinedEarlyLintPass çš„å®å®šä¹‰</h4><h5 id="early-lint-passes"><a href="#early-lint-passes" class="headerlink" title="early_lint_passes"></a>early_lint_passes</h5><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> early_lint_passes &#123;</span><br><span class="line">    ($<span class="keyword">macro</span>:path, $args:tt) =&gt; &#123;</span><br><span class="line">        $macro!(</span><br><span class="line">            $args,</span><br><span class="line">            [</span><br><span class="line">                UnusedParens: UnusedParens,</span><br><span class="line">                UnusedBraces: UnusedBraces,</span><br><span class="line">                UnusedImportBraces: UnusedImportBraces,</span><br><span class="line">                UnsafeCode: UnsafeCode,</span><br><span class="line">                AnonymousParameters: AnonymousParameters,</span><br><span class="line">                EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::<span class="title function_ invoke__">default</span>(),</span><br><span class="line">                NonCamelCaseTypes: NonCamelCaseTypes,</span><br><span class="line">                DeprecatedAttr: DeprecatedAttr::<span class="title function_ invoke__">new</span>(),</span><br><span class="line">                WhileTrue: WhileTrue,</span><br><span class="line">                NonAsciiIdents: NonAsciiIdents,</span><br><span class="line">                HiddenUnicodeCodepoints: HiddenUnicodeCodepoints,</span><br><span class="line">                IncompleteFeatures: IncompleteFeatures,</span><br><span class="line">                RedundantSemicolons: RedundantSemicolons,</span><br><span class="line">                UnusedDocComment: UnusedDocComment,</span><br><span class="line">            ]</span><br><span class="line">        );</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆæ˜¯ early_lint_passes å®ï¼Œè¿™ä¸ªå®çš„ä¸»è¦ä½œç”¨æ˜¯å®šä¹‰äº†æ‰€æœ‰çš„ early lintpassã€‚è¿™é‡Œçš„ lintpass æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œ<code>:</code>å·¦è¾¹ä¸º lintpass çš„ Identifierï¼Œ<code>:</code>å³è¾¹ä¸º lintpass çš„constructorã€‚æ‰€ä»¥ä¼šå‡ºç° <code>EllipsisInclusiveRangePatterns::default()</code> å’Œ <code>DeprecatedAttr::new()</code>è¿™ç§å½¢å¼ã€‚early_lint_passes ä¼šå°†å®šä¹‰çš„ early lintpass å’Œ ç¬¬äºŒä¸ªå‚æ•°ä¸€èµ·ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå®ã€‚<br>é€šè¿‡è¿™ä¸ªå®ï¼Œä¹‹å‰çš„<code>BuiltinCombinedEarlyLintPass</code>çš„å®šä¹‰è¢«å±•å¼€ä¸ºï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">declare_combined_early_pass!([BuiltinCombinedEarlyLintPass], [</span><br><span class="line">                UnusedParens: UnusedParens,</span><br><span class="line">                UnusedBraces: UnusedBraces,</span><br><span class="line">                UnusedImportBraces: UnusedImportBraces,</span><br><span class="line">                UnsafeCode: UnsafeCode,</span><br><span class="line">                AnonymousParameters: AnonymousParameters,</span><br><span class="line">                EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::<span class="title function_ invoke__">default</span>(),</span><br><span class="line">                NonCamelCaseTypes: NonCamelCaseTypes,</span><br><span class="line">                DeprecatedAttr: DeprecatedAttr::<span class="title function_ invoke__">new</span>(),</span><br><span class="line">                WhileTrue: WhileTrue,</span><br><span class="line">                NonAsciiIdents: NonAsciiIdents,</span><br><span class="line">                HiddenUnicodeCodepoints: HiddenUnicodeCodepoints,</span><br><span class="line">                IncompleteFeatures: IncompleteFeatures,</span><br><span class="line">                RedundantSemicolons: RedundantSemicolons,</span><br><span class="line">                UnusedDocComment: UnusedDocComment,</span><br><span class="line">            ])</span><br></pre></td></tr></table></figure>
<h5 id="declare-combined-early-pass"><a href="#declare-combined-early-pass" class="headerlink" title="declare_combined_early_pass"></a>declare_combined_early_pass</h5><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> declare_combined_early_pass &#123;</span><br><span class="line">    ([$name:ident], $passes:tt) =&gt; (</span><br><span class="line">        early_lint_methods!(declare_combined_early_lint_pass, [<span class="keyword">pub</span> $name, $passes]);</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>declare_combined_early_pass å®æ¥æ”¶ early_lint_passeså®ä¼ æ¥çš„ name(BuiltinCombinedEarlyLintPass) å’Œ passesï¼Œå¹¶ç»§ç»­ä¼ é€’ç»™ early_lint_methods å®ã€‚<br>é€šè¿‡è¿™ä¸ªå®ï¼Œ<code>BuiltinCombinedEarlyLintPass</code>çš„å®šä¹‰ç»§ç»­å±•å¼€ä¸ºï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">early_lint_methods!(declare_combined_early_lint_pass, </span><br><span class="line">                    [<span class="keyword">pub</span> BuiltinCombinedEarlyLintPass, </span><br><span class="line">                      [</span><br><span class="line">                            UnusedParens: UnusedParens,</span><br><span class="line">                            UnusedBraces: UnusedBraces,</span><br><span class="line">                            UnusedImportBraces: UnusedImportBraces,</span><br><span class="line">                            UnsafeCode: UnsafeCode,</span><br><span class="line">                            AnonymousParameters: AnonymousParameters,</span><br><span class="line">                            EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::<span class="title function_ invoke__">default</span>(),</span><br><span class="line">                            NonCamelCaseTypes: NonCamelCaseTypes,</span><br><span class="line">                            DeprecatedAttr: DeprecatedAttr::<span class="title function_ invoke__">new</span>(),</span><br><span class="line">                            WhileTrue: WhileTrue,</span><br><span class="line">                            NonAsciiIdents: NonAsciiIdents,</span><br><span class="line">                            HiddenUnicodeCodepoints: HiddenUnicodeCodepoints,</span><br><span class="line">                            IncompleteFeatures: IncompleteFeatures,</span><br><span class="line">                            RedundantSemicolons: RedundantSemicolons,</span><br><span class="line">                            UnusedDocComment: UnusedDocComment,</span><br><span class="line">               ]</span><br><span class="line">                    ]);</span><br></pre></td></tr></table></figure>
<h5 id="early-lint-methods"><a href="#early-lint-methods" class="headerlink" title="early_lint_methods"></a>early_lint_methods</h5><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> early_lint_methods &#123;</span><br><span class="line">    ($<span class="keyword">macro</span>:path, $args:tt) =&gt; (</span><br><span class="line">        $macro!($args, [</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_param</span>(a: &amp;ast::Param);</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_ident</span>(a: &amp;ast::Ident);</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_crate</span>(a: &amp;ast::Crate);</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">check_crate_post</span>(a: &amp;ast::Crate);</span><br><span class="line">            ...</span><br><span class="line">        ]);</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>early<em>lint_methods å®åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­ä¹Ÿä»‹ç»è¿‡ï¼Œå®ƒå®šä¹‰äº† <code>EarlyLintPass</code> ä¸­éœ€è¦å®ç°çš„ `check</em>*<code>å‡½æ•°ï¼Œå¹¶ä¸”å°†è¿™äº›å‡½æ•°ä»¥åŠæ¥æ”¶çš„å‚æ•°</code>$args<code>ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå®ã€‚å› ä¸º</code>BuiltinCombinedEarlyLintPass<code>ä¹Ÿæ˜¯ early lint çš„ä¸€ç§ï¼Œæ‰€ä»¥åŒæ ·éœ€è¦å®ç°è¿™äº›å‡½æ•°ã€‚
é€šè¿‡è¿™ä¸ªå®ï¼Œ</code>BuiltinCombinedEarlyLintPass`çš„å®šä¹‰ç»§ç»­å±•å¼€ä¸ºï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">declare_combined_early_lint_pass!(</span><br><span class="line">    [<span class="keyword">pub</span> BuiltinCombinedEarlyLintPass, </span><br><span class="line">        [</span><br><span class="line">            UnusedParens: UnusedParens,</span><br><span class="line">            UnusedBraces: UnusedBraces,</span><br><span class="line">            UnusedImportBraces: UnusedImportBraces,</span><br><span class="line">            UnsafeCode: UnsafeCode,</span><br><span class="line">            AnonymousParameters: AnonymousParameters,</span><br><span class="line">            EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::<span class="title function_ invoke__">default</span>(),</span><br><span class="line">            NonCamelCaseTypes: NonCamelCaseTypes,</span><br><span class="line">            DeprecatedAttr: DeprecatedAttr::<span class="title function_ invoke__">new</span>(),</span><br><span class="line">            WhileTrue: WhileTrue,</span><br><span class="line">            NonAsciiIdents: NonAsciiIdents,</span><br><span class="line">            HiddenUnicodeCodepoints: HiddenUnicodeCodepoints,</span><br><span class="line">            IncompleteFeatures: IncompleteFeatures,</span><br><span class="line">            RedundantSemicolons: RedundantSemicolons,</span><br><span class="line">            UnusedDocComment: UnusedDocComment,</span><br><span class="line">        ]</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">check_param</span>(a: &amp;ast::Param);</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">check_ident</span>(a: &amp;ast::Ident);</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">check_crate</span>(a: &amp;ast::Crate);</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">check_crate_post</span>(a: &amp;ast::Crate);</span><br><span class="line">        ...</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h5 id="declare-combined-early-lint-pass"><a href="#declare-combined-early-lint-pass" class="headerlink" title="declare_combined_early_lint_pass"></a>declare_combined_early_lint_pass</h5><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> declare_combined_early_lint_pass &#123;</span><br><span class="line">    ([$v:vis $name:ident, [$($passes:ident: $constructor:expr,)*]], $methods:tt) =&gt; (</span><br><span class="line">        <span class="meta">#[allow(non_snake_case)]</span></span><br><span class="line">        $v <span class="keyword">struct</span> $name &#123;</span><br><span class="line">            $($passes: $passes,)*</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">impl</span> $name &#123;</span><br><span class="line">            $v <span class="keyword">fn</span> <span class="title function_">new</span>() <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">                <span class="keyword">Self</span> &#123;</span><br><span class="line">                    $($passes: $constructor,)*</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            $v <span class="keyword">fn</span> <span class="title function_">get_lints</span>() <span class="punctuation">-&gt;</span> LintArray &#123;</span><br><span class="line">                <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">lints</span> = Vec::<span class="title function_ invoke__">new</span>();</span><br><span class="line">                $(lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;$passes::<span class="title function_ invoke__">get_lints</span>());)*</span><br><span class="line">                lints</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">impl</span> <span class="title class_">EarlyLintPass</span> <span class="keyword">for</span> $name &#123;</span><br><span class="line">            expand_combined_early_lint_pass_methods!([$($passes),*], $methods);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#[allow(rustc::lint_pass_impl_without_macro)]</span></span><br><span class="line">        <span class="keyword">impl</span> <span class="title class_">LintPass</span> <span class="keyword">for</span> $name &#123;</span><br><span class="line">            <span class="keyword">fn</span> <span class="title function_">name</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span> &#123;</span><br><span class="line">                <span class="built_in">panic!</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>declare_combined_early_lint_passå®æ˜¯ç”Ÿæˆ <code>BuiltinCombinedEarlyLintPass</code> çš„ä¸»ä½“ã€‚è¿™ä¸ªå®ä¸­åšäº†ä»¥ä¸‹å·¥ä½œï¼š</p>
<ul>
<li>ç”Ÿæˆä¸€ä¸ªåä¸º <code>BuiltinCombinedEarlyLintPass</code> çš„ structï¼Œå…¶ä¸­çš„å±æ€§ä¸ºå® <code>early_lint_passes</code> æä¾›çš„ lintpass çš„ identifierã€‚</li>
<li>å®ç° <code>fn new()</code> <code>fn name()</code> å’Œ <code>fn get_lints()</code> æ–¹æ³•ã€‚å…¶ä¸­ <code>new()</code> è°ƒç”¨äº† <code>early_lint_passes</code> æä¾›çš„ lintpass çš„ constructorã€‚</li>
<li>è°ƒç”¨å® <code>expand_combined_early_lint_pass_methods</code>ï¼Œå®ç°è‡ªèº«çš„ <code>check_*</code> æ–¹æ³•ã€‚</li>
</ul>
<p>é€šè¿‡è¿™ä¸ªå®ï¼Œ<code>BuiltinCombinedEarlyLintPass</code>çš„å®šä¹‰å˜ä¸ºï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">            UnusedParens: UnusedParens,</span><br><span class="line">            UnusedBraces: UnusedBraces,</span><br><span class="line">            UnusedImportBraces: UnusedImportBraces,</span><br><span class="line">            UnsafeCode: UnsafeCode,</span><br><span class="line">            AnonymousParameters: AnonymousParameters,</span><br><span class="line">            EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns,</span><br><span class="line">            NonCamelCaseTypes: NonCamelCaseTypes,</span><br><span class="line">            DeprecatedAttr: DeprecatedAttr,</span><br><span class="line">            WhileTrue: WhileTrue,</span><br><span class="line">            NonAsciiIdents: NonAsciiIdents,</span><br><span class="line">            HiddenUnicodeCodepoints: HiddenUnicodeCodepoints,</span><br><span class="line">            IncompleteFeatures: IncompleteFeatures,</span><br><span class="line">            RedundantSemicolons: RedundantSemicolons,</span><br><span class="line">            UnusedDocComment: UnusedDocComment,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">new</span>() <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">Self</span> &#123;</span><br><span class="line">            UnusedParens: UnusedParens,</span><br><span class="line">            UnusedBraces: UnusedBraces,</span><br><span class="line">            UnusedImportBraces: UnusedImportBraces,</span><br><span class="line">            UnsafeCode: UnsafeCode,</span><br><span class="line">            AnonymousParameters: AnonymousParameters,</span><br><span class="line">            EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::<span class="title function_ invoke__">default</span>(),</span><br><span class="line">            NonCamelCaseTypes: NonCamelCaseTypes,</span><br><span class="line">            DeprecatedAttr: DeprecatedAttr::<span class="title function_ invoke__">new</span>(),</span><br><span class="line">            WhileTrue: WhileTrue,</span><br><span class="line">            NonAsciiIdents: NonAsciiIdents,</span><br><span class="line">            HiddenUnicodeCodepoints: HiddenUnicodeCodepoints,</span><br><span class="line">            IncompleteFeatures: IncompleteFeatures,</span><br><span class="line">            RedundantSemicolons: RedundantSemicolons,</span><br><span class="line">            UnusedDocComment: UnusedDocComment,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">get_lints</span>() <span class="punctuation">-&gt;</span> LintArray &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">lints</span> = Vec::<span class="title function_ invoke__">new</span>();</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnusedParens::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnusedBraces::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnusedImportBraces::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnsafeCode::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;AnonymousParameters::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;EllipsisInclusiveRangePatterns::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;NonCamelCaseTypes::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;DeprecatedAttr::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;WhileTrue::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;NonAsciiIdents::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;HiddenUnicodeCodepoints::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;IncompleteFeatures::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;RedundantSemicolons::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnusedDocComment::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        </span><br><span class="line">        lints</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">EarlyLintPass</span> <span class="keyword">for</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    expand_combined_early_lint_pass_methods!([$($passes),*], $methods);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#[allow(rustc::lint_pass_impl_without_macro)]</span></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">LintPass</span> <span class="keyword">for</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">name</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span> &#123;</span><br><span class="line">        <span class="built_in">panic!</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="expand-combined-early-lint-pass-methods"><a href="#expand-combined-early-lint-pass-methods" class="headerlink" title="expand_combined_early_lint_pass_methods"></a>expand_combined_early_lint_pass_methods</h5><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> expand_combined_early_lint_pass_methods &#123;</span><br><span class="line">    ($passes:tt, [$($(<span class="meta">#[$attr:meta]</span>)* <span class="keyword">fn</span> $name:<span class="title function_ invoke__">ident</span>($($param:ident: $arg:ty),*);)*]) =&gt; (</span><br><span class="line">        $(<span class="keyword">fn</span> $<span class="title function_ invoke__">name</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, $($param: $arg),*) &#123;</span><br><span class="line">            expand_combined_early_lint_pass_method!($passes, <span class="keyword">self</span>, $name, (context, $($param),*));</span><br><span class="line">        &#125;)*</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>expand_combined_early_lint_pass_methodså®åœ¨ <code>BuiltinCombinedEarlyLintPass</code> ä¸­å±•å¼€æ‰€æœ‰ <code>early_lint_methods</code> ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚<br>é€šè¿‡è¿™ä¸ªå®ï¼Œ<code>BuiltinCombinedEarlyLintPass</code>çš„å®šä¹‰å˜ä¸ºï¼ˆçœç•¥å…¶ä»–å®šä¹‰ï¼‰ï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">EarlyLintPass</span> <span class="keyword">for</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_param</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Param) &#123;</span><br><span class="line">        expand_combined_early_lint_pass_method!($passes, <span class="keyword">self</span>, $name, (context, $($param),*));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_ident</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Ident) &#123;</span><br><span class="line">        expand_combined_early_lint_pass_method!($passes, <span class="keyword">self</span>, $name, (context, $($param),*));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_crate</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Crate) &#123;</span><br><span class="line">        expand_combined_early_lint_pass_method!($passes, <span class="keyword">self</span>, $name, (context, $($param),*));</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="expand-combined-early-lint-pass-method"><a href="#expand-combined-early-lint-pass-method" class="headerlink" title="expand_combined_early_lint_pass_method"></a>expand_combined_early_lint_pass_method</h5><figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">macro_rules!</span> expand_combined_early_lint_pass_method &#123;</span><br><span class="line">    ([$($passes:ident),*], $<span class="keyword">self</span>: ident, $name: ident, $params:tt) =&gt; (&#123;</span><br><span class="line">        $($<span class="keyword">self</span>.$passes.$name $params;)*</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>expand<em>combined_early_lint_pass_methodï¼šåœ¨å±•å¼€çš„`check</em><em><code>å‡½æ•°ä¸­è°ƒç”¨æ¯ä¸€ä¸ª</code>LintPass<code>çš„</code>check_</em><code>ã€‚
é€šè¿‡è¿™ä¸ªå®ï¼Œ</code>BuiltinCombinedEarlyLintPass`çš„å®šä¹‰å˜ä¸ºï¼ˆçœç•¥å…¶ä»–å®šä¹‰ï¼‰ï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">EarlyLintPass</span> <span class="keyword">for</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_param</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Param) &#123;</span><br><span class="line">        <span class="keyword">self</span>.UnusedParens.<span class="title function_ invoke__">check_param</span>(context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedBraces.<span class="title function_ invoke__">check_param</span>(context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedImportBraces.<span class="title function_ invoke__">check_param</span>(context, a);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_ident</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Ident) &#123;</span><br><span class="line">        <span class="keyword">self</span>.UnusedParens.<span class="title function_ invoke__">check_ident</span>(context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedBraces.<span class="title function_ invoke__">check_ident</span>(context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedImportBraces.<span class="title function_ invoke__">check_ident</span>(context, a);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_crate</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Crate) &#123;</span><br><span class="line">        <span class="keyword">self</span>.UnusedParens.<span class="title function_ invoke__">check_crate</span>(context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedBraces.<span class="title function_ invoke__">check_crate</span>(context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedImportBraces.<span class="title function_ invoke__">check_crate</span>(context, a);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="BuiltinCombinedEarlyLintPass-çš„æœ€ç»ˆå®šä¹‰"><a href="#BuiltinCombinedEarlyLintPass-çš„æœ€ç»ˆå®šä¹‰" class="headerlink" title="BuiltinCombinedEarlyLintPass çš„æœ€ç»ˆå®šä¹‰"></a>BuiltinCombinedEarlyLintPass çš„æœ€ç»ˆå®šä¹‰</h4><p>é€šè¿‡ä»¥ä¸Šå®çš„å±•å¼€ï¼Œ<code>BuiltinCombinedEarlyLintPass</code>çš„å®šä¹‰å®é™…ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    UnusedParens: UnusedParens,</span><br><span class="line">    UnusedBraces: UnusedBraces,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span>&#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">new</span>() <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        UnusedParens: UnusedParens,</span><br><span class="line">        UnusedBraces: UnusedBraces,</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">get_lints</span>() <span class="punctuation">-&gt;</span> LintArray &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">lints</span> = Vec::<span class="title function_ invoke__">new</span>();</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnusedParens::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        lints.<span class="title function_ invoke__">extend_from_slice</span>(&amp;UnusedBraces::<span class="title function_ invoke__">get_lints</span>());</span><br><span class="line">        ...</span><br><span class="line">        lints</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">EarlyLintPass</span> <span class="keyword">for</span> <span class="title class_">BuiltinCombinedEarlyLintPass</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_crates</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: &amp;ast::Crate)&#123;</span><br><span class="line">        <span class="keyword">self</span>.UnusedParens.<span class="title function_ invoke__">check_crates</span> (context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedBraces.<span class="title function_ invoke__">check_crates</span> (context, a);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">check_ident</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, context: &amp;EarlyContext&lt;<span class="symbol">&#x27;_</span>&gt;, a: Ident)&#123;</span><br><span class="line">        <span class="keyword">self</span>.UnusedParens.<span class="title function_ invoke__">check_ident</span> (context, a);</span><br><span class="line">        <span class="keyword">self</span>.UnusedBraces.<span class="title function_ invoke__">check_ident</span> (context, a);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    .. </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è¿™ä¸ªå®šä¹‰ï¼Œå¯ä»¥åœ¨éå† AST æ—¶ä½¿ç”¨ <code>BuiltinCombinedEarlyLintPass</code> çš„ <code>check_*</code> æ–¹æ³•å®ç°å¤šä¸ª lintpass çš„æ£€æŸ¥ã€‚</p>
<h2 id="Lint-çš„è¿›ä¸€æ­¥ä¼˜åŒ–"><a href="#Lint-çš„è¿›ä¸€æ­¥ä¼˜åŒ–" class="headerlink" title="Lint çš„è¿›ä¸€æ­¥ä¼˜åŒ–"></a>Lint çš„è¿›ä¸€æ­¥ä¼˜åŒ–</h2><p>åŸºäº CombinedLintPass ï¼Œå¯ä»¥å¯¹ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æå‡ºçš„ Linter çš„è®¾è®¡åšè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚<br><img src="/2022/09/01/Rustc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A002-CombinedLintPass/combinedlintpass-01.jpg" alt="Linter"></p>
<p>è¿™é‡Œï¼Œå¯ä»¥ç”¨ CombinedLintPass çš„<code>check_*</code> æ–¹æ³•ï¼Œåœ¨ Visitor éå† AST æ—¶æ‰§è¡Œå¯¹åº”çš„æ£€æŸ¥ã€‚è™½ç„¶æ•ˆæœä¸ä¹‹å‰ä¸€è‡´ï¼Œä½†å› ä¸ºå®çš„å…³ç³»ï¼Œæ‰€æœ‰çš„ <code>check_*</code> æ–¹æ³•å’Œéœ€è¦æ‰§è¡Œçš„ lintpass éƒ½è¢«æ”¶é›†åˆ°äº†ä¸€ä¸ªç»“æ„ä¸­ï¼Œä¹Ÿæ›´å®¹æ˜“ç®¡ç†ã€‚åŒæ ·çš„ï¼Œå› ä¸º CombinedLintPass å®é™…ä¸Šè°ƒç”¨çš„æ˜¯æ¯ä¸ª lintpass å„è‡ªçš„ check æ–¹æ³•ï¼Œè™½ç„¶è°ƒç”¨èµ·æ¥å¯èƒ½ä¸‹å›¾ä¸€æ ·å¾ˆå¤æ‚ï¼Œä½†å› ä¸º lintpass ä¸­å®šä¹‰çš„ check æ–¹æ³•å¤§éƒ¨åˆ†æ˜¯ç”±å®ç”Ÿæˆçš„ç©ºæ£€æŸ¥ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šé€ æˆæ€§èƒ½ä¸Šçš„æŸå¤±ã€‚<br><img src="/2022/09/01/Rustc%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A002-CombinedLintPass/combinedlintpass-02.jpg" alt="è°ƒç”¨å…³ç³»"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡ç®€å•ä»‹ç»äº† Rustc æºç ä¸­å…³äº <code>CombinedLintPass</code> è¿™ä¸€ç»“æ„çš„å®šä¹‰å’Œå®ç° ï¼Œå¹¶ä»¥æ­¤è¿›ä¸€æ­¥ä¼˜åŒ– Linter çš„è®¾è®¡ã€‚å¸Œæœ›èƒ½å¤Ÿå¯¹ç†è§£ Rustc åŠ Lint æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚åç»­çš„æ–‡ç« å°†ç»§ç»­ä»‹ç» Rustc ä¸­ Lint åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„æ³¨å†Œå’Œæ‰§è¡Œè¿‡ç¨‹ï¼ŒæœŸå¾…ç»§ç»­å…³æ³¨ã€‚</p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ul>
<li>KusionStack: <a href="https://github.com/KusionStack">https://github.com/KusionStack</a></li>
<li>Rustc: <a href="https://github.com/rust-lang/rust">https://github.com/rust-lang/rust</a></li>
<li>rustc-dev-guide: <a href="https://rustc-dev-guide.rust-lang.org/">https://rustc-dev-guide.rust-lang.org/</a></li>
<li>Rust Visitor: <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc_ast/visit/index.html">https://doc.rust-lang.org/nightly/nightly-rustc/rustc_ast/visit/index.html</a></li>
<li>Rust Clippy: <a href="https://github.com/rust-lang/rust-clippy">https://github.com/rust-lang/rust-clippy</a></li>
</ul>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
        <tag>Rustæºç å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>JDBC MySQLç¬”è®°</title>
    <url>/2022/04/15/MySQL/</url>
    <content><![CDATA[<h1 id="1-åˆè¯†MySQL"><a href="#1-åˆè¯†MySQL" class="headerlink" title="1.åˆè¯†MySQL"></a>1.åˆè¯†MySQL</h1><p>JavaEE:ä¼ä¸šçº§Javaå¼€å‘ web</p>
<p>å‰ç«¯ï¼ˆé¡µé¢ï¼šå±•ç¤ºæ•°æ®ï¼‰</p>
<p>åå°ï¼ˆè¿æ¥ç‚¹ï¼šè¿æ¥æ•°æ®åº“JDBCï¼Œé“¾æ¥å‰ç«¯ï¼ˆæ§åˆ¶ï¼Œæ§åˆ¶è¯•å›¾è·³è½¬ï¼Œç»™å‰ç«¯ä¼ é€’æ•°æ®ï¼‰ï¼‰</p>
<p>æ•°æ®åº“ï¼ˆå­˜æ•°æ®ï¼ŒTxtï¼ŒExcelï¼Œwordï¼‰</p>
<span id="more"></span>
<h2 id="1-1ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“"><a href="#1-1ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“" class="headerlink" title="1.1ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“"></a>1.1ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“</h2><ol>
<li>å²—ä½éœ€æ±‚</li>
<li>å¤§æ•°æ®æ—¶ä»£ï¼Œå¾—æ•°æ®è€…çš„å¤©ä¸‹</li>
<li>è¢«è¿«éœ€æ±‚ï¼šå­˜æ•°æ®</li>
<li>==<strong>æ•°æ®åº“æ˜¯æ‰€æœ‰è½¯ä»¶ä½“ç³»ä¸­æœ€æ ¸å¿ƒçš„å­˜åœ¨</strong>==</li>
</ol>
<h2 id="1-2ä»€ä¹ˆæ˜¯æ•°æ®åº“"><a href="#1-2ä»€ä¹ˆæ˜¯æ•°æ®åº“" class="headerlink" title="1.2ä»€ä¹ˆæ˜¯æ•°æ®åº“"></a>1.2ä»€ä¹ˆæ˜¯æ•°æ®åº“</h2><p>æ•°æ®åº“ï¼ˆDB,DataBaseï¼‰</p>
<p>æ¦‚å¿µï¼šæ•°æ®ä»“åº“ï¼Œè½¯ä»¶ï¼Œå®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¸Šï¼ŒSQL,å¯å­˜å‚¨å¤§é‡çš„æ•°æ®ã€‚500ä¸‡ï¼</p>
<p>ä½œç”¨ï¼šå­˜å‚¨æ•°æ®ï¼Œç®¡ç†æ•°æ®</p>
<h2 id="1-3-æ•°æ®åº“åˆ†ç±»"><a href="#1-3-æ•°æ®åº“åˆ†ç±»" class="headerlink" title="1.3 æ•°æ®åº“åˆ†ç±»"></a>1.3 æ•°æ®åº“åˆ†ç±»</h2><p>å…³ç³»å‹æ•°æ®åº“ï¼š</p>
<ul>
<li>MySQLï¼ŒOracleï¼ŒSql Serverï¼ŒDB2ï¼ŒSQLlite</li>
<li>é€šè¿‡è¡¨å’Œè¡¨ä¹‹é—´ï¼Œè¡Œå’Œåˆ—ä¹‹é—´çš„å…³ç³»è¿›è¡Œæ•°æ®çš„å­˜å‚¨</li>
</ul>
<p>éå…³ç³»å‹æ•°æ®åº“ï¼šï¼ˆNoQLï¼‰ Not Only</p>
<ul>
<li>Redisï¼ŒMongDB</li>
<li>éå…³ç³»å‹æ•°æ®åº“ï¼Œå¯¹è±¡å­˜å‚¨ï¼Œé€šè¿‡å¯¹è±¡çš„è‡ªèº«å±æ€§æ¥å†³å®š</li>
</ul>
<p>==DBMSï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰==</p>
<ul>
<li>æ•°æ®åº“çš„ç®¡ç†è½¯ä»¶ï¼Œç§‘å­¦æœ‰æ•ˆçš„ç®¡ç†æ•°æ®ï¼Œç»´æŠ¤å’Œè·å–æ•°æ®</li>
<li>MySQLï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</li>
</ul>
<h2 id="1-4-MySQLç®€ä»‹"><a href="#1-4-MySQLç®€ä»‹" class="headerlink" title="1.4 MySQLç®€ä»‹"></a>1.4 MySQLç®€ä»‹</h2><p>MySQLæ˜¯ä¸€ä¸ª==å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ==</p>
<p>å‰ä¸–ï¼šç‘å…¸MySQL ABå…¬å¸ ä»Šç”Ÿï¼šå±äºOracle</p>
<p>MySQLæ˜¯æœ€å¥½çš„ <a href="https://baike.baidu.com/item/RDBMS/1048260">RDBMS</a> (Relational Database Management System</p>
<p>ä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€æ€»ä½“æ‹¥æœ‰æˆæœ¬ä½ å¼€æº</p>
<p>ä¸€èˆ¬ä¸­å°å‹ç½‘ç«™ é›†ç¾¤</p>
<h2 id="1-5å®‰è£…MySQL"><a href="#1-5å®‰è£…MySQL" class="headerlink" title="1.5å®‰è£…MySQL"></a>1.5å®‰è£…MySQL</h2><ol>
<li><p>è§£å‹</p>
</li>
<li><p>é…ç½®ç¯å¢ƒå˜é‡</p>
</li>
<li><p>æ–°å»ºiniæ–‡ä»¶</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">basedir</span>=D:\mysql\</span><br><span class="line"><span class="attr">datadir</span>=D:\mysql\data\</span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨ç®¡ç†å‘˜æ¨¡å¼çš„CMD,å¹¶å°†è·¯å¾„åˆ‡æ¢åˆ°binç›®å½•ï¼Œè¾“å…¥mysqld -install</p>
</li>
<li><p>å†è¾“å…¥  mysqld â€”initialize-insecure â€”user=mysql åˆå§‹åŒ–æ•°æ®æ–‡ä»¶</p>
</li>
<li><p>è¾“å…¥net start mysqlå¯åŠ¨æ•°æ®åº“</p>
</li>
<li><p>mysql -u root -p</p>
</li>
<li><p>è¿›å…¥ç•Œé¢åæ›´æ”¹rootå¯†ç </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">update mysql.user set authentication_string=<span class="title function_ invoke__">password</span>(<span class="string">&#x27;123456&#x27;</span>) where user=<span class="string">&#x27;root&#x27;</span> <span class="keyword">and</span> Host = <span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ·æ–°æƒé™</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹ my.iniæ–‡ä»¶åˆ é™¤æœ€åä¸€å¥skip-grant-tables</p>
</li>
<li><p>é‡å¯mysqlå³å¯æ­£å¸¸ä½¿ç”¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">net stop mysql</span><br><span class="line">net <span class="keyword">start</span> mysql</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="1-6-å®‰è£…SQLyog"><a href="#1-6-å®‰è£…SQLyog" class="headerlink" title="1.6 å®‰è£…SQLyog"></a>1.6 å®‰è£…SQLyog</h2><h2 id="1-7-è¿æ¥æ•°æ®åº“"><a href="#1-7-è¿æ¥æ•°æ®åº“" class="headerlink" title="1.7 è¿æ¥æ•°æ®åº“"></a>1.7 è¿æ¥æ•°æ®åº“</h2><p>å‘½ä»¤è¡Œè¿æ¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql <span class="operator">-</span>uroot <span class="operator">-</span>p <span class="comment">--è¿æ¥æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>) <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span> <span class="keyword">and</span> Host <span class="operator">=</span> <span class="string">&#x27;localhost&#x27;</span>; <span class="comment">--ä¿®æ”¹å¯†ç </span></span><br><span class="line">flush privilegesï¼› <span class="comment">--åˆ·æ–°æƒé™</span></span><br><span class="line"><span class="keyword">show</span> databases; <span class="comment">--æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“</span></span><br><span class="line">use school; <span class="comment">--åˆ‡æ¢æ•°æ®åº“</span></span><br><span class="line"><span class="keyword">show</span> tablesï¼› <span class="comment">--æŸ¥çœ‹è¡¨</span></span><br><span class="line"><span class="keyword">describe</span> student; <span class="comment">--æ˜¾ç¤ºæ•°æ®åº“ä¸­æ‰€æœ‰çš„ç»“æ„</span></span><br><span class="line">creat databases zz;<span class="comment">--åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line">exitï¼› <span class="comment">--é€€å‡ºè¿æ¥</span></span><br></pre></td></tr></table></figure>
<p>æ•°æ®åº“xxè¯­è¨€ï¼š</p>
<ul>
<li>DDL å®šä¹‰</li>
<li>DML æ“ä½œ</li>
<li>DQL æŸ¥è¯¢</li>
<li>DCL æ§åˆ¶</li>
</ul>
<h1 id="2æ“ä½œæ•°æ®åº“"><a href="#2æ“ä½œæ•°æ®åº“" class="headerlink" title="2æ“ä½œæ•°æ®åº“"></a>2æ“ä½œæ•°æ®åº“</h1><p>æ“ä½œæ•°æ®åº“&gt;æ“ä½œæ•°æ®åº“ä¸­çš„è¡¨&gt;æ“ä½œæ•°æ®åº“ä¸­è¡¨çš„æ•°æ®</p>
<p>==MySQLä¸­çš„å…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™==</p>
<h2 id="2-1-æ“ä½œæ•°æ®åº“"><a href="#2-1-æ“ä½œæ•°æ®åº“" class="headerlink" title="2.1 æ“ä½œæ•°æ®åº“"></a>2.1 æ“ä½œæ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> abc; <span class="comment">--åˆ›å»º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> abc;<span class="comment">--åˆ é™¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--tabé”®çš„ä¸Šé¢ï¼Œå¦‚æœè¡¨åæˆ–è€…å­—æ®µåæ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦å¸¦``</span></span><br><span class="line">USE `school`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> DATABASES; <span class="comment">--æŸ¥çœ‹æ•°æ®åº“</span></span><br></pre></td></tr></table></figure>
<h2 id="2-2-æ•°æ®åº“çš„åˆ—ç±»å‹"><a href="#2-2-æ•°æ®åº“çš„åˆ—ç±»å‹" class="headerlink" title="2.2 æ•°æ®åº“çš„åˆ—ç±»å‹"></a>2.2 æ•°æ®åº“çš„åˆ—ç±»å‹</h2><ul>
<li><p>æ•°å€¼</p>
<ul>
<li>tinyint ååˆ†å°çš„æ•°æ® 1å­—èŠ‚</li>
<li>smallint è¾ƒå°çš„æ•°æ® 2å­—èŠ‚</li>
<li>mediumint ä¸­ç­‰å¤§å° 3å­—èŠ‚</li>
<li><strong>int æ ‡å‡†æ•´æ•° 4å­—èŠ‚</strong></li>
<li>bigint è¾ƒå¤§çš„æ•°æ® 8å­—èŠ‚</li>
<li>float æµ®ç‚¹æ•° 4å­—èŠ‚</li>
<li>double æµ®ç‚¹æ•° 8å­—èŠ‚ï¼ˆç²¾åº¦é—®é¢˜ï¼‰</li>
<li>decimal å­—ç¬¦ä¸²å½¢å¼çš„æµ®ç‚¹æ•°  é‡‘èè®¡ç®—ä½¿ç”¨decimal</li>
</ul>
</li>
<li><p>å­—ç¬¦ä¸²</p>
<ul>
<li>char å­—ç¬¦ä¸² å›ºå®šå¤§å° 0-255</li>
<li><strong>varchar å¯å˜é•¿åº¦å­—ç¬¦ä¸² 0-65535</strong></li>
<li>tingtext å¾®å‹æ–‡æœ¬ 2^8-1</li>
<li><strong>text æ–‡æœ¬ä¸² 2^16-1 ä¿å­˜æ–‡æœ¬</strong></li>
</ul>
</li>
<li><p>æ—¥æœŸ</p>
<ul>
<li>date yyyy-mm-dd æ—¥æœŸæ ¼å¼</li>
<li>time HH:mm:ss æ—¶é—´æ ¼å¼</li>
<li><strong>datetime yyyy-mm-dd HH:mm:ssæœ€å¸¸ç”¨çš„æ—¶é—´æ ¼å¼</strong></li>
<li><strong>timestamp æ—¶é—´æˆ³</strong></li>
<li>year å¹´ä»½</li>
</ul>
</li>
<li><p>null</p>
<ul>
<li>æ²¡æœ‰å€¼ï¼ŒæœªçŸ¥</li>
<li>==ä¸è¦ä½¿ç”¨NULLè¿›è¡Œè¿ç®—==</li>
</ul>
</li>
</ul>
<h2 id="2-3-æ•°æ®åº“çš„å­—æ®µå±æ€§"><a href="#2-3-æ•°æ®åº“çš„å­—æ®µå±æ€§" class="headerlink" title="2.3 æ•°æ®åº“çš„å­—æ®µå±æ€§"></a>2.3 æ•°æ®åº“çš„å­—æ®µå±æ€§</h2><p>Unsigned:</p>
<ul>
<li>æ— ç¬¦å·æ•´æ•°</li>
<li>å£°æ˜äº†è¯¥åˆ—ä¸èƒ½ä¸ºè´Ÿæ•°</li>
</ul>
<p>zerofill</p>
<ul>
<li>0å¡«å……</li>
<li>ä¸è¶³çš„ä½æ•°ï¼Œç”¨0å¡«å…… intï¼ˆ3ï¼‰ 5-&gt;005</li>
</ul>
<p>è‡ªå¢</p>
<ul>
<li>é€šå¸¸ç†è§£ä¸ºè‡ªå¢ï¼Œè‡ªåŠ¨åœ¨ä¸Šä¸€æ¡è®°å½•çš„åŸºç¡€ä¸Š+1</li>
<li>é€šå¸¸ç”¨æ¥è®¾è®¡å”¯ä¸€çš„ä¸»é”® indexï¼Œå¿…é¡»æ˜¯æ•´æ•°</li>
<li>å¯ä»¥è‡ªå®šä¹‰è®¾è®¡ä¸»é”®çš„èµ·å§‹å€¼å’Œæ­¥é•¿</li>
</ul>
<p>éç©º Null not null</p>
<ul>
<li>å‡è®¾è®¾ç½®ä¸ºnot null,å¦‚æœä¸ç»™ä»–èµ‹å€¼ï¼Œå°±ä¼šæŠ¥é”™</li>
<li>Nullï¼Œå¦‚æœä¸å¡«å†™å€¼ï¼Œé»˜è®¤æ˜¯null</li>
</ul>
<p>é»˜è®¤</p>
<ul>
<li>è®¾ç½®é»˜è®¤å€¼</li>
<li>sexï¼Œé»˜è®¤ä¸ºç”·ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œéƒ½ä¸ºç”·</li>
</ul>
<h2 id="2-4-åˆ›å»ºæ•°æ®åº“è¡¨"><a href="#2-4-åˆ›å»ºæ•°æ®åº“è¡¨" class="headerlink" title="2.4 åˆ›å»ºæ•°æ®åº“è¡¨"></a>2.4 åˆ›å»ºæ•°æ®åº“è¡¨</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`( </span><br><span class="line">	`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT<span class="string">&#x27;å­¦å·&#x27;</span>, </span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;åŒ¿å&#x27;</span> COMMENT<span class="string">&#x27;å§“å&#x27;</span>, </span><br><span class="line">    `password` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT<span class="string">&#x27;å¯†ç &#x27;</span>, </span><br><span class="line">    `sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;å¥³&#x27;</span> COMMENT<span class="string">&#x27;æ€§åˆ«&#x27;</span>, </span><br><span class="line">    `birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å‡ºç”Ÿæ—¥æœŸ&#x27;</span>, </span><br><span class="line">    `address` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;ä½å€&#x27;</span>, </span><br><span class="line">    `email`<span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;é‚®ç®±&#x27;</span>, </span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`) </span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8; </span><br></pre></td></tr></table></figure>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] `è¡¨å`(</span><br><span class="line">	`å­—æ®µå` åˆ—ç±»å‹[å±æ€§][ç´¢å¼•][æ³¨é‡Š],</span><br><span class="line">    â€¦â€¦</span><br><span class="line">	`å­—æ®µå` åˆ—ç±»å‹[å±æ€§][ç´¢å¼•][æ³¨é‡Š]</span><br><span class="line">)[è¡¨ç±»å‹][å­—ç¬¦é›†è®¾ç½®][æ³¨é‡Š]</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨å‘½ä»¤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE school</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student</span><br><span class="line"><span class="keyword">DESC</span> student</span><br></pre></td></tr></table></figure>
<h2 id="2-5-æ•°æ®è¡¨çš„ç±»å‹"><a href="#2-5-æ•°æ®è¡¨çš„ç±»å‹" class="headerlink" title="2.5 æ•°æ®è¡¨çš„ç±»å‹"></a>2.5 æ•°æ®è¡¨çš„ç±»å‹</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ•°æ®åº“å¼•æ“</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">INNODB é»˜è®¤ä½¿ç”¨</span></span><br><span class="line"><span class="comment">MYISAM æ—©äº›å¹´ä½¿ç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody>
<tr>
<td>äº‹åŠ¡æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>æ•°æ®è¡Œé”å®š</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>å¤–é”®çº¦æŸ</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>å…¨æ–‡ç´¢å¼•</td>
<td>æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>è¡¨ç©ºé—´å¤§å°</td>
<td>è¾ƒå°</td>
<td>è¾ƒå¤§ï¼Œçº¦ä¸º2å€</td>
</tr>
</tbody>
</table>
</div>
<p>å¸¸è§„ä½¿ç”¨æ“ä½œï¼š</p>
<ul>
<li>MYISAM èŠ‚çº¦ç©ºé—´ï¼Œé€Ÿåº¦è¾ƒå¿«</li>
<li>INNODB å®‰å…¨æ€§é«˜ï¼Œäº‹åŠ¡çš„å¤„ç†ï¼Œå¤šè¡¨å¤šç”¨æˆ·æ“ä½œ</li>
</ul>
<p>åœ¨ç‰©ç†ç©ºé—´çš„ä½ç½®</p>
<p>æ‰€æœ‰çš„æ•°æ®åº“æ–‡ä»¶éƒ½å­˜åœ¨dataç›®å½•ä¸‹</p>
<p>æœ¬è´¨è¿˜æ˜¯æ–‡ä»¶çš„å­˜å‚¨</p>
<p>MySQLå¼•æ“åœ¨ç‰©ç†æ–‡ä»¶ä¸Šçš„åŒºåˆ«</p>
<ul>
<li>INNODBåœ¨æ•°æ®åº“ä¸­åªæœ‰ä¸€ä¸ª*.frmæ–‡ä»¶ï¼Œä»¥åŠä¸Šçº§ç›®å½•ä¸‹çš„.ibdata1æ–‡ä»¶</li>
<li>MYISAMå¯¹åº”çš„æ–‡ä»¶<ul>
<li>*.frm è¡¨ç»“æ„çš„å®šä¹‰æ–‡ä»¶</li>
<li>*.MYD æ•°æ®æ–‡ä»¶ï¼ˆdataï¼‰</li>
<li>*.MYI ç´¢å¼•æ–‡ä»¶ï¼ˆindexï¼‰</li>
</ul>
</li>
</ul>
<p>è®¾ç½®æ•°æ®åº“å­—ç¬¦é›†ç¼–ç </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤ç¼–ç Latin1ä¸æ”¯æŒä¸­æ–‡</p>
<h2 id="2-6-ä¿®æ”¹åˆ é™¤è¡¨"><a href="#2-6-ä¿®æ”¹åˆ é™¤è¡¨" class="headerlink" title="2.6 ä¿®æ”¹åˆ é™¤è¡¨"></a>2.6 ä¿®æ”¹åˆ é™¤è¡¨</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ä¿®æ”¹è¡¨å ALTER TABLE æ—§è¡¨å RENAME AS æ–°è¡¨å</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher RENAME <span class="keyword">AS</span> teacher1</span><br><span class="line"><span class="comment">-- å¢åŠ è¡¨çš„å­—æ®µ ALTER TABLE è¡¨å ADD å­—æ®µå åˆ—å±æ€§</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 <span class="keyword">ADD</span> age <span class="type">INT</span>(<span class="number">11</span>)</span><br><span class="line"><span class="comment">-- ä¿®æ”¹è¡¨çš„å­—æ®µï¼ˆé‡å‘½åï¼Œä¿®æ”¹çº¦æŸï¼‰</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 MODIFY age <span class="type">VARCHAR</span>(<span class="number">11</span>) <span class="comment">-- ä¿®æ”¹çº¦æŸ</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 CHANGE age age1 <span class="type">INT</span>(<span class="number">1</span>) <span class="comment">-- é‡å‘½å</span></span><br><span class="line"><span class="comment">-- åˆ é™¤è¡¨çš„å­—æ®µ</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 <span class="keyword">DROP</span> age1</span><br><span class="line"><span class="comment">-- åˆ é™¤è¡¨</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> teacher1</span><br></pre></td></tr></table></figure>
<p>==æ‰€æœ‰çš„åˆ›å»ºå’Œåˆ é™¤å°½é‡åŠ ä¸Šåˆ¤æ–­==</p>
<h1 id="3-MySQLæ•°æ®ç®¡ç†"><a href="#3-MySQLæ•°æ®ç®¡ç†" class="headerlink" title="3 MySQLæ•°æ®ç®¡ç†"></a>3 MySQLæ•°æ®ç®¡ç†</h1><h2 id="3-1å¤–é”®"><a href="#3-1å¤–é”®" class="headerlink" title="3.1å¤–é”®"></a>3.1å¤–é”®</h2><p>æ–¹æ³•ä¸€ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;å­¦å·&#x27;</span>,</span><br><span class="line">  `name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;åŒ¿å&#x27;</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">  `password` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">  `sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;å¥³&#x27;</span> COMMENT <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span><br><span class="line">  `birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å‡ºç”Ÿæ—¥æœŸ&#x27;</span>,</span><br><span class="line">  `gradeid` <span class="type">INT</span>(<span class="number">10</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¹´çº§id&#x27;</span>,</span><br><span class="line">  `address` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä½å€&#x27;</span>,</span><br><span class="line">  `email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;é‚®ç®±&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `FK_gradeid`(`gradeid`),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY (`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•äºŒï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;å­¦å·&#x27;</span>,</span><br><span class="line">  `name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;åŒ¿å&#x27;</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">  `password` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">  `sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;å¥³&#x27;</span> COMMENT <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span><br><span class="line">  `birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å‡ºç”Ÿæ—¥æœŸ&#x27;</span>,</span><br><span class="line">  `gradeid` <span class="type">INT</span>(<span class="number">10</span>)<span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¹´çº§id&#x27;</span>,</span><br><span class="line">  `address` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä½å€&#x27;</span>,</span><br><span class="line">  `email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;é‚®ç®±&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8<span class="comment">-- åˆ›å»ºè¡¨çš„æ—¶å€™æ²¡æœ‰å¤–é”®å…³ç³»</span></span><br><span class="line"><span class="comment">-- ALTER TABLE è¡¨å ADD CONSTRAINT çº¦æŸå FORGEIGN KEY(ä½œä¸ºå¤–é”®çš„åˆ—) REFERENCES è¡¨å(åˆ—å)</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `student`</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY (`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`);</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤æœ‰å¤–é”®å…³ç³»çš„è¡¨çš„æ—¶å€™ï¼Œå¿…é¡»è¦å…ˆåˆ é™¤å¼•ç”¨åˆ«äººçš„è¡¨ï¼ˆä»è¡¨ï¼‰ï¼Œå†åˆ é™¤è¢«å¼•ç”¨çš„è¡¨ï¼ˆä¸»è¡¨ï¼‰</p>
<p>ä»¥ä¸Šæ“ä½œéƒ½æ˜¯ç‰©ç†å¤–é”®ï¼Œæ•°æ®åº“çº§åˆ«çš„å¤–é”®ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼ˆé¿å…æ•°æ®åº“è¿‡å¤šé€ æˆå›°æ‰°ï¼‰</p>
<p>==æœ€ä½³å®è·µ==</p>
<ul>
<li>æ•°æ®åº“å°±æ˜¯å•çº¯çš„è¡¨ï¼Œåªç”¨æ¥å­˜æ•°æ®</li>
<li>ç”¨ç¨‹åºæ˜¯å®ç°å¤–é”®</li>
</ul>
<h2 id="3-2-DMLè¯­è¨€"><a href="#3-2-DMLè¯­è¨€" class="headerlink" title="3.2 DMLè¯­è¨€"></a>3.2 DMLè¯­è¨€</h2><p>æ•°æ®åº“çš„æ„ä¹‰ï¼šæ•°æ®å­˜å‚¨ï¼Œæ•°æ®ç®¡ç†</p>
<ul>
<li>insert</li>
<li>update</li>
<li>delete</li>
</ul>
<h2 id="3-3-æ·»åŠ "><a href="#3-3-æ·»åŠ " class="headerlink" title="3.3 æ·»åŠ "></a>3.3 æ·»åŠ </h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ’å…¥è¯­å¥(æ·»åŠ )</span></span><br><span class="line"><span class="comment">-- insert into è¡¨å([å­—æ®µ1][å­—æ®µ2][å­—æ®µ3])value(&#x27;å€¼1&#x27;),(&#x27;å€¼2&#x27;),(&#x27;å€¼3&#x27;),â€¦â€¦</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`gradename`) <span class="keyword">VALUE</span>(<span class="string">&#x27;å¤§å››&#x27;</span>)</span><br><span class="line"><span class="comment">-- ç”±äºä¸»é”®è‡ªå¢ï¼Œå¯ä»¥çœç•¥ï¼Œå¦‚æœä¸å†™å­—æ®µï¼Œä¼šä¸€ä¸€åŒ¹é…</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span>`grade`(`gradename`) <span class="keyword">VALUES</span>(<span class="string">&#x27;å¤§ä¸€&#x27;</span>),(<span class="string">&#x27;å¤§äºŒ&#x27;</span>),(<span class="string">&#x27;å¤§ä¸‰&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>å­—æ®µä¹‹é—´ç”¨è‹±æ–‡é€—å·åˆ†å¼€</li>
<li>å­—æ®µæ˜¯å¯ä»¥çœç•¥çš„ï¼Œä½†å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œä¸èƒ½å°‘</li>
<li>å¯ä»¥åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®VALUESåé¢çš„å€¼éœ€è¦ä½¿ç”¨é€—å·éš”å¼€</li>
</ol>
<h2 id="3-4-ä¿®æ”¹"><a href="#3-4-ä¿®æ”¹" class="headerlink" title="3.4 ä¿®æ”¹"></a>3.4 ä¿®æ”¹</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è¯­æ³•</span></span><br><span class="line"><span class="comment">-- UPDATE è¡¨å SET colunm_name = value where [æ¡ä»¶]</span></span><br><span class="line"><span class="comment">-- ä¿®æ”¹å§“å</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;zz&#x27;</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">-- ä¸æŒ‡å®šæ¡ä»¶ä¼šæ”¹åŠ¨æ‰€æœ‰è¡¨</span></span><br><span class="line"><span class="keyword">UPDATE</span>  `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;zz&#x27;</span></span><br><span class="line"><span class="comment">--ä¿®æ”¹å¤šä¸ªå±æ€§</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;zz&#x27;</span>,`email`<span class="operator">=</span><span class="string">&#x27;123@qq.com&#x27;</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ¡ä»¶ï¼š where å­å¥ è¿ç®—ç¬¦ id ç­‰äº å¤§äº å†æŸä¸ªåŒºé—´å†…ä¿®æ”¹</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦</th>
<th>å«ä¹‰</th>
<th>èŒƒå›´</th>
<th>ç»“æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>ç­‰äº</td>
<td>5=6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;  !=</td>
<td>ä¸ç­‰äº</td>
<td>5&lt;&gt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>BETWEENâ€¦AND..</td>
<td>å†æŸä¸ªèŒƒå›´å†…</td>
<td>é—­åˆåŒºé—´</td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>OR</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- å¤šä¸ªæ¡ä»¶å®šä½æ•°æ®</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;zz&#x27;</span>,`email`<span class="operator">=</span><span class="string">&#x27;123@qq.com&#x27;</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">AND</span> `sex` <span class="operator">=</span> <span class="string">&#x27;å¥³&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>colnum_æ˜¯æ•°æ®åº“çš„åˆ—ï¼Œå°½é‡å¸¦ä¸Š``</li>
<li>æ¡ä»¶å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™ä¼šä¿®æ”¹æ‰€æœ‰çš„åˆ—</li>
<li>valueæ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡ï¼ˆä¸€èˆ¬ä¸ºæ—¶é—´ï¼‰</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;zz&#x27;</span>,`email`<span class="operator">=</span><span class="string">&#x27;123@qq.com&#x27;</span> `birthday` <span class="operator">=</span> <span class="built_in">CURRENT_TIME</span> <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">AND</span> `sex` <span class="operator">=</span> <span class="string">&#x27;å¥³&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="3-5-åˆ é™¤"><a href="#3-5-åˆ é™¤" class="headerlink" title="3.5 åˆ é™¤"></a>3.5 åˆ é™¤</h2><p>delete å‘½ä»¤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è¯­æ³•</span></span><br><span class="line"><span class="comment">-- DELETE FROM è¡¨å [æ¡ä»¶]</span></span><br><span class="line"><span class="comment">-- åˆ é™¤å…¨éƒ¨</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="comment">-- åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student` <span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>TRUNCATE</p>
<p>ä½œç”¨ï¼šå®Œå…¨æ¸…ç©ºä¸€ä¸ªæ•°æ®åº“è¡¨ï¼Œç»“æ„å’Œç´¢å¼•çº¦æŸä¸ä¼šå˜</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> `student`</span><br></pre></td></tr></table></figure>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>ç›¸åŒç‚¹ï¼šéƒ½èƒ½åˆ é™¤æ•°æ®ï¼Œä¸ä¼šåˆ é™¤è¡¨ç»“æ„</li>
<li>ä¸åŒï¼š <ul>
<li>TRUNCATE ä¼šé‡æ–°è®¾ç½®è‡ªå¢åˆ—ï¼Œè®¡æ•°å™¨ä¼šå½’é›¶</li>
<li>TRUNCATE ä¸ä¼šå½±å“äº‹åŠ¡</li>
</ul>
</li>
</ul>
<p>DELETEåˆ é™¤ï¼Œé‡å¯æ•°æ®åº“</p>
<ul>
<li>INNODB è‡ªå¢åˆ—ä¼šä»1å¼€å§‹ï¼ˆå­˜åœ¨å†…å­˜å½“ä¸­ï¼Œæ–­ç”µå³å¤±ï¼‰</li>
<li>MYISAM ç»§ç»­ä»ä¸Šä¸€ä¸ªå­å¢é‡å¼€å§‹ï¼ˆå­˜åœ¨æ–‡ä»¶ä¸­ï¼Œä¸ä¼šä¸¢å¤±ï¼‰</li>
</ul>
<h1 id="4-DQLæ•°æ®æŸ¥è¯¢"><a href="#4-DQLæ•°æ®æŸ¥è¯¢" class="headerlink" title="4 DQLæ•°æ®æŸ¥è¯¢"></a>4 DQLæ•°æ®æŸ¥è¯¢</h1><h2 id="4-1-DQL"><a href="#4-1-DQL" class="headerlink" title="4.1 DQL"></a>4.1 DQL</h2><p>data query language:æ•°æ®æŸ¥è¯¢è¯­è¨€</p>
<ul>
<li><p>æ‰€æœ‰çš„æŸ¥è¯¢æ“ä½œéƒ½ç”¨å®ƒ Select</p>
</li>
<li><p>ç®€å•çš„æŸ¥è¯¢ï¼Œå¤æ‚çš„æŸ¥è¯¢éƒ½èƒ½åš</p>
</li>
<li><p>==æ•°æ®åº“ä¸­æœ€æ ¸å¿ƒæœ€é‡è¦çš„è¯­å¥==</p>
</li>
<li><p>ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„è¯­å¥</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span> <span class="operator">|</span> DISTINCTROW ]</span><br><span class="line">    &#123;<span class="operator">*</span><span class="operator">|</span>table.<span class="operator">*</span><span class="operator">|</span>[table.filed1[<span class="keyword">as</span> alias1][,table.filed2[<span class="keyword">as</span> alias2]][,...]]&#125;</span><br><span class="line">    <span class="keyword">FROM</span> table_name [<span class="keyword">as</span> table_alias]</span><br><span class="line">    [<span class="keyword">left</span><span class="operator">|</span><span class="keyword">right</span><span class="operator">|</span><span class="keyword">inner</span> <span class="keyword">join</span> table_name2]</span><br><span class="line">    [<span class="keyword">WHERE</span> where_definition]</span><br><span class="line">    [<span class="keyword">GROUP</span> <span class="keyword">BY</span> &#123;col_name <span class="operator">|</span> expr <span class="operator">|</span> position&#125;</span><br><span class="line">      [<span class="keyword">ASC</span> <span class="operator">|</span> <span class="keyword">DESC</span>], ... [<span class="keyword">WITH</span> <span class="keyword">ROLLUP</span>]]</span><br><span class="line">    [<span class="keyword">HAVING</span> where_definition]</span><br><span class="line">    [<span class="keyword">ORDER</span> <span class="keyword">BY</span> &#123;col_name <span class="operator">|</span> expr <span class="operator">|</span> position&#125;</span><br><span class="line">      [<span class="keyword">ASC</span> <span class="operator">|</span> <span class="keyword">DESC</span>] , ...]</span><br><span class="line">    [LIMIT &#123;[<span class="keyword">offset</span>,] row_count <span class="operator">|</span> row_count <span class="keyword">OFFSET</span> <span class="keyword">offset</span>&#125;]</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<h2 id="4-2-æŒ‡å®šæŸ¥è¯¢å­—æ®µ"><a href="#4-2-æŒ‡å®šæŸ¥è¯¢å­—æ®µ" class="headerlink" title="4.2 æŒ‡å®šæŸ¥è¯¢å­—æ®µ"></a>4.2 æŒ‡å®šæŸ¥è¯¢å­—æ®µ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è¯­æ³•ï¼š SELECT å­—æ®µÂ·Â·Â· FROM è¡¨</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢å…¨éƒ¨çš„å­¦ç”Ÿ SELECT å­—æ®µ FROM è¡¨</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢æŒ‡å®šå­—æ®µ</span></span><br><span class="line"><span class="keyword">SELECT</span>`studentno`,`studentname`<span class="keyword">FROM</span> student</span><br><span class="line"><span class="comment">-- åˆ«å ç»™ç»“æœèµ·ä¸ªåå­— AS å¯ä»¥ç»™å­—æ®µèµ·åˆ«åï¼Œä¹Ÿå¯ä»¥ç»™è¡¨èµ·åˆ«å</span></span><br><span class="line"><span class="keyword">SELECT</span>`studentno`<span class="keyword">AS</span> å­¦å·,`studentname`<span class="keyword">AS</span> å­¦ç”Ÿå§“å <span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"><span class="comment">-- å‡½æ•° Concat(a,b)</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;å§“åï¼š&#x27;</span>,studentName) <span class="keyword">AS</span> æ–°åå­— <span class="keyword">FROM</span> student</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æœ‰äº›æ—¶å€™åˆ—åå­—ä¸æ˜¯é‚£ä¹ˆçš„è§åçŸ¥æ„ï¼Œéœ€è¦èµ·åˆ«å AS</p>
<p>å»é‡distinctï¼šå»é™¤SELECTæŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¸­é‡å¤çš„æ•°æ®ï¼Œåªæ˜¾ç¤ºä¸€æ¡</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢æœ‰å“ªäº›äººå‚åŠ äº†è€ƒè¯•ï¼Œæˆç»©</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="comment">-- æŸ¥è¯¢æœ‰é‚£äº›åŒå­¦å‚åŠ äº†è€ƒè¯•</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno` <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="comment">-- å‘ç°é‡å¤æ•°æ®ï¼Œå»é‡</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `studentno` <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ•°æ®åº“çš„åˆ—ï¼ˆè¡¨è¾¾å¼ï¼‰</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> VERSION() <span class="comment">-- å‡½æ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">100</span><span class="operator">*</span><span class="number">3</span><span class="number">-1</span>	<span class="comment">-- è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@auto</span>_increment_increment <span class="comment">-- å˜é‡</span></span><br><span class="line"><span class="comment">-- æˆç»©+1</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult`<span class="operator">+</span><span class="number">1</span> <span class="keyword">AS</span> æåˆ† <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br></pre></td></tr></table></figure>
<p>æ•°æ®åº“ä¸­çš„è¡¨è¾¾å¼ï¼šæ–‡æœ¬å€¼ï¼Œåˆ—ï¼ŒNullï¼Œå‡½æ•°ï¼Œè®¡ç®—è¡¨è¾¾å¼ï¼Œç³»ç»Ÿå˜é‡</p>
<h2 id="4-3-whereæ¡ä»¶å­å¥"><a href="#4-3-whereæ¡ä»¶å­å¥" class="headerlink" title="4.3 whereæ¡ä»¶å­å¥"></a>4.3 whereæ¡ä»¶å­å¥</h2><p>ä½œç”¨ï¼šæ£€ç´¢æ•°æ®ä¸­ç¬¦åˆæ¡ä»¶çš„å€¼</p>
<blockquote>
<p>é€»è¾‘è¿ç®—ç¬¦</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯­æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>and &amp;&amp;</td>
<td>a and b a&amp;&amp;b</td>
<td>ä¸</td>
</tr>
<tr>
<td>or \</td>
<td>\</td>
<td></td>
<td>a or b a\</td>
<td>\</td>
<td>b</td>
<td>æˆ–</td>
</tr>
<tr>
<td>not ï¼</td>
<td>not a   !a</td>
<td>é</td>
</tr>
</tbody>
</table>
</div>
<p>==å°½é‡ä½¿ç”¨å­—æ¯==</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢æˆç»©åœ¨95-100ä¹‹é—´</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> `studentresult`<span class="operator">&gt;=</span><span class="number">95</span> <span class="keyword">AND</span> `studentresult`<span class="operator">&lt;=</span><span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ¨¡ç³ŠæŸ¥è¯¢ ï¼ˆåŒºé—´ï¼‰</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="keyword">BETWEEN</span> <span class="number">95</span> <span class="keyword">AND</span> <span class="number">100</span></span><br><span class="line"><span class="comment">-- != not</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="operator">!=</span> <span class="number">85</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentresult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> `studentresult` <span class="operator">=</span> <span class="number">85</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ¨¡ç³ŠæŸ¥è¯¢ï¼š æ¯”è¾ƒè¿ç®—ç¬¦</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯­æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>IF NULL</td>
<td>a is null</td>
<td></td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>a is not null</td>
<td></td>
</tr>
<tr>
<td>BETWEENÂ·Â·Â·AND</td>
<td>a between b and c</td>
<td></td>
</tr>
<tr>
<td><strong>LIKE</strong></td>
<td>a like b</td>
<td></td>
</tr>
<tr>
<td><strong>IN</strong></td>
<td>a in (a1,a2,a3)</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- =============like====================</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢åå­—å§“å¼ çš„åŒå­¦</span></span><br><span class="line"><span class="comment">-- like ç»“åˆ %(ä»£è¡¨0åˆ°ä»»æ„ä¸ªå­—ç¬¦) -(ä»£è¡¨ä¸€ä¸ªåŒå­¦)</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span>`student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;å¼ %&#x27;</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢åå­—å§“å¼ çš„åŒå­¦ï¼Œåå­—åé¢åªæœ‰ä¸€ä¸ªå­—</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span>`student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;å¼ _&#x27;</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢åå­—ä¸­å¸¦ä¼Ÿ</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span>`student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentname` <span class="keyword">LIKE</span> <span class="string">&#x27;%ä¼Ÿ%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ==========in(å…·ä½“çš„ä¸€ä¸ªæˆ–å¤šä¸ªå€¼)===============</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span>`student`</span><br><span class="line"><span class="keyword">WHERE</span> `studentno` <span class="keyword">IN</span> (<span class="number">1001</span>,<span class="number">1002</span>,<span class="number">1003</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ==========null not null==========</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span>`student`</span><br><span class="line"><span class="keyword">WHERE</span> `address` <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>
<h2 id="4-4-è¿è¡¨æŸ¥è¯¢"><a href="#4-4-è¿è¡¨æŸ¥è¯¢" class="headerlink" title="4.4 è¿è¡¨æŸ¥è¯¢"></a>4.4 è¿è¡¨æŸ¥è¯¢</h2><blockquote>
<p>joinå·®å¼‚</p>
</blockquote>
<p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1596798579093&amp;di=d1e251caba1a9ebba97ab987e8fffa8c&amp;imgtype=0&amp;src=http%3A%2F%2Fe.hiphotos.baidu.com%2Fbaike%2Fpic%2Fitem%2F7e3e6709c93d70cf77d6f685f2dcd100baa12b0d.jpg" alt="ç‚¹å‡»æŸ¥çœ‹æºç½‘é¡µ"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ===============è”è¡¨æŸ¥è¯¢======================</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.åˆ†æéœ€æ±‚ï¼Œåˆ†ææŸ¥è¯¢å­—æ®µæ¥è‡ªå“ªäº›è¡¨</span></span><br><span class="line"><span class="comment">2.ç¡®å®šä½¿ç”¨å“ªç§è¿æ¥æŸ¥è¯¢ 7ç§</span></span><br><span class="line"><span class="comment">ç¡®å®šäº¤å‰ç‚¹ï¼šä¸¤ä¸ªè¡¨ä¸­é‚£ä¸ªæ•°æ®æ˜¯ç›¸åŒçš„</span></span><br><span class="line"><span class="comment">åˆ¤æ–­çš„æ¡ä»¶ï¼šå­¦ç”Ÿè¡¨çš„ studentno = æˆç»©è¡¨çš„studentno</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">-- Inner Join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectno`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">WHERE</span> s.`studentno` <span class="operator">=</span> r.`studentno`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Right Join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectno`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.`studentno` <span class="operator">=</span> r.`studentno`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Left Join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectno`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.`studentno` <span class="operator">=</span> r.`studentno`</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inner join</td>
<td>å¦‚æœè¡¨ä¸­è‡³å°‘æœ‰ä¸€ä¸ªåŒ¹é…ï¼Œå°±è¿”å›è¡Œ</td>
</tr>
<tr>
<td>left join</td>
<td>ä¼šä»å·¦è¾¹çš„è¡¨è¿”å›æ‰€æœ‰çš„å€¼ï¼Œå³ä½¿å³è¡¨æ²¡æœ‰åŒ¹é…</td>
</tr>
<tr>
<td>right join</td>
<td>ä¼šä»å³è¡¨è¿”å›æ‰€æœ‰çš„å€¼ï¼Œå³ä½¿å·¦è¡¨æ²¡æœ‰åŒ¹é…</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦çš„ä¿¡æ¯ï¼Œå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œç§‘ç›®åï¼Œåˆ†æ•°</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.åˆ†æéœ€æ±‚ï¼Œåˆ†ææŸ¥è¯¢å­—æ®µæ¥è‡ªå“ªäº›è¡¨ student result subject</span></span><br><span class="line"><span class="comment">2.ç¡®å®šä½¿ç”¨å“ªç§è¿æ¥æŸ¥è¯¢ 7ç§</span></span><br><span class="line"><span class="comment">ç¡®å®šäº¤å‰ç‚¹ï¼šä¸¤ä¸ªè¡¨ä¸­é‚£ä¸ªæ•°æ®æ˜¯ç›¸åŒçš„</span></span><br><span class="line"><span class="comment">åˆ¤æ–­çš„æ¡ä»¶ï¼šå­¦ç”Ÿè¡¨çš„ studentno = æˆç»©è¡¨çš„studentno</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`studentresult`,`subjectname`</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">ON</span> r.`studentno`<span class="operator">=</span>s.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span> sub.`subjectno`</span><br><span class="line"><span class="comment">-- è¦æŸ¥å“ªäº›æ•°æ® select</span></span><br><span class="line"><span class="comment">-- ä»å“ªå‡ ä¸ªè¡¨æŸ¥  from è¡¨ xxjoin è¿æ¥çš„è¡¨ on äº¤å‰æ¡ä»¶</span></span><br><span class="line"><span class="comment">-- å‡è®¾å­˜åœ¨å¤šå¼ è¡¨æŸ¥è¯¢ï¼Œæ…¢æ…¢æ¥ï¼Œå…ˆæŸ¥ä¸¤å¼ å†å¢åŠ </span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>è‡ªè¿æ¥</p>
</blockquote>
<p>è‡ªå·±çš„è¡¨å’Œè‡ªå·±çš„è¡¨è¿æ¥ï¼Œæ ¸å¿ƒï¼šä¸€å¼ è¡¨æ‹†ä¸ºä¸¤å¼ ä¸€æ ·çš„è¡¨</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>categoryid</th>
<th>categoryname</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>æ–°æŠ€æœ¯</td>
</tr>
<tr>
<td>3</td>
<td>è½¯ä»¶å¼€å‘</td>
</tr>
<tr>
<td>5</td>
<td>ç¾æœ¯æŠ€æœ¯</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>pid</th>
<th>categoryid</th>
<th>categoryname</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>4</td>
<td>æ•°æ®åº“</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
<td>åŠå…¬ä¿¡æ¯</td>
</tr>
<tr>
<td>3</td>
<td>6</td>
<td>webå¼€å‘</td>
</tr>
<tr>
<td>5</td>
<td>7</td>
<td>ç¾æœ¯è®¾è®¡</td>
</tr>
</tbody>
</table>
</div>
<p>æ“ä½œï¼šæŸ¥è¯¢çˆ¶ç±»å¯¹åº”çš„å­ç±»å…³ç³»</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>çˆ¶ç±»</th>
<th>å­ç±»</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¿¡æ¯æŠ€æœ¯</td>
<td>åŠå…¬ä¿¡æ¯</td>
</tr>
<tr>
<td>è½¯ä»¶å¼€å‘</td>
<td>æ•°æ®åº“</td>
</tr>
<tr>
<td>è½¯ä»¶å¼€å‘</td>
<td>webå¼€å‘</td>
</tr>
<tr>
<td>ç¾æœ¯æŠ€æœ¯</td>
<td>ç¾æœ¯è®¾è®¡</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢çˆ¶å­ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">SELECT</span> a.`categoryname` <span class="keyword">AS</span> <span class="string">&#x27;çˆ¶&#x27;</span>,b.`categoryname` <span class="keyword">AS</span> <span class="string">&#x27;å­&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span>`category` a ,`category` b</span><br><span class="line"><span class="keyword">WHERE</span> a.`categoryid` <span class="operator">=</span> b.`pid`</span><br></pre></td></tr></table></figure>
<p>ç»ƒä¹ </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢å­¦å·ï¼Œå§“åï¼Œå¹´çºª</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname`,`gradename`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `grade` g</span><br><span class="line"><span class="keyword">ON</span> s.`gradeid` <span class="operator">=</span> g.`gradeid`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢ç§‘ç›®æ‰€å±çš„å¹´çº§ ç§‘ç›®åç§° å¹´çºªåç§°</span></span><br><span class="line"><span class="keyword">SELECT</span> `subjectname`,`gradename`</span><br><span class="line"><span class="keyword">FROM</span> `subject` sub</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `grade` g</span><br><span class="line"><span class="keyword">ON</span> sub.`gradeid`<span class="operator">=</span>g.`gradeid`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢å‚åŠ äº†é«˜ç­‰æ•°å­¦-1 è€ƒè¯•çš„åŒå­¦çš„ä¿¡æ¯ï¼Œå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œç§‘ç›®åï¼Œåˆ†æ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectname`,`studentresult` </span><br><span class="line"><span class="keyword">FROM</span> `student` s </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r </span><br><span class="line"><span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno` </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub </span><br><span class="line"><span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span>sub.`subjectno` </span><br><span class="line"><span class="keyword">WHERE</span> `subjectname`<span class="operator">=</span><span class="string">&#x27;é«˜ç­‰æ•°å­¦-1&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="4-5-åˆ†é¡µå’Œæ’åº"><a href="#4-5-åˆ†é¡µå’Œæ’åº" class="headerlink" title="4.5 åˆ†é¡µå’Œæ’åº"></a>4.5 åˆ†é¡µå’Œæ’åº</h2><blockquote>
<p>æ’åº ASC DESC</p>
</blockquote>
 <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="comment">-- æ’åº å‡åº asc é™åº desc</span></span><br><span class="line"> <span class="comment">-- æ ¹æ®ç»“æœæˆç»©é™åºæ’åº</span></span><br><span class="line"> <span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectname`,`studentresult` </span><br><span class="line"> <span class="keyword">FROM</span> `student` s </span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r </span><br><span class="line"> <span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno` </span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub </span><br><span class="line"> <span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span>sub.`subjectno` </span><br><span class="line"> <span class="keyword">WHERE</span> `subjectname`<span class="operator">=</span><span class="string">&#x27;é«˜ç­‰æ•°å­¦-1&#x27;</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åˆ†é¡µ</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ†é¡µ æ¯é¡µåªæ˜¾ç¤º5æ¡æ•°æ®</span></span><br><span class="line"><span class="comment">-- è¯­æ³•ï¼šlimit èµ·å§‹å€¼,æ¯é¡µå¤§å°</span></span><br><span class="line"><span class="comment">-- ç½‘é¡µåº”ç”¨ å½“å‰ï¼Œæ€»çš„é¡µæ•°ï¼Œå½“å‰å¤§å°</span></span><br><span class="line"><span class="comment">-- ç¬¬ä¸€é¡µ limit 0,5</span></span><br><span class="line"><span class="comment">-- ç¬¬äºŒé¡µ limit 5,5</span></span><br><span class="line"><span class="comment">-- ç¬¬ä¸‰é¡µ limit 10,5</span></span><br><span class="line"><span class="comment">-- ç¬¬Né¡µ limit ï¼ˆn-1ï¼‰*pagesize,pagesize</span></span><br><span class="line"><span class="comment">-- æ€»é¡µæ•° = æ•°æ®æ€»æ•°/æ•°æ®å¤§å°</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectname`,`studentresult` </span><br><span class="line"><span class="keyword">FROM</span> `student` s </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r </span><br><span class="line"><span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno` </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub </span><br><span class="line"><span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span>sub.`subjectno` </span><br><span class="line"><span class="keyword">WHERE</span> `subjectname`<span class="operator">=</span><span class="string">&#x27;é«˜ç­‰æ•°å­¦-1&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">ASC</span></span><br><span class="line">LIMIT <span class="number">0</span>,<span class="number">5</span> <span class="comment">-- èµ·å§‹å€¼ï¼Œé¡µé¢å¤§å°</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ€è€ƒ</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢JAVAç¬¬ä¸€å­¦å¹´ï¼Œè¯¾ç¨‹æˆç»©æ’åå‰åï¼Œåˆ†æ•°å¤§å­¦80çš„å­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="comment">-- ï¼ˆå­¦å·ï¼Œå§“åï¼Œè¯¾ç¨‹åç§°ï¼Œåˆ†æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`,`subjectname`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> sub.`subjectno`<span class="operator">=</span>r.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname`<span class="operator">=</span><span class="string">&#x27;JAVAç¬¬ä¸€å­¦å¹´&#x27;</span> <span class="keyword">AND</span> `studentresult`<span class="operator">&gt;=</span><span class="number">80</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">0</span>,<span class="number">10</span></span><br></pre></td></tr></table></figure>
<h2 id="4-6-å­æŸ¥è¯¢"><a href="#4-6-å­æŸ¥è¯¢" class="headerlink" title="4.6 å­æŸ¥è¯¢"></a>4.6 å­æŸ¥è¯¢</h2><p>whereï¼ˆå€¼æ˜¯è®¡ç®—å‡ºæ¥çš„ï¼‰</p>
<p>æœ¬è´¨ï¼šåœ¨whereè¯­å¥ä¸­åµŒå¥—ä¸€ä¸ªå­æŸ¥è¯¢</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢æ•°æ®åº“ç»“æ„-1 æ‰€æœ‰çš„è€ƒè¯•ç»“æœ å­¦å· ç¼–å· æˆç»© é™åº</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`subjectname`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span>sub.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;æ•°æ®åº“ç»“æ„-1&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `studentresult` <span class="keyword">DESC</span></span><br><span class="line"><span class="comment">-- ä½¿ç”¨å­æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`subjectno`,`studentresult`</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>` </span><br><span class="line"><span class="keyword">WHERE</span> `studentno`<span class="keyword">IN</span>(<span class="keyword">SELECT</span> `subjectno`</span><br><span class="line"><span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span><span class="string">&#x27;æ•°æ®åº“ç»“æ„-1&#x27;</span>)</span><br><span class="line"><span class="comment">-- æŸ¥è¯¢æ•°æ®åº“ç»“æ„-1 å­¦ç”Ÿ å­¦å· </span></span><br><span class="line"><span class="keyword">SELECT</span> `subjectno`</span><br><span class="line"><span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;æ•°æ®åº“ç»“æ„-1&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ†æ•°ä¸å°äº80åˆ†å­¦ç”Ÿçš„å­¦å·å’Œå§“å</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> s.`studentno`,`studentname`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="operator">&gt;=</span> <span class="number">80</span></span><br><span class="line"><span class="comment">-- åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªï¼Œé«˜ç­‰æ•°å­¦-2</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> s.`studentno`,`studentname`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno`</span><br><span class="line"><span class="keyword">WHERE</span> `studentresult` <span class="operator">&gt;=</span> <span class="number">80</span> <span class="keyword">AND</span> `subjectno` <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `subjectno` <span class="keyword">FROM</span> `subject` </span><br><span class="line"><span class="keyword">WHERE</span> `subjectname` <span class="operator">=</span> <span class="string">&#x27;é«˜ç­‰æ•°å­¦-2&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢è¯¾ç¨‹ä¸ºé«˜ç­‰æ•°å­¦-2 åˆ†æ•°ä¸å°äº80çš„åŒå­¦çš„å­¦å·å’Œå§“å</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`studentno`,`studentname`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">ON</span> s.`studentno`<span class="operator">=</span>r.`studentno`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span>sub.`subjectno`</span><br><span class="line"><span class="keyword">WHERE</span>`subjectname`<span class="operator">=</span> <span class="string">&#x27;é«˜ç­‰æ•°å­¦-2&#x27;</span> <span class="keyword">AND</span> `studentresult` <span class="operator">&gt;=</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>
<h2 id="4-7-åˆ†ç»„å’Œè¿‡æ»¤"><a href="#4-7-åˆ†ç»„å’Œè¿‡æ»¤" class="headerlink" title="4.7 åˆ†ç»„å’Œè¿‡æ»¤"></a>4.7 åˆ†ç»„å’Œè¿‡æ»¤</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢ä¸åŒè¯¾ç¨‹çš„å¹³å‡åˆ†ï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†</span></span><br><span class="line"><span class="comment">-- æ ¹æ®ä¸åŒè¯¾ç¨‹åˆ†ç»„</span></span><br><span class="line"><span class="keyword">SELECT</span> `subjectname`,<span class="built_in">AVG</span>(`studentresult`),<span class="built_in">MAX</span>(`studentresult`),<span class="built_in">MIN</span>(`studentresult`)</span><br><span class="line"><span class="keyword">FROM</span>`<span class="keyword">result</span>` r</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectno`<span class="operator">=</span>sub.`subjectno`</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> r.`subjectno`</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(`studentreslt`)<span class="operator">&gt;</span><span class="number">80</span></span><br></pre></td></tr></table></figure>
<h1 id="5-MySQLå‡½æ•°"><a href="#5-MySQLå‡½æ•°" class="headerlink" title="5 MySQLå‡½æ•°"></a>5 MySQLå‡½æ•°</h1><h1 id="5-1-å¸¸ç”¨å‡½æ•°"><a href="#5-1-å¸¸ç”¨å‡½æ•°" class="headerlink" title="5.1 å¸¸ç”¨å‡½æ•°"></a>5.1 å¸¸ç”¨å‡½æ•°</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æ•°å­¦è¿ç®—</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-8</span>) <span class="comment">-- ç»å¯¹å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">9.4</span>) <span class="comment">-- å‘ä¸Šå–æ•´</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">9.4</span>) <span class="comment">-- å‘ä¸‹å–æ•´</span></span><br><span class="line"><span class="keyword">SELECT</span> RAND() <span class="comment">-- éšæœºæ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> SIGN()  <span class="comment">-- è¿”å›å‚æ•°çš„ç¬¦å· -1 0 1</span></span><br><span class="line"><span class="comment">-- å­—ç¬¦ä¸²å‡½æ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CHAR_LENGTH</span>(<span class="string">&#x27;asdasdasd&#x27;</span>) <span class="comment">-- å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>) <span class="comment">-- è¿æ¥å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">INSERT</span>(<span class="string">&#x27;helloworld&#x27;</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="string">&#x27;213&#x27;</span>) <span class="comment">-- æ’å…¥ï¼Œæ›¿æ¢</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;sSADsf&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;ASDsadasdasd&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;e&#x27;</span>) <span class="comment">-- è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°å­—ä¸²çš„ç´¢å¼•</span></span><br><span class="line"><span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;ll&#x27;</span>,<span class="string">&#x27;mm&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> SUBSTR(<span class="string">&#x27;hello&#x27;</span>,<span class="number">2</span>,<span class="number">4</span>) <span class="comment">-- è¿”å›æŒ‡å®šçš„å­å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">SELECT</span> REVERSE(<span class="string">&#x27;hello&#x27;</span>) <span class="comment">-- åè½¬å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">-- æ—¶é—´å’Œæ—¥æœŸ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>()</span><br><span class="line"><span class="keyword">SELECT</span> NOW()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOCALTIME</span>() </span><br><span class="line"><span class="comment">-- ç³»ç»Ÿ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SYSTEM_USER</span>()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>()</span><br><span class="line"><span class="keyword">SELECT</span> VERSION()</span><br></pre></td></tr></table></figure>
<h2 id="5-2-èšåˆå‡½æ•°"><a href="#5-2-èšåˆå‡½æ•°" class="headerlink" title="5.2 èšåˆå‡½æ•°"></a>5.2 èšåˆå‡½æ•°</h2><div class="table-container">
<table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>COUNT()</td>
<td></td>
</tr>
<tr>
<td>SUM()</td>
<td></td>
</tr>
<tr>
<td>AVG()</td>
<td></td>
</tr>
<tr>
<td>MAX()</td>
<td></td>
</tr>
<tr>
<td>MIN()</td>
<td></td>
</tr>
<tr>
<td>â€¦</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(`studentname`) <span class="keyword">FROM</span> `student`<span class="comment">-- COUNT(æŒ‡å®šåˆ—) ä¼šå¿½ç•¥nullå€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> `student` <span class="comment">-- ä¸ä¼šå¿½ç•¥null æœ¬è´¨ è®¡ç®—è¡Œæ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">FROM</span> `student` <span class="comment">-- ä¸ä¼šå¿½ç•¥nullæœ¬è´¨ è®¡ç®—è¡Œæ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(`studentresult`) <span class="keyword">AS</span> æ€»å’Œ <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(`studentresult`) <span class="keyword">AS</span> å¹³å‡ <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(`studentresult`) <span class="keyword">AS</span> æœ€é«˜ <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(`studentresult`) <span class="keyword">AS</span> æœ€ä½ <span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br></pre></td></tr></table></figure>
<h2 id="5-3-æ•°æ®åº“çº§åˆ«çš„MD5åŠ å¯†"><a href="#5-3-æ•°æ®åº“çº§åˆ«çš„MD5åŠ å¯†" class="headerlink" title="5.3 æ•°æ®åº“çº§åˆ«çš„MD5åŠ å¯†"></a>5.3 æ•°æ®åº“çº§åˆ«çš„MD5åŠ å¯†</h2><p>ä»€ä¹ˆæ˜¯MD5ï¼Ÿ</p>
<p>ä¸»è¦å¢å¼ºç®—æ³•çš„å¤æ‚åº¦å’Œä¸å¯é€†æ€§</p>
<p>MD5ä¸å¯é€†</p>
<p>MD5çš„ç ´è§£ç½‘ç«™çš„åŸç†ï¼ŒèƒŒåæœ‰ä¸€ä¸ªå­—å…¸ï¼ŒMD5åŠ å¯†åçš„å€¼ï¼ŒåŠ å¯†å‰çš„å€¼</p>
<h1 id="6-äº‹åŠ¡"><a href="#6-äº‹åŠ¡" class="headerlink" title="6 äº‹åŠ¡"></a>6 äº‹åŠ¡</h1><p>6.1 ä»€ä¹ˆæ˜¯äº‹åŠ¡</p>
<p>==è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥==</p>
<hr>
<p>1 SQLæ‰§è¡Œï¼ŒAç»™Bè½¬è´¦200   A:1000   (200)-&gt;   Bï¼š200</p>
<p>2 SQLæ‰§è¡Œï¼ŒBæ”¶åˆ°Açš„é’±  A:800  B:400</p>
<hr>
<p>å°†ä¸€ç»„SQLæ”¾åœ¨ä¸€ä¸ªæ‰¹æ¬¡ä¸­å»æ‰§è¡Œ</p>
<blockquote>
<p>äº‹åŠ¡åŸåˆ™ï¼šACID  åŸå­æ€§ï¼Œä¸€è‡´æ€§ï¼Œéš”ç¦»æ€§ï¼ŒæŒä¹…æ€§</p>
</blockquote>
<p><a href="https://blog.csdn.net/dengjili/article/details/82468576">https://blog.csdn.net/dengjili/article/details/82468576</a></p>
<p><strong>åŸå­æ€§ï¼ˆAtomicityï¼‰</strong></p>
<p>è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥</p>
<p><strong>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</strong></p>
<p>äº‹åŠ¡å‰åæ•°æ®çš„å®Œæ•´æ€§å¿…é¡»ä¿æŒä¸€è‡´</p>
<p><strong>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</strong></p>
<p>äº‹åŠ¡çš„éš”ç¦»æ€§æ˜¯å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ•°æ®æ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»ã€‚</p>
<p><strong>æŒä¹…æ€§ï¼ˆDurabilityï¼‰</strong></p>
<p>äº‹åŠ¡ä¸€æ—¦æäº¤å°±ä¸å¯é€†è½¬</p>
<blockquote>
<p> éš”ç¦»å¯¼è‡´çš„é—®é¢˜ï¼š</p>
</blockquote>
<h3 id="è„è¯»ï¼š"><a href="#è„è¯»ï¼š" class="headerlink" title="è„è¯»ï¼š"></a>è„è¯»ï¼š</h3><p>æŒ‡ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚</p>
<h3 id="ä¸å¯é‡å¤è¯»ï¼š"><a href="#ä¸å¯é‡å¤è¯»ï¼š" class="headerlink" title="ä¸å¯é‡å¤è¯»ï¼š"></a>ä¸å¯é‡å¤è¯»ï¼š</h3><p>åœ¨ä¸€ä¸ªäº‹åŠ¡å†…è¯»å–è¡¨ä¸­çš„æŸä¸€è¡Œæ•°æ®ï¼Œå¤šæ¬¡è¯»å–ç»“æœä¸åŒã€‚ï¼ˆè¿™ä¸ªä¸ä¸€å®šæ˜¯é”™è¯¯ï¼Œåªæ˜¯æŸäº›åœºåˆä¸å¯¹ï¼‰</p>
<h3 id="è™šè¯»-å¹»è¯»"><a href="#è™šè¯»-å¹»è¯»" class="headerlink" title="è™šè¯»(å¹»è¯»)"></a>è™šè¯»(å¹»è¯»)</h3><p>æ˜¯æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡å†…è¯»å–åˆ°äº†åˆ«çš„äº‹åŠ¡æ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å–ä¸ä¸€è‡´ã€‚<br> ï¼ˆä¸€èˆ¬æ˜¯è¡Œå½±å“ï¼Œå¤šäº†ä¸€è¡Œï¼‰</p>
<blockquote>
<p>æ‰§è¡Œäº‹åŠ¡</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- mysqlæ˜¯é»˜è®¤å¼€å¯äº‹åŠ¡è‡ªåŠ¨æäº¤çš„</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">0</span><span class="comment">/*å…³é—­*/</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">1</span><span class="comment">/*å¼€å¯*/</span></span><br><span class="line"><span class="comment">-- æ‰‹åŠ¨å¤„ç†äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">0</span><span class="comment">/*å…³é—­è‡ªåŠ¨æäº¤*/</span></span><br><span class="line"><span class="comment">-- äº‹åŠ¡å¼€å¯</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION <span class="comment">-- æ ‡è®°ä¸€ä¸ªäº‹ç‰©çš„å¼€å§‹ï¼Œä»è¿™ä¸ªä¹‹åçš„sqléƒ½åœ¨ä¸€ä¸ªäº‹åŠ¡å†…</span></span><br><span class="line"><span class="comment">-- æäº¤ æŒä¹…åŒ–ï¼ˆæˆåŠŸï¼‰</span></span><br><span class="line"><span class="keyword">COMMIT</span></span><br><span class="line"><span class="comment">-- å›æ»š å›åˆ°åŸæ¥çš„æ ·å­ï¼ˆå¤±è´¥ï¼‰</span></span><br><span class="line"><span class="keyword">ROLLBACK</span></span><br><span class="line"><span class="comment">-- äº‹åŠ¡ç»“æŸ</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">1</span><span class="comment">/*å¼€å¯*/</span></span><br><span class="line"><span class="keyword">SAVEPOINT</span> ä¿å­˜ç‚¹å <span class="comment">-- è®¾ç½®ä¸€ä¸ªäº‹åŠ¡çš„ä¿å­˜ç‚¹</span></span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> <span class="keyword">SAVEPOINT</span> ä¿å­˜ç‚¹å <span class="comment">-- å›æ»šåˆ°ä¿å­˜ç‚¹</span></span><br><span class="line"><span class="keyword">RELEASE</span> <span class="keyword">SAVEPOINT</span> ä¿å­˜ç‚¹å  <span class="comment">-- æ’¤é”€ä¿å­˜ç‚¹</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ¨¡æ‹Ÿåœºæ™¯ï¼šè½¬è´¦</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE shop <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci</span><br><span class="line">USE shop</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `account`( </span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">3</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT, </span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>, </span><br><span class="line">`money` <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>, </span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`) </span><br><span class="line">)ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8; </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ACCOUNT(`name`,`money`)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;a&#x27;</span>,<span class="number">2000.00</span>),(<span class="string">&#x27;b&#x27;</span>,<span class="number">10000</span>)</span><br><span class="line"><span class="comment">-- æ¨¡æ‹Ÿè½¬è´¦äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION <span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">UPDATE</span> `account` <span class="keyword">SET</span> `money`<span class="operator">=</span> `money`<span class="number">-500</span> <span class="keyword">WHERE</span> `name` <span class="operator">=</span><span class="string">&#x27;a&#x27;</span> <span class="comment">-- a-500</span></span><br><span class="line"><span class="keyword">UPDATE</span> `account` <span class="keyword">SET</span> `money`<span class="operator">=</span> `money`<span class="operator">+</span><span class="number">500</span> <span class="keyword">WHERE</span> `name` <span class="operator">=</span><span class="string">&#x27;b&#x27;</span> <span class="comment">-- b+500</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"><span class="keyword">SET</span> autocommit <span class="operator">=</span> <span class="number">1</span> <span class="comment">-- æ¢å¤é»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure>
<h1 id="7-ç´¢å¼•"><a href="#7-ç´¢å¼•" class="headerlink" title="7 ç´¢å¼•"></a>7 ç´¢å¼•</h1><blockquote>
<p>ç´¢å¼•ï¼ˆIndexï¼‰æ˜¯<strong>å¸®åŠ©MySQLé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„</strong>ã€‚æå–å¥å­ä¸»å¹²ï¼Œå°±å¯ä»¥å¾—åˆ°ç´¢å¼•çš„æœ¬è´¨ï¼šç´¢å¼•æ˜¯æ•°æ®ç»“æ„ã€‚</p>
</blockquote>
<h2 id="7-1-ç´¢å¼•çš„åˆ†ç±»"><a href="#7-1-ç´¢å¼•çš„åˆ†ç±»" class="headerlink" title="7.1 ç´¢å¼•çš„åˆ†ç±»"></a>7.1 ç´¢å¼•çš„åˆ†ç±»</h2><blockquote>
<p>åœ¨ä¸€ä¸ªè¡¨ä¸­,ä¸»é”®ç´¢å¼•åªèƒ½æœ‰ä¸€ä¸ª,å”¯ä¸€ç´¢å¼•å¯ä»¥æœ‰å¤šä¸ª</p>
</blockquote>
<ul>
<li>ä¸»é”®ç´¢å¼•(PRIMARY KEY)<ul>
<li>å”¯ä¸€æ ‡è¯†,ä¸»é”®ä¸å¯é‡å¤,è€Œä¸”åªæœ‰ä¸€ä¸ªåˆ—ä½œä¸ºä¸»é”®</li>
</ul>
</li>
<li>å”¯ä¸€ç´¢å¼•(UNIQUE KEY)<ul>
<li>ä¸å…è®¸å…·æœ‰ç´¢å¼•å€¼ç›¸åŒçš„è¡Œ</li>
</ul>
</li>
<li>å¸¸è§„ç´¢å¼•(KEY/INDEX)<ul>
<li>é»˜è®¤çš„,å¯ä»¥ç”¨index keyå…³é”®å­—è®¾ç½®</li>
</ul>
</li>
<li>å…¨æ–‡ç´¢å¼•(FULLTEXT)<ul>
<li>åœ¨ç‰¹å®šçš„æ•°æ®åº“å¼•æ“ä¸‹æ‰æœ‰</li>
<li>å¿«é€Ÿå®šä½æ•°æ®</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç´¢å¼•çš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment">-- 1.åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ç»™å­—æ®µæ·»åŠ ç´¢å¼•</span></span><br><span class="line"><span class="comment">-- 2.åˆ›å»ºå®Œæ¯•åï¼Œå¢åŠ ç´¢å¼•</span></span><br><span class="line"><span class="comment">-- æ˜¾ç¤ºæ‰€æœ‰çš„ç´¢å¼•ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> student</span><br><span class="line"><span class="comment">-- å¢åŠ ä¸€ä¸ªå…¨æ–‡ç´¢å¼•ï¼ˆç´¢å¼•åï¼‰åˆ—å</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `student` <span class="keyword">ADD</span> FULLTEXT INDEX `studentname` (`studentname`)</span><br><span class="line"><span class="comment">-- explain åˆ†æsqlæ‰§è¡Œçš„æƒ…å†µ</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="comment">-- éå…¨æ–‡ç´¢å¼•</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">MATCH</span> (studentname) AGAINST(<span class="string">&#x27;åˆ˜&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>7.2 æµ‹è¯•ç´¢å¼•</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `app_user` (</span><br><span class="line">`id` <span class="type">BIGINT</span>(<span class="number">20</span>) UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">`gender` TINYINT(<span class="number">4</span>) UNSIGNED <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">`password` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">`age` TINYINT(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`create_time` DATETIME <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line">`update_time` <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ’å…¥100ä¸‡æ•°æ®.</span></span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="comment">-- å†™å‡½æ•°ä¹‹å‰å¿…é¡»è¦å†™ï¼Œæ ‡å¿—</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> mock_data ()</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">INT</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">DECLARE</span> num <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">1000000</span>;</span><br><span class="line"><span class="keyword">DECLARE</span> i <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">WHILE i<span class="operator">&lt;</span>num DO</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `app_user`(`name`,`email`,`phone`,`gender`)<span class="keyword">VALUES</span>(CONCAT(<span class="string">&#x27;ç”¨æˆ·&#x27;</span>,i),<span class="string">&#x27;19224305@qq.com&#x27;</span>,<span class="string">&#x27;123456789&#x27;</span>,<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">2</span>));</span><br><span class="line"><span class="keyword">SET</span> i<span class="operator">=</span>i<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">END</span> WHILE;</span><br><span class="line"><span class="keyword">RETURN</span> i;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> mock_data() <span class="comment">-- æ‰§è¡Œæ­¤å‡½æ•° ç”Ÿæˆä¸€ç™¾ä¸‡æ¡æ•°æ®</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name` <span class="operator">=</span> <span class="string">&#x27;ç”¨æˆ·9999&#x27;</span>  <span class="comment">-- 1 sec</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name` <span class="operator">=</span> <span class="string">&#x27;ç”¨æˆ·9999&#x27;</span></span><br><span class="line"><span class="comment">-- id_è¡¨å_å­—æ®µå</span></span><br><span class="line"><span class="comment">-- create index ç´¢å¼•å on è¡¨ï¼ˆå­—æ®µï¼‰</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX id_app_user_name <span class="keyword">ON</span> `app_user`(`name`)</span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name` <span class="operator">=</span> <span class="string">&#x27;ç”¨æˆ·9999&#x27;</span>  <span class="comment">-- 0.001sec</span></span><br></pre></td></tr></table></figure>
<p>ç´¢å¼•åœ¨æ•°æ®é‡å°çš„æ—¶å€™ç”¨å¤„ä¸å¤§,ä½†æ˜¯åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™åŒºåˆ«ååˆ†æ˜æ˜¾</p>
<h2 id="7-3-ç´¢å¼•åŸåˆ™"><a href="#7-3-ç´¢å¼•åŸåˆ™" class="headerlink" title="7.3 ç´¢å¼•åŸåˆ™"></a>7.3 ç´¢å¼•åŸåˆ™</h2><ul>
<li>ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½</li>
<li>ä¸è¦å¯¹ç»å¸¸å˜åŠ¨çš„æ•°æ®åŠ ç´¢å¼•</li>
<li>å°æ•°æ®é‡çš„è¡¨ä¸éœ€è¦åŠ ç´¢å¼•</li>
<li>ç´¢å¼•ä¸€èˆ¬åŠ åœ¨å¸¸ç”¨æ¥æŸ¥è¯¢çš„å­—æ®µä¸Š</li>
</ul>
<blockquote>
<p>ç´¢å¼•çš„æ•°æ®ç»“æ„</p>
</blockquote>
<p>Hash ç±»å‹çš„ç´¢å¼•</p>
<p>Btree: INNODBçš„é»˜è®¤çš„ç´¢å¼•æ•°æ®ç±»å‹</p>
<blockquote>
<p> MySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†</p>
</blockquote>
<p><a href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html">http://blog.codinglabs.org/articles/theory-of-mysql-index.html</a></p>
<h1 id="8-æƒé™ç®¡ç†å’Œå¤‡ä»½"><a href="#8-æƒé™ç®¡ç†å’Œå¤‡ä»½" class="headerlink" title="8.æƒé™ç®¡ç†å’Œå¤‡ä»½"></a>8.æƒé™ç®¡ç†å’Œå¤‡ä»½</h1><h2 id="8-1-ç”¨æˆ·ç®¡ç†"><a href="#8-1-ç”¨æˆ·ç®¡ç†" class="headerlink" title="8.1 ç”¨æˆ·ç®¡ç†"></a>8.1 ç”¨æˆ·ç®¡ç†</h2><p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808150152040.png" alt="image-20200808150152040"></p>
<blockquote>
<p>SQLå‘½ä»¤æ“ä½œ</p>
</blockquote>
<p>ç”¨æˆ·è¡¨:mysql.user</p>
<p>æœ¬è´¨:å¯¹è¿™å¼ è¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºç”¨æˆ· CREATE USER ç”¨æˆ·å IDENTIFIED BY å¯†ç </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> zz IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span></span><br><span class="line"><span class="comment">-- ä¿®æ”¹å¯†ç ï¼ˆå½“å‰ç”¨æˆ·ï¼‰</span></span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="operator">=</span> PASSWORD(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"><span class="comment">-- ä¿®æ”¹æŒ‡å®šç”¨æˆ·çš„å¯†ç </span></span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="keyword">FOR</span> zz <span class="operator">=</span> PASSWORD(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"><span class="comment">-- é‡å‘½å</span></span><br><span class="line">RENAME <span class="keyword">USER</span> zz <span class="keyword">TO</span> zzz</span><br><span class="line"><span class="comment">-- ç”¨æˆ·æˆæƒ</span></span><br><span class="line"><span class="comment">-- ALL PRIVILEGESé™¤äº†ç»™åˆ«äººæˆæƒï¼Œå…¶ä»–æƒé™éƒ½æœ‰</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> zzz</span><br><span class="line"><span class="comment">-- æŸ¥çœ‹æˆæƒ</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> zzz</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> root<span class="variable">@localhost</span></span><br><span class="line"><span class="comment">-- æ’¤é”€æƒé™</span></span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">ON</span> zzz</span><br><span class="line"><span class="comment">-- åˆ é™¤ç”¨æˆ·</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> zzz</span><br></pre></td></tr></table></figure>
<h2 id="8-2-MySQLå¤‡ä»½"><a href="#8-2-MySQLå¤‡ä»½" class="headerlink" title="8.2 MySQLå¤‡ä»½"></a>8.2 MySQLå¤‡ä»½</h2><p>ä¸ºä»€ä¹ˆè¦å¤‡ä»½:</p>
<ul>
<li>ä¿è¯é‡è¦çš„æ•°æ®ä¸ä¸¢å¤±</li>
<li>æ•°æ®è½¬ç§»</li>
</ul>
<p>MySQLæ•°æ®åº“å¤‡ä»½çš„æ–¹å¼</p>
<ul>
<li><p>æ‹·è´ç‰©ç†æ–‡ä»¶</p>
</li>
<li><p>åœ¨Sqlyogè¿™ç§å¯è§†åŒ–å·¥å…·ä¸­å¯¼å‡º</p>
<ul>
<li>åœ¨æƒ³è¦å¯¼å‡ºæ•°æ®åº“æˆ–è¡¨å³é”®å¯¼å‡º<img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808151419380.png" alt="image-20200808151419380"></li>
</ul>
</li>
<li><p>ä½¿ç”¨å‘½ä»¤è¡Œåˆ°å¤„mysqldumpå‘½ä»¤è¡Œå¯¼å‡º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mysqldump -h ä¸»æœº -uç”¨æˆ·å -på¯†ç  æ•°æ®åº“ è¡¨1 è¡¨2 è¡¨3... &gt;ç‰©ç†ç£ç›˜ä½ç½®/æ–‡ä»¶å</span></span><br><span class="line">C:\User\Administrator&gt;mysqldump -hlocalhost -uroot -p123456 school student &gt;D:/a.sql</span><br><span class="line"><span class="comment"># mysqldump -h ä¸»æœº -uç”¨æˆ·å -på¯†ç  æ•°æ®åº“  &gt;ç‰©ç†ç£ç›˜ä½ç½®/æ–‡ä»¶å</span></span><br><span class="line">C:\User\Administrator&gt;mysqldump -hlocalhost -uroot -p123456 school &gt;D:/a.sql</span><br><span class="line"><span class="comment"># å¯¼å…¥</span></span><br><span class="line"><span class="comment"># ç™»å½•çš„æƒ…å†µä¸‹,åˆ‡æ¢åˆ°æŒ‡å®šçš„æ•°æ®åº“</span></span><br><span class="line"><span class="built_in">source</span> d:/a.sql</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="9-è§„èŒƒæ•°æ®åº“è®¾è®¡"><a href="#9-è§„èŒƒæ•°æ®åº“è®¾è®¡" class="headerlink" title="9 è§„èŒƒæ•°æ®åº“è®¾è®¡"></a>9 è§„èŒƒæ•°æ®åº“è®¾è®¡</h1><h2 id="9-1-ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡"><a href="#9-1-ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡" class="headerlink" title="9.1 ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡"></a>9.1 ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡</h2><p>ç³Ÿç³•çš„æ•°æ®åº“è®¾è®¡:</p>
<ul>
<li>æ•°æ®å†—ä½™,æµªè´¹ç©ºé—´</li>
<li>æ•°æ®åº“æ’å…¥å’Œåˆ é™¤éƒ½ä¼šéº»çƒ¦,å¼‚å¸¸[å±è”½ä½¿ç”¨ç‰©ç†å¤–é”®]</li>
<li>æ€§èƒ½å·®</li>
</ul>
<p>è‰¯å¥½çš„æ•°æ®åº“è®¾è®¡:</p>
<ul>
<li>èŠ‚çœå†…å­˜ç©ºé—´</li>
<li>ä¿è¯æ•°æ®åº“å®Œæ•´æ€§</li>
<li>æ–¹ä¾¿å¼€å‘ç³»ç»Ÿ</li>
</ul>
<p>è½¯ä»¶å¼€å‘ä¸­,å…³äºæ•°æ®åº“çš„è®¾è®¡</p>
<ul>
<li>åˆ†æéœ€æ±‚:åˆ†æä¸šåŠ¡å’Œéœ€è¦å¤„ç†çš„æ•°æ®åº“çš„éœ€æ±‚</li>
<li>æ¦‚è¦è®¾è®¡:è®¾è®¡å…³ç³»å›¾E-Rå›¾</li>
</ul>
<p>è®¾è®¡æ•°æ®åº“çš„æ­¥éª¤:(ä¸ªäººåšå®¢)</p>
<ul>
<li>æ”¶é›†ä¿¡æ¯,åˆ†æéœ€æ±‚<ul>
<li>ç”¨æˆ·è¡¨(ç”¨æˆ·ç™»å½•æ³¨é”€,ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯,å†™åšå®¢,åˆ›å»ºåˆ†ç±»)</li>
<li>åˆ†ç±»è¡¨(æ–‡ç« åˆ†ç±»,è°åˆ›å»ºçš„)</li>
<li>æ–‡ç« è¡¨(æ–‡ç« çš„ä¿¡æ¯)</li>
<li>è¯„è®ºè¡¨</li>
<li>å‹é“¾è¡¨</li>
<li>è‡ªå®šä¹‰è¡¨(ç³»ç»Ÿä¿¡æ¯)</li>
</ul>
</li>
<li>æ ‡è¯†å®ä½“ç±»(æŠŠéœ€æ±‚è½å®åˆ°å­—æ®µ)</li>
<li>æ ‡è¯†å®ä½“ä¹‹é—´çš„å…³ç³»<ul>
<li>å†™åšå®¢user-&gt;blog</li>
<li>åˆ›å»ºåˆ†ç±»user-&gt;category</li>
<li>å…³æ³¨user-&gt;user</li>
<li>å‹é“¾</li>
<li>è¯„è®º user-user-blog</li>
</ul>
</li>
</ul>
<h2 id="9-2-ä¸‰å¤§èŒƒå¼"><a href="#9-2-ä¸‰å¤§èŒƒå¼" class="headerlink" title="9.2 ä¸‰å¤§èŒƒå¼"></a>9.2 ä¸‰å¤§èŒƒå¼</h2><p>ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®è§„èŒƒåŒ–</p>
<ul>
<li>ä¿¡æ¯é‡å¤</li>
<li>æ›´æ–°å¼‚å¸¸</li>
<li>æ’å…¥å¼‚å¸¸<ul>
<li>æ— æ³•æ­£å¸¸æ˜¾ç¤ºä¿¡æ¯</li>
</ul>
</li>
<li>åˆ é™¤å¼‚å¸¸<ul>
<li>ä¸¢å¤±æœ‰æ•ˆçš„ä¿¡æ¯</li>
</ul>
</li>
</ul>
<blockquote>
<p>ä¸‰å¤§èŒƒå¼</p>
</blockquote>
<p><strong>ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼š</strong></p>
<p><strong>åŸå­æ€§</strong></p>
<p>è¦æ±‚æ•°æ®åº“è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸå­æ•°æ®é¡¹ã€‚</p>
<p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808160708396.png" alt="image-20200808160708396"></p>
<p><strong>ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼š</strong></p>
<p><strong>å‰æ:æ»¡è¶³ç¬¬ä¸€èŒƒå¼</strong></p>
<p><strong>æ¯å¼ è¡¨åªæè¿°ä¸€ä»¶äº‹</strong></p>
<p>ç¬¬äºŒèŒƒå¼éœ€è¦ç¡®ä¿æ•°æ®åº“è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å’Œä¸»é”®ç›¸å…³ï¼Œè€Œä¸èƒ½åªä¸ä¸»é”®çš„æŸä¸€éƒ¨åˆ†ç›¸å…³ï¼ˆä¸»è¦é’ˆå¯¹è”åˆä¸»é”®è€Œè¨€ï¼‰ã€‚</p>
<p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808160652218.png" alt="image-20200808160652218"></p>
<p><strong>ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼š</strong></p>
<p><strong>å‰æ:æ»¡è¶³ç¬¬äºŒèŒƒå¼</strong></p>
<p><strong>ç¬¬ä¸‰èŒƒå¼éœ€è¦ç¡®ä¿æ•°æ®è¡¨ä¸­çš„æ¯ä¸€åˆ—æ•°æ®éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ï¼Œè€Œä¸èƒ½é—´æ¥ç›¸å…³ã€‚</strong><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808160637956.png" alt="image-20200808160637956"></p>
<p><strong>è§„èŒƒæ•°æ®åº“çš„è®¾è®¡</strong></p>
<p>è§„èŒƒæ€§å’Œæ€§èƒ½çš„é—®é¢˜</p>
<p>å…³è”æŸ¥è¯¢çš„è¡¨ä¸å¾—è¶…è¿‡ä¸‰å¼ è¡¨</p>
<ul>
<li>è€ƒè™‘åˆ°å•†ä¸šåŒ–çš„éœ€æ±‚å’Œç›®æ ‡(æˆæœ¬,ç”¨æˆ·ä½“éªŒ),æ•°æ®åº“çš„æ€§èƒ½æ›´åŠ é‡è¦</li>
<li>åœ¨è§„èŒƒæ€§èƒ½é—®é¢˜çš„æ—¶å€™é€‚å½“è€ƒè™‘è§„èŒƒæ€§</li>
<li>æ•…æ„åœ¨æŸäº›è¡¨æ·»åŠ å†—ä½™å­—æ®µ,ä»å¤šè¡¨æŸ¥è¯¢å˜ä¸ºå•è¡¨æŸ¥è¯¢</li>
<li>æ•…æ„å¢åŠ ä¸€äº›è®¡ç®—åˆ—,ä»å¤§æ•°æ®é‡é™ä½ä¸ºå°æ•°æ®é‡çš„æŸ¥è¯¢</li>
</ul>
<h1 id="10-JDBC"><a href="#10-JDBC" class="headerlink" title="10 JDBC"></a>10 JDBC</h1><h2 id="10-1-æ•°æ®åº“é©±åŠ¨"><a href="#10-1-æ•°æ®åº“é©±åŠ¨" class="headerlink" title="10.1 æ•°æ®åº“é©±åŠ¨"></a>10.1 æ•°æ®åº“é©±åŠ¨</h2><p>é©±åŠ¨:å£°å¡,æ˜¾å¡,æ•°æ®åº“</p>
<p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808161246632.png" alt="image-20200808161246632"></p>
<p>ç¨‹åºä¼šé€šè¿‡æ•°æ®åº“é©±åŠ¨ä¸æ•°æ®åº“æ‰“äº¤é“</p>
<h2 id="10-2-JDBC"><a href="#10-2-JDBC" class="headerlink" title="10.2 JDBC"></a>10.2 JDBC</h2><p>SUNå…¬å¸ä¸ºäº†ç®€åŒ–å¼€å‘äººå‘˜çš„(å¯¹æ•°æ®åº“çš„ç»Ÿä¸€)æ“ä½œ,æä¾›äº†ä¸€ä¸ª(Javaæ“ä½œæ•°æ®åº“çš„)è§„èŒƒ,ä¿—ç§°JDBC,è¿™äº›è§„èŒƒçš„å®ç°ç”±å…·ä½“çš„å‚å•†å»åš</p>
<p>å¯¹å¼€å‘äººå‘˜æ¥è¯´,åªéœ€è¦æŒæ¡JDBCçš„æ¥å£å³å¯</p>
<p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808161747716.png" alt="image-20200808161747716"></p>
<p>java.sql</p>
<p>javax.sql</p>
<h2 id="10-3-ç¬¬ä¸€ä¸ªJDBCç¨‹åº"><a href="#10-3-ç¬¬ä¸€ä¸ªJDBCç¨‹åº" class="headerlink" title="10.3 ç¬¬ä¸€ä¸ªJDBCç¨‹åº"></a>10.3 ç¬¬ä¸€ä¸ªJDBCç¨‹åº</h2><blockquote>
<p>åˆ›å»ºæµ‹è¯•æ•°æ®åº“</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE jdbcStudy <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"></span><br><span class="line">USE jdbcStudy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `users`(</span><br><span class="line">id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">NAME <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">PASSWORD <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">email <span class="type">VARCHAR</span>(<span class="number">60</span>),</span><br><span class="line">birthday <span class="type">DATE</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `users`(id,NAME,PASSWORD,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zhansan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;zs@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;lisi@sina.com&#x27;</span>,<span class="string">&#x27;1981-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;wangwu@sina.com&#x27;</span>,<span class="string">&#x27;1979-12-04&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ol>
<li>åˆ›å»ºä¸€ä¸ªé¡¹ç›®</li>
<li>å¯¼å…¥æ•°æ®åº“é©±åŠ¨</li>
<li>æµ‹è¯•ä»£ç </li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sun.org.apache.xml.internal.utils.res.XResources_ko;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcFirstDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="comment">//1 åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//2 ç”¨æˆ·ä¿¡æ¯å’Œurl useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="comment">//3 è¿æ¥æˆåŠŸï¼Œè·å¾—æ•°æ®åº“å¯¹è±¡</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">        <span class="comment">//4 æ‰§è¡ŒSQLçš„å¯¹è±¡</span></span><br><span class="line">        <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        <span class="comment">//5 æ‰§è¡ŒSQLçš„å¯¹è±¡ å»æ‰§è¡ŒSQLï¼Œå¯èƒ½å­˜åœ¨ç»“æœï¼ŒæŸ¥çœ‹ç»“æœ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM`users`;&quot;</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;id=&quot;</span>+resultSet.getObject(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;name=&quot;</span>+resultSet.getObject(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;pwd=&quot;</span>+resultSet.getObject(<span class="string">&quot;PASSWORD&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;email=&quot;</span>+resultSet.getObject(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">            System.out.println(<span class="string">&quot;birth=&quot;</span>+resultSet.getObject(<span class="string">&quot;birthday&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//6 é‡Šæ”¾è¿æ¥</span></span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤æ€»ç»“:</p>
<ol>
<li>åŠ è½½é©±åŠ¨</li>
<li>è¿æ¥æ•°æ®åº“DriverManager</li>
<li>è·å¾—æ‰§è¡Œçš„sqlå¯¹è±¡ Statement</li>
<li>è·å¾—è¿”å›çš„ç»“æœé›†</li>
<li>é‡Šæ”¾è¿æ¥</li>
</ol>
<blockquote>
<p>DriverManager</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">        <span class="comment">//DriverManager.registerDriver(new com.mysql.jdbc.Driver()) ;</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line"> 		<span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, username, password);</span><br><span class="line"><span class="comment">//connection ä»£è¡¨æ•°æ®åº“</span></span><br><span class="line"><span class="comment">// æ•°æ®åº“è®¾ç½®è‡ªåŠ¨æäº¤</span></span><br><span class="line"><span class="comment">//äº‹åŠ¡æäº¤</span></span><br><span class="line"><span class="comment">//äº‹åŠ¡å›æ»š</span></span><br><span class="line">connertion.rollback();</span><br><span class="line">connertion.commit();</span><br><span class="line">connection.setAutoComitted();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>URL</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&quot;</span>;</span><br><span class="line"><span class="comment">//mysql --3306</span></span><br><span class="line"><span class="comment">//åè®®://ä¸»æœºåœ°å€:ç«¯å£å·/æ•°æ®åº“å?å‚æ•°1&amp;å‚æ•°2&amp;å‚æ•°3</span></span><br><span class="line"><span class="comment">//oracle  --1521</span></span><br><span class="line"><span class="comment">//jdbc:oracle:thin:@localhost:1521:sid</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Statement æ‰§è¡ŒSQLçš„å¯¹è±¡  PrepareStatement æ‰§è¡ŒSQLçš„å¯¹è±¡</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">statement.executeQuery();<span class="comment">//æŸ¥è¯¢æ“ä½œï¼Œè¿”å› ResultSet</span></span><br><span class="line">statement.execute();<span class="comment">//æ‰§è¡Œä»»ä½•SQL æ•ˆç‡ä½</span></span><br><span class="line">statement.executeUpdate();<span class="comment">// æ›´æ–°ã€æ’å…¥ã€åˆ é™¤ï¼Œè¿”å›ä¸€ä¸ªå—å½±å“çš„è¡Œæ•°</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ResultSet æŸ¥è¯¢çš„ç»“æœé›†:å°è£…äº†æ‰€æœ‰çš„æŸ¥è¯¢ç»“æœ</p>
</blockquote>
<p>è·å¾—æŒ‡å®šçš„æ•°æ®ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.getObject();<span class="comment">//ä¸çŸ¥é“åˆ—ç±»å‹</span></span><br><span class="line">resultSet.getString();<span class="comment">//å­—ç¬¦ä¸²</span></span><br><span class="line">resultSet.getInt();<span class="comment">//Intå‹</span></span><br><span class="line">resultSet.getFloat();<span class="comment">//Floatç±»å‹</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>éå†,æŒ‡é’ˆ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.beforeFirst();<span class="comment">//ç§»åŠ¨åˆ°æœ€å‰é¢</span></span><br><span class="line">resultSet.afterLast();<span class="comment">//ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ</span></span><br><span class="line">resultSet.next();<span class="comment">//ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ</span></span><br><span class="line">resultSet.previous();<span class="comment">//ç§»åŠ¨åˆ°å‰ä¸€è¡Œ</span></span><br><span class="line">resultSet.absolute(row);<span class="comment">//ç§»åŠ¨åˆ°æŒ‡å®šè¡Œ</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>é‡Šæ”¾èµ„æº</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">resultSet.close();</span><br><span class="line">statement.close();</span><br><span class="line">connection.close();</span><br></pre></td></tr></table></figure>
<h2 id="10-4-statementå¯¹è±¡"><a href="#10-4-statementå¯¹è±¡" class="headerlink" title="10.4 statementå¯¹è±¡"></a>10.4 statementå¯¹è±¡</h2><p>Jdbcä¸­çš„statementå¯¹è±¡ç”¨äºå‘æ•°æ®åº“å‘é€SQLè¯­å¥,åƒå®Œæˆå¯¹æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥,åªéœ€è¦é€šè¿‡è¿™ä¸ªå¯¹è±¡å¯¹æ•°æ®åº“å‘é€å¢åˆ æ”¹æŸ¥çš„è¯­å¥å³å¯</p>
<p>Statementå¯¹è±¡çš„executeUpdateæ–¹æ³•ç”¨äºå‘æ•°æ®åº“å‘é€å¢åˆ æ”¹çš„sqlè¯­å¥,executeUpdateæ‰§è¡Œå®Œå,ä¼šè¿”å›ä¸€ä¸ªæ•´æ•°(å³å¢åˆ æ”¹è¯­å¥å¯¼è‡´äº†æ•°æ®åº“å‡ è¡Œæ•°æ®å‘ç”Ÿäº†å˜åŒ–)</p>
<p>Statement.executeQueryæ–¹æ³•ç”¨äºå‘æ•°æ®åº“å‘é€æŸ¥è¯¢è¯­å¥,executeQueryæ–¹æ³•çš„è¿”å›å€¼ä»£è¡¨æŸ¥è¯¢ç»“æœçš„ResultSetå¯¹è±¡</p>
<blockquote>
<p>CRUDæ“ä½œ-create</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into user(...) values(...)&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> statement.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span> (num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;æ’å…¥æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CRUDæ“ä½œ-delete</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from user where id = 1&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> statement.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span> (num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CRUDæ“ä½œ-update</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update user set name = &#x27;&#x27; where name = &#x27;&#x27;&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> statement.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span> (num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CRUDæ“ä½œ-read</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from user where id = 1&quot;</span>;</span><br><span class="line"><span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span> (re.next)&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä»£ç å®ç°</p>
</blockquote>
<ol>
<li><p>æå–å·¥å…·ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson02.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcUtils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span>  <span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span>  <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span>  <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">static</span>  <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> JdbcUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;db.properties&quot;</span>);</span><br><span class="line">            <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">            properties.load(in);</span><br><span class="line"></span><br><span class="line">            driver = properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">            url = properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">            username = properties.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">            password = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//é©±åŠ¨åªç”¨åŠ è½½ä¸€æ¬¡</span></span><br><span class="line">            Class.forName(driver);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–è¿æ¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é‡Šæ”¾èµ„æº</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">(Connection cnn, Statement st, ResultSet rs)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(rs != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(st != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                st.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnn != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                cnn.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>ç¼–å†™å¢åˆ æ”¹çš„æ–¹æ³•</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestInsert</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            st = cnn.createStatement();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;INSERT INTO `users`(`id`,`NAME`,`PASSWORD`,`email`,`birthday`)\n&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;VALUES(&#x27;4&#x27;,&#x27;z&#x27;,&#x27;123456&#x27;,&#x27;123124@qq.com&#x27;,&#x27;1990-12-11&#x27;)&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span> (i &gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDelete</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            st = cnn.createStatement();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;DELETE FROM `users` WHERE id = 4&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span> (i &gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUpdate</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            st = cnn.createStatement();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;UPDATE `users` SET `NAME`=&#x27;zz&#x27; WHERE `id` = 1&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> st.executeUpdate(sql);</span><br><span class="line">            <span class="keyword">if</span> (i &gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li>æŸ¥è¯¢</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestQuery</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            st = cnn.createStatement();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM `users` where `id` = 1&quot;</span>;</span><br><span class="line">            rs = st.executeQuery(sql);</span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>SQLæ³¨å…¥çš„é—®é¢˜</p>
</blockquote>
<p>sqlå­˜åœ¨æ¼æ´,ä¼šè¢«æ”»å‡»å¯¼è‡´æ•°æ®æ³„éœ²,==SQLä¼šè¢«æ‹¼æ¥or==</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.utils.jdbcutils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SQLinject</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">             login(<span class="string">&quot;&#x27;&#x27; or 1=1&quot;</span>,<span class="string">&quot;&#x27;&#x27; or 1=1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String username,String password)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        Connection connection=<span class="literal">null</span>;</span><br><span class="line">        Statement statement=<span class="literal">null</span>;</span><br><span class="line">        ResultSet rs=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//SELECT * FROM `users` WHERE `NAME`=&#x27;&#x27; or 1=1 AND `PASSWORD`=&#x27;&#x27; or 1=1 ;</span></span><br><span class="line">            <span class="comment">//è·å–è¿æ¥</span></span><br><span class="line">            connection = jdbcutils.getConnection();</span><br><span class="line">            <span class="comment">//è·å–sqlå¯¹è±¡</span></span><br><span class="line">            statement = connection.createStatement();</span><br><span class="line">            <span class="comment">//sql</span></span><br><span class="line">            String sql=<span class="string">&quot;SELECT * FROM `users` WHERE `NAME`= &quot;</span>+<span class="string">&quot;&#x27;&quot;</span>+username+<span class="string">&quot;&#x27;&quot;</span>+<span class="string">&quot; AND `PASSWORD`=&quot;</span>+<span class="string">&quot;&#x27;&quot;</span>+password+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">            <span class="comment">//æŸ¥è¯¢è·å–è¿”å›é›†åˆ</span></span><br><span class="line">            <span class="type">ResultSet</span> <span class="variable">query</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line">            <span class="comment">//éå†</span></span><br><span class="line">            <span class="keyword">while</span> (query.next())&#123;</span><br><span class="line">                System.out.println(query.getObject(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                System.out.println(query.getObject(<span class="string">&quot;PASSWORD&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            jdbcutils.release(connection,statement,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-5-PreparedStatementå¯¹è±¡"><a href="#10-5-PreparedStatementå¯¹è±¡" class="headerlink" title="10.5 PreparedStatementå¯¹è±¡"></a>10.5 PreparedStatementå¯¹è±¡</h2><p>PreparedStatementå¯ä»¥æˆ¿ä¸»SQLæ³¨å…¥,æ•ˆç‡æ›´å¥½</p>
<p>å¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestInsert</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">pstm</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">//åŒºåˆ«</span></span><br><span class="line">            <span class="comment">//ä½¿ç”¨?å ä½ç¬¦</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;INSERT INTO `users`(`id`,`NAME`,`PASSWORD`,`email`,`birthday`) VALUES(?,?,?,?,?)&quot;</span>;</span><br><span class="line">            pstm = cnn.prepareStatement(sql);<span class="comment">//é¢„ç¼–è¯‘SQLï¼Œå…ˆå†™SQLï¼Œä¸æ‰§è¡Œ</span></span><br><span class="line">            pstm.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line">            pstm.setString(<span class="number">2</span>,<span class="string">&quot;asda&quot;</span>);</span><br><span class="line">            pstm.setString(<span class="number">3</span>,<span class="string">&quot;asda&quot;</span>);</span><br><span class="line">            pstm.setString(<span class="number">4</span>,<span class="string">&quot;asda&quot;</span>);</span><br><span class="line">            <span class="comment">//util.Date ä¸ sql.Date ä¸åŒ</span></span><br><span class="line">            pstm.setDate(<span class="number">5</span>,<span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(<span class="keyword">new</span> <span class="title class_">Date</span>().getTime()));</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> pstm.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,pstm,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åˆ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDelete</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">pstm</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">//åŒºåˆ«</span></span><br><span class="line">            <span class="comment">//ä½¿ç”¨?å ä½ç¬¦</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from `users` where `id` = ?&quot;</span>;</span><br><span class="line">            pstm = cnn.prepareStatement(sql);<span class="comment">//é¢„ç¼–è¯‘SQLï¼Œå…ˆå†™SQLï¼Œä¸æ‰§è¡Œ</span></span><br><span class="line">            pstm.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> pstm.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,pstm,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ”¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUpdate</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">pstm</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">//åŒºåˆ«</span></span><br><span class="line">            <span class="comment">//ä½¿ç”¨?å ä½ç¬¦</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update `users` set `name` =? where id = ?&quot;</span>;</span><br><span class="line">            pstm = cnn.prepareStatement(sql);<span class="comment">//é¢„ç¼–è¯‘SQLï¼Œå…ˆå†™SQLï¼Œä¸æ‰§è¡Œ</span></span><br><span class="line">            pstm.setString(<span class="number">1</span>,<span class="string">&quot;zz&quot;</span>);</span><br><span class="line">            pstm.setInt(<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//util.Date ä¸ sql.Date ä¸åŒ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> pstm.executeUpdate();</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,pstm,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æŸ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSelect</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">cnn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">pstm</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cnn = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">//åŒºåˆ«</span></span><br><span class="line">            <span class="comment">//ä½¿ç”¨?å ä½ç¬¦</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from `users` where `id` =?&quot;</span>;</span><br><span class="line">            pstm = cnn.prepareStatement(sql);<span class="comment">//é¢„ç¼–è¯‘SQLï¼Œå…ˆå†™SQLï¼Œä¸æ‰§è¡Œ</span></span><br><span class="line">            pstm.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            rs = pstm.executeQuery();</span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                System.out.println(rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(cnn,pstm,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>SQLæ³¨å…¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSQLInject</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        login(<span class="string">&quot;&#x27; or &#x27;1=1&quot;</span>,<span class="string">&quot;&#x27; or &#x27;1=1&quot;</span>);</span><br><span class="line">        login(<span class="string">&quot;zz&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String username,String password)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        Connection conn=<span class="literal">null</span>;</span><br><span class="line">        PreparedStatement st=<span class="literal">null</span>;</span><br><span class="line">        ResultSet rs=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//SELECT * FROM `users` WHERE `NAME`=&#x27;&#x27; or 1=1 AND `PASSWORD`=&#x27;&#x27; or 1=1 ;</span></span><br><span class="line">            <span class="comment">//è·å–è¿æ¥</span></span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line">            <span class="comment">//PrepareStatement é˜²æ­¢SQLæ³¨å…¥çš„æœ¬è´¨ï¼ŒæŠŠä¼ é€’è¿›æ¥çš„å‚æ•°å½“ä½œå­—ç¬¦</span></span><br><span class="line">            <span class="comment">//å…¶ä¸­å­˜åœ¨è½¬ä¹‰å­—ç¬¦ä¼šè¢«ç›´æ¥è½¬ä¹‰</span></span><br><span class="line">            <span class="comment">//sql</span></span><br><span class="line">            String sql=<span class="string">&quot;SELECT * FROM `users` WHERE `NAME`= ? AND `PASSWORD`=?&quot;</span>;</span><br><span class="line">            <span class="comment">//æŸ¥è¯¢è·å–è¿”å›é›†åˆ</span></span><br><span class="line">            st = conn.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">            st.setString(<span class="number">1</span>,username);</span><br><span class="line">            st.setString(<span class="number">2</span>,password);</span><br><span class="line">            rs = st.executeQuery();</span><br><span class="line">            <span class="comment">//éå†</span></span><br><span class="line">            <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">                System.out.println(rs.getObject(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                System.out.println(rs.getObject(<span class="string">&quot;PASSWORD&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (</span><br><span class="line">                SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="10-7ä½¿ç”¨IDEAè¿æ¥æ•°æ®åº“"><a href="#10-7ä½¿ç”¨IDEAè¿æ¥æ•°æ®åº“" class="headerlink" title="10.7ä½¿ç”¨IDEAè¿æ¥æ•°æ®åº“"></a>10.7ä½¿ç”¨IDEAè¿æ¥æ•°æ®åº“</h2><p>æ·»åŠ æ•°æ®åº“</p>
<p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808195903296.png" alt="image-20200808195903296"></p>
<p>é€‰æ‹©æ•°æ®åº“<img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808202246383.png" alt="image-20200808202246383"></p>
<p>ç¼–å†™SQLè¯­å¥</p>
<p><img src="/2022/04/15/MySQL/Users\ZZ\AppData\Roaming\Typora\typora-user-images\image-20200808202312433.png" alt="image-20200808202312433"></p>
<h2 id="10-8-äº‹åŠ¡"><a href="#10-8-äº‹åŠ¡" class="headerlink" title="10.8 äº‹åŠ¡"></a>10.8 äº‹åŠ¡</h2><p>==è¦ä¹ˆéƒ½æˆåŠŸ,è¦ä¹ˆéƒ½å¤±è´¥==</p>
<blockquote>
<p>ACIDåŸåˆ™</p>
</blockquote>
<p>åŸå­æ€§ ä¸€è‡´æ€§ éš”ç¦»æ€§ æŒä¹…æ€§</p>
<blockquote>
<p>ä»£ç å®ç°</p>
</blockquote>
<ol>
<li>å¼€å¯äº‹åŠ¡</li>
<li>ä¸€ç»„ä¸šåŠ¡æ‰§è¡Œå®Œæ¯•,æäº¤äº‹åŠ¡</li>
<li>å¯ä»¥åœ¨catchè¯­å¥ä¸­æ˜¾ç¤ºçš„å®šä¹‰å›æ»šè¯­å¥,ä½†é»˜è®¤å¤±è´¥å°±ä¼šå›æ»š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.lesson04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestTransaction1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">st</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = JdbcUtils.getConnection();</span><br><span class="line">            conn.setAutoCommit(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql1</span> <span class="operator">=</span> <span class="string">&quot;update account set money = money - 100 where NAME =  &#x27;a&#x27;&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql1);</span><br><span class="line">            st.executeUpdate();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;update account set money = money + 100 where NAME =  &#x27;b&#x27;&quot;</span>;</span><br><span class="line">            st = conn.prepareStatement(sql2);</span><br><span class="line">            st.executeUpdate();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//ä¸šåŠ¡å®Œæ¯•æäº¤äº‹åŠ¡</span></span><br><span class="line">            conn.commit();</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.rollback();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(conn,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="10-9-æ•°æ®åº“è¿æ¥æ± "><a href="#10-9-æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="10.9 æ•°æ®åº“è¿æ¥æ± "></a>10.9 æ•°æ®åº“è¿æ¥æ± </h2><p>æ•°æ®åº“è¿æ¥-æ‰§è¡Œå®Œæ¯•-é‡Šæ”¾</p>
<p>è¿æ¥-é‡Šæ”¾ ååˆ†æµªè´¹ç³»ç»Ÿèµ„æº</p>
<p><strong>æ± åŒ–æŠ€æœ¯:å‡†å¤‡ä¸€äº›é¢„å…ˆçš„èµ„æº,è¿‡æ¥å°±è¿æ¥é¢„å…ˆå‡†å¤‡å¥½çš„</strong></p>
<p>æœ€å°è¿æ¥æ•°</p>
<p>æœ€å¤§è¿æ¥æ•°:ä¸šåŠ¡æœ€é«˜æ‰¿è½½ä¸Šé™</p>
<p>è¶…è¿‡æœ€å¤§è¿æ¥æ•°,æ’é˜Ÿç­‰å¾…</p>
<p>ç­‰å¾…è¶…æ—¶:</p>
<p>ç¼–å†™è¿æ¥æ± ,å®ç°ä¸€ä¸ªæ¥å£ DataSource</p>
<blockquote>
<p>å¼€æºæ•°æ®æºå®ç°</p>
</blockquote>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid:é˜¿é‡Œå·´å·´</p>
<p>ä½¿ç”¨äº†è¿™äº›æ•°æ®åº“è¿æ¥æ± ä¹‹åï¼Œåœ¨é¡¹ç›®å¼€å‘ä¸­å°±ä¸éœ€è¦ç¼–å†™è¿æ¥æ•°æ®åº“çš„ä»£ç äº†</p>
<blockquote>
<p>DBCP</p>
</blockquote>
<p>éœ€è¦ç”¨åˆ°</p>
<p>commons-dbcp-1.4ã€commons-pool-1.6</p>
<blockquote>
<p>C3P0</p>
</blockquote>
<p>éœ€è¦ç”¨åˆ°</p>
<p> c3p0-0.9.5.5.jar ã€mchange-commons-java-0.2.19.jar</p>
<blockquote>
<p>ç»“è®º</p>
</blockquote>
<p>æ— è®ºä½¿ç”¨ä»€ä¹ˆæ•°æ®æºï¼Œæœ¬è´¨è¿˜æ˜¯ä¸€æ ·çš„ï¼ŒDataSourceæ¥å£ä¸ä¼šå˜</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç ï¼š<a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>MySQL</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒç»´å‡¸åŒ… Andrewç®—æ³•</title>
    <url>/2022/04/24/%E4%BA%8C%E7%BB%B4%E5%87%B8%E5%8C%85-Andrew%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h1 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h1><p>LeetCode: <a href="https://leetcode-cn.com/problems/erect-the-fence/">587.å®‰è£…æ …æ </a></p>
<p>åœ¨ä¸€ä¸ªäºŒç»´çš„èŠ±å›­ä¸­ï¼Œæœ‰ä¸€äº›ç”¨ (x, y) åæ ‡è¡¨ç¤ºçš„æ ‘ã€‚ç”±äºå®‰è£…è´¹ç”¨ååˆ†æ˜‚è´µï¼Œä½ çš„ä»»åŠ¡æ˜¯å…ˆç”¨æœ€çŸ­çš„ç»³å­å›´èµ·æ‰€æœ‰çš„æ ‘ã€‚åªæœ‰å½“æ‰€æœ‰çš„æ ‘éƒ½è¢«ç»³å­åŒ…å›´æ—¶ï¼ŒèŠ±å›­æ‰èƒ½å›´å¥½æ …æ ã€‚ä½ éœ€è¦æ‰¾åˆ°æ­£å¥½ä½äºæ …æ è¾¹ç•Œä¸Šçš„æ ‘çš„åæ ‡ã€‚</p>
<p>ç¤ºä¾‹:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input: [[1,1],[2,2],[2,0],[2,4],[3,3],[4,2]]</span><br><span class="line">output: [[1,1],[2,0],[4,2],[3,3],[2,4]]</span><br></pre></td></tr></table></figure>
<p><img src="/2022/04/24/%E4%BA%8C%E7%BB%B4%E5%87%B8%E5%8C%85-Andrew%E7%AE%97%E6%B3%95/erect_the_fence_1.png" alt></p>
<h1 id="Andrewç®—æ³•"><a href="#Andrewç®—æ³•" class="headerlink" title="Andrewç®—æ³•"></a>Andrewç®—æ³•</h1><h2 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p>Andrewç®—æ³•ç”¨äºè§£å†³äºŒç»´å‡¸åŒ…é—®é¢˜ã€‚å³åœ¨äºŒç»´å¹³é¢ä¸Šç”¨æœ€å°çš„å‘¨é•¿åŒ…å›´æ‰€æœ‰ç‚¹ã€‚å› ä¸ºå‘¨é•¿æœ€å°ï¼Œè¾¹ç•Œä¸€å®šæ˜¯å‡¸å¤šè¾¹å½¢ã€‚æ‰€ä»¥ä»ä¸€ä¸ªç‚¹å‡ºå‘ï¼Œé€†æ—¶é’ˆæ–¹å‘ï¼Œç›¸é‚»ä¸¤æ¡è¾¹å¤¹è§’ä¸€å®šå°äºç­‰äº180Â°ï¼ˆå‘é‡å¤¹è§’ï¼‰ã€‚è‹¥å¤§äºï¼Œåˆ™ä¸€å®šä¸æ˜¯è¾¹ç•Œçš„ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿™æ ·çš„æ–¹å¼æ¥åˆ¤æ–­ç‚¹æ˜¯å¦åœ¨è¾¹ç•Œä¸Šã€‚</p>
<p>Andrewç®—æ³•å°†å‡¸åŒ…åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä»¥è¾¹ç•Œæœ€å·¦å’Œæœ€å³çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„è¿çº¿ä¸ºåˆ†ç•Œçº¿ï¼Œåˆ†ä¸ºä¸Šå£³å’Œä¸‹å£³ä¸¤éƒ¨åˆ†ã€‚ä¸‹å£³ä»xåæ ‡æœ€å°å€¼é¡ºæ—¶é’ˆâ€œæ‹â€åˆ°xæœ€å¤§å€¼ï¼›ä¸Šå£³ä»æœ€å¤§å€¼æ‹åˆ°æœ€å°å€¼ã€‚</p>
<p><img src="/2022/04/24/%E4%BA%8C%E7%BB%B4%E5%87%B8%E5%8C%85-Andrew%E7%AE%97%E6%B3%95/åˆ†ç•Œçº¿.png" alt></p>
<h2 id="ç®—æ³•æ­¥éª¤"><a href="#ç®—æ³•æ­¥éª¤" class="headerlink" title="ç®—æ³•æ­¥éª¤"></a>ç®—æ³•æ­¥éª¤</h2><ol>
<li>æ ¹æ®xåæ ‡å‡åºæ’åºï¼Œxç›¸åŒåˆ™yå‡åºæ’åº</li>
<li>ç”¨æ ˆç»´æŠ¤å‡¸åŒ…ï¼ˆè¾¹ç•Œï¼‰ä¸Šçš„ç‚¹ã€‚</li>
<li>è®¡ç®—ä¸‹å£³ï¼šä»å·¦åˆ°å³éå†èŠ‚ç‚¹ï¼Œå¯¹æ¯ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä¸æ ˆä¸­æœ€åä¸€ä¸ªèŠ‚ç‚¹ç»„æˆä¸€æ¡è¾¹ï¼Œæ ˆä¸­æœ€åä¸¤ä¸ªèŠ‚ç‚¹ç»„æˆä¸€æ¡è¾¹ï¼Œåˆ¤æ–­æ–°èŠ‚ç‚¹æ˜¯å¦åœ¨å‡¸åŒ…ä¸Š</li>
<li>å¦‚æœåœ¨å‡¸åŒ…ä¸Šï¼Œå…¥æ ˆï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å¦‚æœä¸åœ¨å‡¸åŒ…ä¸Šï¼Œå¾ªç¯å‡ºæ ˆï¼Œç›´è‡³æ–°èŠ‚ç‚¹ä¸æ ˆä¸­æœ€åä¸€ä¸ªèŠ‚ç‚¹ç»„æˆçš„è¾¹åœ¨å‡¸åŒ…ä¸Šã€‚</li>
<li>å¦‚æœæ ˆä¸­å°‘äºä¸¤ä¸ªç‚¹ï¼Œåˆ™èŠ‚ç‚¹ç›´æ¥å…¥æ ˆ</li>
<li>åŒç†ï¼Œä»å³åˆ°å·¦éå†ï¼Œè®¡ç®—ä¸Šå£³ã€‚</li>
</ol>
<h2 id="æ˜¯å¦åœ¨å‡¸åŒ…ä¸Šçš„åˆ¤æ–­"><a href="#æ˜¯å¦åœ¨å‡¸åŒ…ä¸Šçš„åˆ¤æ–­" class="headerlink" title="æ˜¯å¦åœ¨å‡¸åŒ…ä¸Šçš„åˆ¤æ–­"></a>æ˜¯å¦åœ¨å‡¸åŒ…ä¸Šçš„åˆ¤æ–­</h2><p>ç”¨ä¸¤ä¸ªè¾¹çš„å¤¹è§’ï¼ˆå‘é‡æè§’ï¼‰æ¥åˆ¤æ–­è½¨è¿¹é¡º/é€†æ—¶é’ˆæ—‹è½¬ï¼Œå³æ˜¯å¦åœ¨å‡¸åŒ…ä¸Šã€‚å¯¹äºå‘é‡$\vec{pq}$,$\vec{qr}$,å‘é‡çš„å‰ç§¯cross(p,q,r) =$\vec{pq}$Ã—$\vec{qr}$ï¼Œå¦‚æœå‰ç§¯å°äº 0ï¼Œå¯ä»¥çŸ¥é“å‘é‡ $\vec{pq}$,$\vec{qr}$é¡ºæ—¶é’ˆæ—‹è½¬ï¼Œåˆ™æ­¤æ—¶å‘å³æ‹ï¼›å¦‚æœå‰ç§¯å¤§äº 0ï¼Œå¯ä»¥çŸ¥é“å‘é‡ $\vec{pq}$,$\vec{qr}$ é€†æ—¶é’ˆæ—‹è½¬ï¼Œè¡¨ç¤ºæ˜¯å·¦æ‹ï¼›å¦‚æœå‰ç§¯ç­‰äº 0ï¼Œåˆ™ $\vec{pq}$,$\vec{qr}$åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cross</span>(<span class="params">p: <span class="type">List</span>[<span class="built_in">int</span>], q: <span class="type">List</span>[<span class="built_in">int</span>], r: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">return</span> (q[<span class="number">0</span>] - p[<span class="number">0</span>]) * (r[<span class="number">1</span>] - q[<span class="number">1</span>]) - (q[<span class="number">1</span>] - p[<span class="number">1</span>]) * (r[<span class="number">0</span>] - q[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">outerTrees</span>(<span class="params">self, trees: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">cross</span>(<span class="params">p: <span class="type">List</span>[<span class="built_in">int</span>], q: <span class="type">List</span>[<span class="built_in">int</span>], r: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">            <span class="keyword">return</span> (q[<span class="number">0</span>] - p[<span class="number">0</span>]) * (r[<span class="number">1</span>] - q[<span class="number">1</span>]) - (q[<span class="number">1</span>] - p[<span class="number">1</span>]) * (r[<span class="number">0</span>] - q[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        n = <span class="built_in">len</span>(trees)</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">4</span>:</span><br><span class="line">            <span class="keyword">return</span> trees</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŒ‰ç…§ x ä»å°åˆ°å¤§æ’åºï¼Œå¦‚æœ x ç›¸åŒï¼Œåˆ™æŒ‰ç…§ y ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">        trees.sort()</span><br><span class="line"></span><br><span class="line">        hull = [<span class="number">0</span>]  <span class="comment"># hull[0] éœ€è¦å…¥æ ˆä¸¤æ¬¡ï¼Œä¸æ ‡è®°</span></span><br><span class="line">        used = [<span class="literal">False</span>] * n</span><br><span class="line">        <span class="comment"># æ±‚å‡¸åŒ…çš„ä¸‹åŠéƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(hull) &gt; <span class="number">1</span> <span class="keyword">and</span> cross(trees[hull[-<span class="number">2</span>]], trees[hull[-<span class="number">1</span>]], trees[i]) &lt; <span class="number">0</span>:</span><br><span class="line">                used[hull.pop()] = <span class="literal">False</span></span><br><span class="line">            used[i] = <span class="literal">True</span></span><br><span class="line">            hull.append(i)</span><br><span class="line">        <span class="comment"># æ±‚å‡¸åŒ…çš„ä¸ŠåŠéƒ¨åˆ†</span></span><br><span class="line">        m = <span class="built_in">len</span>(hull)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> used[i]:</span><br><span class="line">                <span class="keyword">while</span> <span class="built_in">len</span>(hull) &gt; m <span class="keyword">and</span> cross(trees[hull[-<span class="number">2</span>]], trees[hull[-<span class="number">1</span>]], trees[i]) &lt; <span class="number">0</span>:</span><br><span class="line">                    used[hull.pop()] = <span class="literal">False</span></span><br><span class="line">                used[i] = <span class="literal">True</span></span><br><span class="line">                hull.append(i)</span><br><span class="line">        <span class="comment"># hull[0] åŒæ—¶å‚ä¸å‡¸åŒ…çš„ä¸ŠåŠéƒ¨åˆ†æ£€æµ‹ï¼Œå› æ­¤éœ€å»æ‰é‡å¤çš„ hull[0]</span></span><br><span class="line">        hull.pop()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> [trees[i] <span class="keyword">for</span> i <span class="keyword">in</span> hull]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
        <tag>Andrew</tag>
        <tag>å‡¸åŒ…</tag>
        <tag>å‡ ä½•</tag>
      </tags>
  </entry>
  <entry>
    <title>Springç¬”è®°</title>
    <url>/2022/04/15/Spring/</url>
    <content><![CDATA[<h1 id="1-Spring"><a href="#1-Spring" class="headerlink" title="1 Spring"></a>1 Spring</h1><h2 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h2><ul>
<li>æ˜¥å¤© â€”&gt;ç»™è½¯ä»¶è¡Œä¸šå¸¦æ¥äº†æ˜¥å¤©</li>
<li>2002å¹´ï¼ŒRod Jahnsoné¦–æ¬¡æ¨å‡ºäº†Springæ¡†æ¶é›å½¢interface21æ¡†æ¶ã€‚</li>
<li>2004å¹´3æœˆ24æ—¥ï¼ŒSpringæ¡†æ¶ä»¥interface21æ¡†æ¶ä¸ºåŸºç¡€ï¼Œç»è¿‡é‡æ–°è®¾è®¡ï¼Œå‘å¸ƒäº†1.0æ­£å¼ç‰ˆã€‚</li>
<li>Rod Johnsonçš„å­¦å† , ä»–æ˜¯æ‚‰å°¼å¤§å­¦çš„åšå£«ï¼Œç„¶è€Œä»–çš„ä¸“ä¸šä¸æ˜¯è®¡ç®—æœºï¼Œè€Œæ˜¯éŸ³ä¹å­¦ã€‚</li>
<li>Springç†å¿µ : ä½¿ç°æœ‰æŠ€æœ¯æ›´åŠ å®ç”¨ . æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤§æ‚çƒ© , æ•´åˆç°æœ‰çš„æ¡†æ¶æŠ€æœ¯</li>
</ul>
<p>å®˜æ–¹ä¸‹è½½åœ°å€ ï¼š <a href="https://repo.spring.io/libs-release-local/org/springframework/spring/">https://repo.spring.io/libs-release-local/org/springframework/spring/</a></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="1-2-ä¼˜ç‚¹"><a href="#1-2-ä¼˜ç‚¹" class="headerlink" title="1.2 ä¼˜ç‚¹"></a>1.2 ä¼˜ç‚¹</h2><ul>
<li>Springæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„æ¡†æ¶ (å®¹å™¨)ï¼</li>
<li>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¡†æ¶ , éä¾µå…¥å¼çš„</li>
<li><strong>æ§åˆ¶åè½¬ IoC  , é¢å‘åˆ‡é¢ Aop</strong></li>
<li>å¯¹äº‹åŠ¡çš„æ”¯æŒ , å¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒ</li>
</ul>
<p><strong>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IoC)å’Œé¢å‘åˆ‡é¢(AOP)çš„å®¹å™¨ï¼ˆæ¡†æ¶ï¼‰</strong></p>
<h2 id="1-3-ç»„æˆ"><a href="#1-3-ç»„æˆ" class="headerlink" title="1.3 ç»„æˆ"></a>1.3 ç»„æˆ</h2><p>Spring æ¡†æ¶æ˜¯ä¸€ä¸ªåˆ†å±‚æ¶æ„ï¼Œç”± 7 ä¸ªå®šä¹‰è‰¯å¥½çš„æ¨¡å—ç»„æˆã€‚Spring æ¨¡å—æ„å»ºåœ¨æ ¸å¿ƒå®¹å™¨ä¹‹ä¸Šï¼Œæ ¸å¿ƒå®¹å™¨å®šä¹‰äº†åˆ›å»ºã€é…ç½®å’Œç®¡ç† bean çš„æ–¹å¼ .</p>
<p><img src="/2022/04/15/Spring/untitled.png" alt="untitled"></p>
<p><img src="/2022/04/15/Spring/untitled-1597811081095.png" alt="untitled"></p>
<ul>
<li><strong>æ ¸å¿ƒå®¹å™¨</strong>ï¼šæ ¸å¿ƒå®¹å™¨æä¾› Spring æ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ã€‚æ ¸å¿ƒå®¹å™¨çš„ä¸»è¦ç»„ä»¶æ˜¯ BeanFactoryï¼Œå®ƒæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ã€‚BeanFactory ä½¿ç”¨<em>æ§åˆ¶åè½¬</em>ï¼ˆIOCï¼‰ æ¨¡å¼å°†åº”ç”¨ç¨‹åºçš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç åˆ†å¼€ã€‚</li>
<li><strong>Spring ä¸Šä¸‹æ–‡</strong>ï¼šSpring ä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘ Spring æ¡†æ¶æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚Spring ä¸Šä¸‹æ–‡åŒ…æ‹¬ä¼ä¸šæœåŠ¡ï¼Œä¾‹å¦‚ JNDIã€EJBã€ç”µå­é‚®ä»¶ã€å›½é™…åŒ–ã€æ ¡éªŒå’Œè°ƒåº¦åŠŸèƒ½ã€‚</li>
<li><strong>Spring AOP</strong>ï¼šé€šè¿‡é…ç½®ç®¡ç†ç‰¹æ€§ï¼ŒSpring AOP æ¨¡å—ç›´æ¥å°†é¢å‘åˆ‡é¢çš„ç¼–ç¨‹åŠŸèƒ½ , é›†æˆåˆ°äº† Spring æ¡†æ¶ä¸­ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ Spring æ¡†æ¶ç®¡ç†ä»»ä½•æ”¯æŒ AOPçš„å¯¹è±¡ã€‚Spring AOP æ¨¡å—ä¸ºåŸºäº Spring çš„åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æä¾›äº†äº‹åŠ¡ç®¡ç†æœåŠ¡ã€‚é€šè¿‡ä½¿ç”¨ Spring AOPï¼Œä¸ç”¨ä¾èµ–ç»„ä»¶ï¼Œå°±å¯ä»¥å°†å£°æ˜æ€§äº‹åŠ¡ç®¡ç†é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚</li>
<li><strong>Spring DAO</strong>ï¼šJDBC DAO æŠ½è±¡å±‚æä¾›äº†æœ‰æ„ä¹‰çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œå¯ç”¨è¯¥ç»“æ„æ¥ç®¡ç†å¼‚å¸¸å¤„ç†å’Œä¸åŒæ•°æ®åº“ä¾›åº”å•†æŠ›å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚å¼‚å¸¸å±‚æ¬¡ç»“æ„ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¹¶ä¸”æå¤§åœ°é™ä½äº†éœ€è¦ç¼–å†™çš„å¼‚å¸¸ä»£ç æ•°é‡ï¼ˆä¾‹å¦‚æ‰“å¼€å’Œå…³é—­è¿æ¥ï¼‰ã€‚Spring DAO çš„é¢å‘ JDBC çš„å¼‚å¸¸éµä»é€šç”¨çš„ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</li>
<li><strong>Spring ORM</strong>ï¼šSpring æ¡†æ¶æ’å…¥äº†è‹¥å¹²ä¸ª ORM æ¡†æ¶ï¼Œä»è€Œæä¾›äº† ORM çš„å¯¹è±¡å…³ç³»å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬ JDOã€Hibernate å’Œ iBatis SQL Mapã€‚æ‰€æœ‰è¿™äº›éƒ½éµä» Spring çš„é€šç”¨äº‹åŠ¡å’Œ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</li>
<li><strong>Spring Web æ¨¡å—</strong>ï¼šWeb ä¸Šä¸‹æ–‡æ¨¡å—å»ºç«‹åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ¨¡å—ä¹‹ä¸Šï¼Œä¸ºåŸºäº Web çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥ï¼ŒSpring æ¡†æ¶æ”¯æŒä¸ Jakarta Struts çš„é›†æˆã€‚Web æ¨¡å—è¿˜ç®€åŒ–äº†å¤„ç†å¤šéƒ¨åˆ†è¯·æ±‚ä»¥åŠå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°åŸŸå¯¹è±¡çš„å·¥ä½œã€‚</li>
<li><strong>Spring MVC æ¡†æ¶</strong>ï¼šMVC æ¡†æ¶æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„æ„å»º Web åº”ç”¨ç¨‹åºçš„ MVC å®ç°ã€‚é€šè¿‡ç­–ç•¥æ¥å£ï¼ŒMVC æ¡†æ¶å˜æˆä¸ºé«˜åº¦å¯é…ç½®çš„ï¼ŒMVC å®¹çº³äº†å¤§é‡è§†å›¾æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬ JSPã€Velocityã€Tilesã€iText å’Œ POIã€‚</li>
</ul>
<h2 id="1-4-æ‹“å±•"><a href="#1-4-æ‹“å±•" class="headerlink" title="1.4 æ‹“å±•"></a>1.4 æ‹“å±•</h2><p>ç°ä»£åŒ–çš„Javaå¼€å‘ï¼Œå…¶å®å°±æ˜¯åŸºäºSpringçš„å¼€å‘</p>
<p><img src="/2022/04/15/Spring/untitled-1597811106113.png" alt="untitled"></p>
<ul>
<li>Spring Boot<ul>
<li>ä¸€ä¸ªå¿«é€Ÿå¼€å‘çš„è„šæ‰‹æ¶</li>
<li>åŸºäºSpringBootå¯ä»¥å¿«é€Ÿçš„å¼€å‘å•ä¸ªå¾®æœåŠ¡</li>
</ul>
</li>
<li>Spring Cloud<ul>
<li>Spring Cloudæ˜¯åŸºäºSpringBootå®ç°çš„</li>
</ul>
</li>
</ul>
<p>ç°åœ¨å¤§å¤šæ•°å…¬å¸éƒ½åœ¨ä½¿ç”¨SpringBootè¿›è¡Œå¿«é€Ÿå¼€å‘ï¼Œå­¦ä¹ SpringBootçš„å‰æéœ€è¦å®Œå…¨æŒæ¡SpringåŠSpringMVC</p>
<p>å¼Šç«¯ï¼šå‘å±•å¤ªä¹…äº†ä¹‹åï¼Œè¿èƒŒäº†åŸæ¥çš„ç†å¿µï¼Œé…ç½®ååˆ†ç¹ç</p>
<h1 id="2-IOCç†è®ºæ¨å¯¼"><a href="#2-IOCç†è®ºæ¨å¯¼" class="headerlink" title="2 IOCç†è®ºæ¨å¯¼"></a>2 IOCç†è®ºæ¨å¯¼</h1><ol>
<li><p>UserDao æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>UserDaoImpl å®ç°ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;è·å–ç”¨æˆ·æ•°æ®&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>UserService ä¸šåŠ¡æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>UserServiceImpl ä¸šåŠ¡å®ç°ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">UserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDaoImpl</span>();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">       userDao.getUser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">   <span class="type">UserService</span> <span class="variable">service</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserServiceImpl</span>();</span><br><span class="line">   service.getUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>æŠŠUserdaoçš„å®ç°ç±»å¢åŠ ä¸€ä¸ª .</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoMySqlImpl</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;MySqlè·å–ç”¨æˆ·æ•°æ®&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç´§æ¥ç€æˆ‘ä»¬è¦å»ä½¿ç”¨MySqlçš„è¯ , æˆ‘ä»¬å°±éœ€è¦å»serviceå®ç°ç±»é‡Œé¢ä¿®æ”¹å¯¹åº”çš„å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">UserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDaoMySqlImpl</span>();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">       userDao.getUser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä»£ç é‡ååˆ†å¤§ï¼Œä¿®æ”¹ä¸€æ¬¡çš„æˆæœ¬ååˆ†æ˜‚è´µï¼</strong></p>
<p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªSetæ¥å£å®ç°ï¼Œå·²ç»å‘ç”Ÿäº†é©å‘½æ€§çš„å˜åŒ–ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">   <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">	<span class="comment">// åˆ©ç”¨setå®ç°</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">       userDao.getUser();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¹‹å‰ï¼Œç¨‹åºæ˜¯ä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œæ§åˆ¶æƒåœ¨ç¨‹åºå‘˜æ‰‹ä¸Šï¼</li>
<li>ä½¿ç”¨äº†setæ³¨å…¥åï¼Œç¨‹åºä¸å†å…·æœ‰ä¸»åŠ¨æ€§ï¼Œè€Œæ˜¯å˜æˆäº†è¢«åŠ¨çš„æ¥å—å¯¹è±¡ï¼</li>
</ul>
<p>è¿™ç§æ€æƒ³ï¼Œä»æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œæˆ‘ä»¬ç¨‹åºå‘˜ä¸ç”¨å†å»ç®¡å¯¹è±¡çš„åˆ›å»ºäº†ã€‚ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œå¯ä»¥ä¸“æ³¨åœ¨ä¸šåŠ¡çš„å®ç°ä¸Šï¼è¿™æ˜¯IOCçš„åŸå‹ï¼</p>
<h2 id="IOCæœ¬è´¨"><a href="#IOCæœ¬è´¨" class="headerlink" title="IOCæœ¬è´¨"></a>IOCæœ¬è´¨</h2><p><strong>æ§åˆ¶åè½¬IoC(Inversion of Control)ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IoCçš„ä¸€ç§æ–¹æ³•</strong>ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºDIåªæ˜¯IoCçš„å¦ä¸€ç§è¯´æ³•ã€‚æ²¡æœ‰IoCçš„ç¨‹åºä¸­ , æˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ , å¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200628180055895.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>é‡‡ç”¨XMLæ–¹å¼é…ç½®Beançš„æ—¶å€™ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯æ˜¯å’Œå®ç°åˆ†ç¦»çš„ï¼Œè€Œé‡‡ç”¨æ³¨è§£çš„æ–¹å¼å¯ä»¥æŠŠä¸¤è€…åˆä¸ºä¸€ä½“ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯ç›´æ¥ä»¥æ³¨è§£çš„å½¢å¼å®šä¹‰åœ¨å®ç°ç±»ä¸­ï¼Œä»è€Œè¾¾åˆ°äº†é›¶é…ç½®çš„ç›®çš„ã€‚</p>
<p><strong>æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆXMLæˆ–æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Springä¸­å®ç°æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨ï¼Œå…¶å®ç°æ–¹æ³•æ˜¯ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚</strong></p>
<h1 id="3-HelloSpring"><a href="#3-HelloSpring" class="headerlink" title="3 HelloSpring"></a>3 HelloSpring</h1><p>xmlï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºBean</span></span><br><span class="line"><span class="comment">    bean = å¯¹è±¡  new Helloï¼ˆï¼‰;</span></span><br><span class="line"><span class="comment">    ç±»å‹ å˜é‡å = new ç±»å‹ï¼ˆï¼‰ï¼›</span></span><br><span class="line"><span class="comment">    Hello hello = new Hello();</span></span><br><span class="line"><span class="comment">    id= å˜é‡å</span></span><br><span class="line"><span class="comment">    class = newçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">    property ç›¸å½“äºç»™å¯¹è±¡ä¸­çš„å±æ€§è®¾ç½®å€¼</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.Hello&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;str&quot;</span> <span class="attr">value</span>=<span class="string">&quot;String&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>test</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//å¯¹è±¡ç°åœ¨éƒ½åœ¨springä¸­ç®¡ç†äº†ï¼Œè¦ä½¿ç”¨ç›´æ¥å–å°±å¯ä»¥äº†</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Hello</span> <span class="variable">hello</span> <span class="operator">=</span> (Hello)context.getBean(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        System.out.println(hello.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a href="#4-IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="4 IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a>4 IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h1><ol>
<li><p>ä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œé»˜è®¤</p>
</li>
<li><p>å‡è®¾æˆ‘ä»¬è¦ä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡</p>
<ol>
<li>ä¸‹æ ‡èµ‹å€¼</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zzz&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>æ„é€ å‚æ•°ç±»å‹</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">&quot;java.lang.String&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zzz&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>æ„é€ å‚æ•°å</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zz&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>æ€»ç»“ï¼šåœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå®¹å™¨ä¸­ç®¡ç†çš„å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–äº†</p>
<h1 id="5-Springé…ç½®"><a href="#5-Springé…ç½®" class="headerlink" title="5 Springé…ç½®"></a>5 Springé…ç½®</h1><h2 id="5-1-åˆ«å"><a href="#5-1-åˆ«å" class="headerlink" title="5.1 åˆ«å"></a>5.1 åˆ«å</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®åˆ«åï¼šåœ¨è·å–Beançš„æ—¶å€™å¯ä»¥ä½¿ç”¨åˆ«åè·å–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;zzzzzzz&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-2-Beançš„é…ç½®"><a href="#5-2-Beançš„é…ç½®" class="headerlink" title="5.2 Beançš„é…ç½®"></a>5.2 Beançš„é…ç½®</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--beanå°±æ˜¯javaå¯¹è±¡,ç”±Springåˆ›å»ºå’Œç®¡ç†--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   id : beançš„æ ‡è¯†ç¬¦,è¦å”¯ä¸€,å¦‚æœæ²¡æœ‰é…ç½®id,nameå°±æ˜¯é»˜è®¤æ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="comment">   å¦‚æœé…ç½®id,åˆé…ç½®äº†name,é‚£ä¹ˆnameæ˜¯åˆ«å</span></span><br><span class="line"><span class="comment">   nameå¯ä»¥è®¾ç½®å¤šä¸ªåˆ«å,å¯ä»¥ç”¨é€—å·,åˆ†å·,ç©ºæ ¼éš”å¼€</span></span><br><span class="line"><span class="comment">   å¦‚æœä¸é…ç½®idå’Œname,å¯ä»¥æ ¹æ®applicationContext.getBean(.class)è·å–å¯¹è±¡;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   class : beançš„å…¨é™å®šå=åŒ…å+ç±»å</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hello2 h2,h3;h4&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.pojo.Hello&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-2-import"><a href="#5-2-import" class="headerlink" title="5.2 import"></a>5.2 import</h2><p>è¿™ä¸ªimport,ä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ä½¿ç”¨ï¼Œä»–å¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ªï¼›</p>
<p>å‡è®¾ï¼Œç°åœ¨é¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå¼€å‘ï¼Œè¿™ä¸‰ä¸ªäººå¤åˆ¶ä¸åŒçš„ç±»å¼€å‘ï¼Œä¸åŒçš„ç±»éœ€è¦æ³¨å†Œåœ¨ä¸åŒçš„beanä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨importå°†æ‰€æœ‰äººçš„beans.xmlåˆå¹¶ä¸ºä¸€ä¸ªæ€»çš„ï¼</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;&#123;path&#125;/beans.xml&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="6ä¾èµ–æ³¨å…¥"><a href="#6ä¾èµ–æ³¨å…¥" class="headerlink" title="6ä¾èµ–æ³¨å…¥"></a>6ä¾èµ–æ³¨å…¥</h1><h2 id="6-1-æ„é€ å™¨æ³¨å…¥"><a href="#6-1-æ„é€ å™¨æ³¨å…¥" class="headerlink" title="6.1 æ„é€ å™¨æ³¨å…¥"></a>6.1 æ„é€ å™¨æ³¨å…¥</h2><h2 id="6-2-Setæ–¹å¼æ³¨å…¥-ã€é‡ç‚¹ã€‘"><a href="#6-2-Setæ–¹å¼æ³¨å…¥-ã€é‡ç‚¹ã€‘" class="headerlink" title="6.2 Setæ–¹å¼æ³¨å…¥ ã€é‡ç‚¹ã€‘"></a>6.2 Setæ–¹å¼æ³¨å…¥ ã€é‡ç‚¹ã€‘</h2><ul>
<li>ä¾èµ–æ³¨å…¥ï¼šSetæ³¨å…¥<ul>
<li>ä¾èµ–ï¼šbeanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨</li>
<li>æ³¨å…¥ï¼šbeanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œç”±å®¹å™¨æ¥æ³¨å…¥</li>
</ul>
</li>
</ul>
<ol>
<li>æ¨¡æ‹Ÿç¯å¢ƒæ­å»º</li>
<li>ä¸¤ä¸ªå®ä½“ç±»</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    <span class="keyword">private</span> String[] books;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; hobbies;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; card;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; games;</span><br><span class="line">    <span class="keyword">private</span> Properties info;</span><br><span class="line">    <span class="keyword">private</span> String wife;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Address <span class="title function_">getAddress</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAddress</span><span class="params">(Address address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String[] getBooks() &#123;</span><br><span class="line">        <span class="keyword">return</span> books;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBooks</span><span class="params">(String[] books)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.books = books;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getHobbies</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hobbies;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHobbies</span><span class="params">(List&lt;String&gt; hobbies)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hobbies = hobbies;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, String&gt; <span class="title function_">getCard</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> card;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCard</span><span class="params">(Map&lt;String, String&gt; card)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.card = card;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Set&lt;String&gt; <span class="title function_">getGames</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> games;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGames</span><span class="params">(Set&lt;String&gt; games)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.games = games;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Properties <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> info;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInfo</span><span class="params">(Properties info)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.info = info;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getWife</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> wife;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWife</span><span class="params">(String wife)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.wife = wife;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, address=&quot;</span> + address.toString() +</span><br><span class="line">                <span class="string">&quot;, books=&quot;</span> + Arrays.toString(books) +</span><br><span class="line">                <span class="string">&quot;, hobbies=&quot;</span> + hobbies +</span><br><span class="line">                <span class="string">&quot;, card=&quot;</span> + card +</span><br><span class="line">                <span class="string">&quot;, ganmes=&quot;</span> + games +</span><br><span class="line">                <span class="string">&quot;, info=&quot;</span> + info +</span><br><span class="line">                <span class="string">&quot;, wife=&#x27;&quot;</span> + wife + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>address</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAddress</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAddress</span><span class="params">(String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Address&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;address=&#x27;&quot;</span> + address + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºBean</span></span><br><span class="line"><span class="comment">    bean = å¯¹è±¡  new Helloï¼ˆï¼‰;</span></span><br><span class="line"><span class="comment">    ç±»å‹ å˜é‡å = new ç±»å‹ï¼ˆï¼‰ï¼›</span></span><br><span class="line"><span class="comment">    Hello hello = new Hello();</span></span><br><span class="line"><span class="comment">    id= å˜é‡å</span></span><br><span class="line"><span class="comment">    class = newçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">    property ç›¸å½“äºç»™å¯¹è±¡ä¸­çš„å±æ€§è®¾ç½®å€¼</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.Address&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;china&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span>  <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.Student&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        ç¬¬ä¸€ç§ æ™®é€šå€¼æ³¨å…¥ï¼Œç›´æ¥ç”¨value--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zä¸­z&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        ç¬¬äºŒç§ï¼Œbeannæ³¨å…¥  ref--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;address&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        ç¬¬ä¸‰ç§ï¼Œæ•°ç»„æ³¨å…¥  ref--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;books&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        List--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>æŠ½çƒŸ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>å–é…’<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>çƒ«å¤´<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        map--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;èº«ä»½è¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1231231&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;é“¶è¡Œå¡&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123123&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;games&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>LOL1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>LOL2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>LOL3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wife&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">null</span>&gt;</span><span class="tag">&lt;/<span class="name">null</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;driver&quot;</span>&gt;</span>2019<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;url&quot;</span>&gt;</span>zz<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;password&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) context.getBean(<span class="string">&quot;student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(student.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="6-3-æ‰©å±•æ–¹å¼æ³¨å…¥"><a href="#6-3-æ‰©å±•æ–¹å¼æ³¨å…¥" class="headerlink" title="6.3 æ‰©å±•æ–¹å¼æ³¨å…¥"></a>6.3 æ‰©å±•æ–¹å¼æ³¨å…¥</h2><p>å¯ä»¥ä½¿ç”¨på‘½åç©ºé—´æˆ–cå‘½åç©ºé—´è¿›è¡Œæ³¨å…¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!--        på‘½åç©ºé—´æ³¨å…¥å¯ä»¥ç›´æ¥æ³¨å…¥å±æ€§å€¼ property--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;zz&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;3&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        cå‘½åç©ºé—´æ³¨å…¥ é€šè¿‡æ„é€ å™¨æ³¨å…¥  construct-args --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span> <span class="attr">c:age</span>=<span class="string">&quot;18&quot;</span> <span class="attr">c:name</span>=<span class="string">&quot;zz&quot;</span>/&gt;</span>   </span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œpå‘½åå’Œcå‘½åä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å¯¼å…¥çº¦æŸXML</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">       xmlns:c=&quot;http://www.springframework.org/schema/c&quot;</span><br></pre></td></tr></table></figure>
<p>6.4 Beançš„ä½œç”¨åŸŸ</p>
<p><img src="/2022/04/15/Spring/image-20200819184044908.png" alt="image-20200819184044908"></p>
<ol>
<li><p>ä»£ç†æ¨¡å¼ï¼ˆSpringé»˜è®¤ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.User&quot;</span> <span class="attr">c:age</span>=<span class="string">&quot;18&quot;</span> <span class="attr">c:name</span>=<span class="string">&quot;zz&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸå‹æ¨¡å‹ï¼šæ¯æ¬¡ä»å®¹å™¨ä¸­getçš„æ—¶å€™éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;bean id=&quot;user2&quot; class=&quot;com.zz.pojo.User&quot; c:age=&quot;18&quot; c:name=&quot;zz&quot; scope=&quot;prototype&quot;/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶ä½™çš„ request session applicationåªèƒ½åœ¨webå¼€å‘ä¸­ä½¿ç”¨</p>
</li>
</ol>
<h1 id="7-Beançš„è‡ªåŠ¨è£…é…"><a href="#7-Beançš„è‡ªåŠ¨è£…é…" class="headerlink" title="7 Beançš„è‡ªåŠ¨è£…é…"></a>7 Beançš„è‡ªåŠ¨è£…é…</h1><ul>
<li>è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼</li>
<li>Springä¼šåœ¨ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶è‡ªåŠ¨ç»™beanè£…é…å±æ€§</li>
</ul>
<p>åœ¨Springä¸­æœ‰ä¸‰ç§è£…é…æ–¹å¼</p>
<ol>
<li>åœ¨xmlä¸­æ˜¾ç¤ºçš„é…ç½®</li>
<li>åœ¨javaä¸­æ˜¾ç¤ºçš„é…ç½®</li>
<li>éšå¼çš„è‡ªåŠ¨è£…é…çš„bean ã€é‡è¦ã€‘</li>
</ol>
<h2 id="7-1-æµ‹è¯•"><a href="#7-1-æµ‹è¯•" class="headerlink" title="7.1 æµ‹è¯•"></a>7.1 æµ‹è¯•</h2><p>ç¯å¢ƒæ­å»ºï¼šä¸€ä¸ªäººæœ‰ä¸¤ä¸ªå® ç‰©</p>
<h2 id="7-2-byNameè‡ªåŠ¨è£…é…"><a href="#7-2-byNameè‡ªåŠ¨è£…é…" class="headerlink" title="7.2 byNameè‡ªåŠ¨è£…é…"></a>7.2 byNameè‡ªåŠ¨è£…é…</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">byName ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•åé¢çš„å€¼å¯¹åº”çš„beanid</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zz&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="7-3-byTypeè‡ªåŠ¨è£…é…"><a href="#7-3-byTypeè‡ªåŠ¨è£…é…" class="headerlink" title="7.3 byTypeè‡ªåŠ¨è£…é…"></a>7.3 byTypeè‡ªåŠ¨è£…é…</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&lt;--</span><br><span class="line">byType ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å’Œè‡ªå·±å¯¹è±¡ç±»å‹å¯¹åº”çš„bean</span><br><span class="line">--&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zz&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å°ç»“</p>
<ul>
<li>byNameçš„éœ€è¦éœ€è¦ä¿è¯beançš„idå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„setæ–¹æ³•çš„å€¼ä¸€è‡´</li>
<li>byTypeçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰çš„beançš„classå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„ç±»å‹ä¸€è‡´</li>
</ul>
<h2 id="7-4-ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…"><a href="#7-4-ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…" class="headerlink" title="7.4 ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…"></a>7.4 ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</h2><p>jdk1.5æ”¯æŒæ³¨è§£ï¼ŒSpringä»2.5å¼€å§‹æ”¯æŒæ³¨è§£</p>
<blockquote>
<p>The introduction of annotation-based configuration raised the question of whether this approach is â€œbetterâ€ than XML.</p>
</blockquote>
<p>è¦ä½¿ç”¨æ³¨è§£é¡»çŸ¥ï¼š</p>
<ol>
<li><p>å¯¼å…¥çº¦æŸ contextçº¦æŸ</p>
</li>
<li><p>é…ç½®æ³¨è§£çš„æ”¯æŒ     <context:annotation-config></context:annotation-config></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>@Autowired<br>ç›´æ¥åœ¨å±æ€§ä¸Šä½¿ç”¨å³å¯ï¼Œä¹Ÿå¯ä»¥åœ¨setæ–¹æ³•ä¸Šä½¿ç”¨</p>
<p>ä½¿ç”¨Autowiredæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç¼–å†™setæ–¹æ³•äº†ï¼Œå‰ææ˜¯ä½ è¿™ä¸ªè‡ªåŠ¨è£…é…çš„å±æ€§åœ¨ IOCï¼ˆSpringï¼‰å®¹å™¨ä¸­å­˜åœ¨ï¼Œä¸”ç¬¦åˆåå­—byName</p>
</li>
</ol>
<p>@Nullable</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">@Nullable	å­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¿™ä¸ªå­—æ®µå¯ä»¥ä¸ºnull;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Autowired &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">required</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¾ç¤ºå®šä¹‰äº†Autowiredçš„requiredå±æ€§ä¸ºfalseï¼Œè¯´æ˜è¿™ä¸ªå¯¹è±¡å¯ä»¥ä¸ºNull,å¦åˆ™ä¸å…è®¸ä¸ºç©º</span></span><br><span class="line">    <span class="meta">@Autowired(required = false)</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœ@Autowiredè‡ªåŠ¨è£…é…çš„ç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œè‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ªæ³¨è§£ã€<strong>@Autowired</strong>ã€‘å®Œæˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨==<strong>@Qualifier(value = â€œxxxâ€)</strong>==å»é…åˆ@Autowireçš„ä½¿ç”¨ï¼ŒæŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„beanå¯¹è±¡æ³¨å…¥ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;cat2&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource( name = &quot;cat3&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å°ç»“ï¼š</strong></p>
<p>@Resourceå’Œ@Autowiredçš„åŒºåˆ«ï¼š</p>
<ul>
<li>éƒ½æ˜¯ç”¨æ¥è‡ªåŠ¨è½¬é…çš„ï¼Œéƒ½å¯ä»¥æ”¾åœ¨å±æ€§å­—æ®µä¸Š</li>
<li>@Autowired æ˜¯é€šè¿‡byTypeçš„æ–¹å¼å®ç°ï¼Œè€Œä¸”å¿…é¡»è¦æ±‚è¿™ä¸ªå¯¹è±¡å­˜åœ¨ï¼ã€å¸¸ç”¨ã€‘</li>
<li>@Resource é»˜è®¤é€šè¿‡byNameçš„æ–¹å¼å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°åå­—ï¼Œåˆ™é€šè¿‡byTypeå®ç°ï¼å¦‚æœä¸¤ä¸ªéƒ½æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±æŠ¥é”™ï¼ã€å¸¸ç”¨ã€‘</li>
<li>æ‰§è¡Œé¡ºåºä¸åŒ: @Autowired é€šè¿‡byTypeçš„æ–¹å¼å®ç°ã€‚@Resourceé»˜è®¤é€šè¿‡byNameçš„æ–¹å¼å®ç°ã€‚</li>
</ul>
</blockquote>
<h1 id="8-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8 ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8 ä½¿ç”¨æ³¨è§£å¼€å‘</h1><p>åœ¨spring4ä¹‹åï¼Œä½¿ç”¨æ³¨è§£å¼€å‘ï¼Œå¿…é¡»è¦ä¿è¯aopåŒ…çš„å¯¼å…¥</p>
<p><img src="/2022/04/15/Spring/image-20200819194212218.png" alt="image-20200819194212218"></p>
<p>ä½¿ç”¨æ³¨è§£éœ€è¦å¯¼å…¥contexçš„çº¦æŸ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.zz.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="8-1-bean"><a href="#8-1-bean" class="headerlink" title="8.1 bean"></a>8.1 bean</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç­‰ä»·äº&lt;bean id = &quot;user&quot; class= &quot;com.zz.pojo.User&quot;&gt;</span></span><br><span class="line"><span class="comment">//ç»„ä»¶</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;zz&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="8-2-å±æ€§æ³¨å…¥"><a href="#8-2-å±æ€§æ³¨å…¥" class="headerlink" title="8.2 å±æ€§æ³¨å…¥"></a>8.2 å±æ€§æ³¨å…¥</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String name ;</span><br><span class="line">    <span class="meta">@Value(&quot;zz&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-3ã€è¡ç”Ÿçš„æ³¨è§£"><a href="#8-3ã€è¡ç”Ÿçš„æ³¨è§£" class="headerlink" title="8.3ã€è¡ç”Ÿçš„æ³¨è§£"></a>8.3ã€è¡ç”Ÿçš„æ³¨è§£</h2><p>@Componentæœ‰å‡ ä¸ªè¡ç”Ÿæ³¨è§£ï¼Œä¼šæŒ‰ç…§webå¼€å‘ä¸­ï¼Œmvcæ¶æ„ä¸­åˆ†å±‚ã€‚</p>
<ul>
<li>dao ï¼ˆ@Repositoryï¼‰</li>
<li>serviceï¼ˆ@Serviceï¼‰</li>
<li>controllerï¼ˆ@Controllerï¼‰</li>
</ul>
<p><strong>è¿™å››ä¸ªæ³¨è§£çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»£è¡¨å°†æŸä¸ªç±»æ³¨å†Œåˆ°å®¹å™¨ä¸­</strong></p>
<h2 id="8-4ã€è‡ªåŠ¨è£…é…ç½®"><a href="#8-4ã€è‡ªåŠ¨è£…é…ç½®" class="headerlink" title="8.4ã€è‡ªåŠ¨è£…é…ç½®"></a>8.4ã€è‡ªåŠ¨è£…é…ç½®</h2><p>@Autowiredï¼šé»˜è®¤æ˜¯byTypeæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyName</p>
<p>@Nullableï¼šå­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¯¥å­—æ®µå¯ä»¥ä¸ºç©º</p>
<p>@Resourceï¼šé»˜è®¤æ˜¯byNameæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyType</p>
<h2 id="8-5ã€ä½œç”¨åŸŸ-scope"><a href="#8-5ã€ä½œç”¨åŸŸ-scope" class="headerlink" title="8.5ã€ä½œç”¨åŸŸ@scope"></a>8.5ã€ä½œç”¨åŸŸ@scope</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŸå‹æ¨¡å¼prototypeï¼Œå•ä¾‹æ¨¡å¼singleton</span></span><br><span class="line"><span class="comment">//scope(&quot;prototype&quot;)ç›¸å½“äº&lt;bean scope=&quot;prototype&quot;&gt;&lt;/bean&gt;</span></span><br><span class="line"><span class="meta">@Component</span> </span><br><span class="line"><span class="meta">@scope(&quot;prototype&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç›¸å½“äº&lt;property name=&quot;name&quot; value=&quot;kuangshen&quot;/&gt; </span></span><br><span class="line">    <span class="meta">@value(&quot;kuangshen&quot;)</span> </span><br><span class="line">    <span class="keyword">public</span> String name; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä¹Ÿå¯ä»¥æ”¾åœ¨setæ–¹æ³•ä¸Šé¢</span></span><br><span class="line">    <span class="meta">@value(&quot;kuangshen&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123; </span><br><span class="line">        <span class="built_in">this</span>.name = name; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-6-å°ç»“"><a href="#8-6-å°ç»“" class="headerlink" title="8.6 å°ç»“"></a>8.6 å°ç»“</h2><p><strong>xmlä¸æ³¨è§£ï¼š</strong></p>
<ul>
<li>xmlæ›´åŠ ä¸‡èƒ½ï¼Œç»´æŠ¤ç®€å•ï¼Œé€‚ç”¨äºä»»ä½•åœºåˆ</li>
<li>æ³¨è§£ï¼Œä¸æ˜¯è‡ªå·±çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œç»´æŠ¤å¤æ‚</li>
</ul>
<p><strong>æœ€ä½³å®è·µï¼š</strong></p>
<ul>
<li>xmlç”¨æ¥ç®¡ç†bean</li>
<li>æ³¨è§£åªç”¨æ¥å®Œæˆå±æ€§çš„æ³¨å…¥</li>
<li>è¦å¼€å¯æ³¨è§£æ”¯æŒ</li>
</ul>
<h1 id="9-ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring"><a href="#9-ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring" class="headerlink" title="9 ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring"></a>9 ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring</h1><p>å®Œå…¨ä¸é€‚ç”¨Springçš„xmlé…ç½®äº†ï¼Œå…¨æƒäº¤ç»™Javaæ¥åš</p>
<p>JavaConfigæ˜¯Springçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œåœ¨Spring4ä¹‹åï¼Œå®ƒæˆä¸ºäº†æ ¸å¿ƒåŠŸèƒ½</p>
<p><img src="/2022/04/15/Spring/image-20200819200857438.png" alt="image-20200819200857438"></p>
<p>User</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Value(&quot;zz&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Config</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¿™ä¸ªä¹Ÿä¼šè¢«Springå®¹å™¨æ‰˜ç®¡ï¼Œæ³¨å†Œåˆ°å®¹å™¨ä¸­ï¼Œå› ä¸ºä»–æœ¬å°±æ˜¯å°±æ˜¯ä¸€ä¸ªComponent</span></span><br><span class="line"><span class="comment">//Configuration ä»£è¡¨è¿™äº‹ä¸€ä¸ªé…ç½®ç±»ï¼Œå°±ç­‰åŒäºbeans.xml</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.zz.pojo&quot;)</span></span><br><span class="line"><span class="meta">@Import(MyConfig2.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ³¨å†Œä¸€ä¸ªbean å°±ç›¸å½“äºä¹‹å‰å†™çš„ä¸€ä¸ªbeanæ ‡ç­¾</span></span><br><span class="line">    <span class="comment">//è¿™ä¸ªæ–¹æ³•çš„åå­—ç›¸å½“äº id</span></span><br><span class="line">    <span class="comment">// è¿”å›å€¼ ç›¸å½“äºclasså±æ€§</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>test</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå®Œå…¨ä½¿ç”¨é…ç½®ç±»æ–¹æ³•å»åšï¼Œå°±åªèƒ½é€šè¿‡AnnotationConfigä¸Šä¸‹æ–‡æ¥è·å–å®¹å™¨ï¼Œé€šè¿‡é…ç½®ç±»çš„classå¯¹è±¡åŠ è½½</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(MyConfig.class);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User)context.getBean(<span class="string">&quot;getUser&quot;</span>);</span><br><span class="line">        System.out.println(user.getName());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="10-ä»£ç†æ¨¡å¼"><a href="#10-ä»£ç†æ¨¡å¼" class="headerlink" title="10 ä»£ç†æ¨¡å¼"></a>10 ä»£ç†æ¨¡å¼</h1><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä»£ç†æ¨¡å¼ï¼Ÿ</p>
<p>å› ä¸ºè¿™å°±æ˜¯SpringAOPçš„åº•å±‚ã€SpringAOPå’ŒSpringMVCã€‘</p>
<ul>
<li>åŠ¨æ€ä»£ç†</li>
<li>é™æ€ä»£ç†</li>
</ul>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMDE0Mjc4NDYucG5n?x-oss-process=image/format,png" alt="image-20200803101427846"></p>
<h2 id="10-1-é™æ€ä»£ç†"><a href="#10-1-é™æ€ä»£ç†" class="headerlink" title="10.1 é™æ€ä»£ç†"></a>10.1 é™æ€ä»£ç†</h2><p>è§’è‰²åˆ†æ</p>
<ul>
<li>æŠ½è±¡è§’è‰²ï¼šä¸€èˆ¬ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»è§£å†³</li>
<li>çœŸå®è§’è‰²ï¼šè¢«ä»£ç†çš„è§’è‰²</li>
<li>ä»£ç†è§’è‰²ï¼šä»£ç†çœŸå®è§’è‰²ï¼Œä»£ç†çœŸå®è§’è‰²åï¼Œä¸€èˆ¬ä¼šåšä¸€äº›é™„å±æ“ä½œ</li>
<li>å®¢æˆ·ï¼šè®¿é—®ä»£ç†å¯¹è±¡çš„äºº</li>
</ul>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li><p>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç§Ÿæˆ¿</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Rent</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>çœŸå®è§’è‰²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æˆ¿ä¸œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Host</span> <span class="keyword">implements</span> <span class="title class_">Rent</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ä»£ç†è§’è‰²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Proxy</span> <span class="keyword">implements</span> <span class="title class_">Rent</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Host host;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Proxy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Proxy</span><span class="params">(Host host)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.host = host;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rent</span><span class="params">()</span> &#123;</span><br><span class="line">        host.rent();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//çœ‹æˆ¿</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">seeHouse</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çœ‹æˆ¿&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸­ä»‹è´¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fare</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ”¶ä¸­ä»‹è´¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç­¾åˆåŒ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hetong</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç­¾åˆåŒ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>å®¢æˆ·ç«¯è®¿é—®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æˆ¿ä¸œè¦ç§Ÿæˆ¿å­</span></span><br><span class="line">        <span class="type">Host</span> <span class="variable">host</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Host</span>();</span><br><span class="line">        <span class="comment">//ä»£ç†ï¼Œä¸­ä»‹å¸®æˆ¿ä¸œç»„æˆ¿å­ï¼Œä»£ç†ä¸€èˆ¬ä¼šæœ‰ä¸€äº›é™„å±æ“ä½œ</span></span><br><span class="line">        <span class="type">Proxy</span> <span class="variable">proxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Proxy</span>(host);</span><br><span class="line">        <span class="comment">//ä¸ç”¨é¢å¯¹æˆ¿ä¸œï¼Œç›´æ¥æ‰¾ä¸­ä»‹ç§Ÿæˆ¿</span></span><br><span class="line">        proxy.rent();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ä»£ç†æ¨¡å¼çš„å¥½å¤„ï¼š</p>
<ul>
<li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼Œä¸ç”¨å»å…³æ³¨ä¸€äº›å…¬å…±ä¸šåŠ¡</li>
<li>å…¬å…±äº¤ç»™ä»£ç†è§’è‰²ï¼Œå®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥</li>
<li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¸€ä¸ªçœŸå®è§’è‰²ä¼šäº§ç”Ÿä¸€ä¸ªä»£ç†è§’è‰²ï¼Œä»£ç é‡ç¿»å€ï¼Œå¼€å‘æ•ˆç‡ä½</li>
</ul>
<h2 id="10-2-åŠ æ·±ç†è§£"><a href="#10-2-åŠ æ·±ç†è§£" class="headerlink" title="10.2 åŠ æ·±ç†è§£"></a>10.2 åŠ æ·±ç†è§£</h2><p><img src="/2022/04/15/Spring/image-20200820133318038.png" alt="image-20200820133318038"></p>
<p>UserServive</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">query</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Impl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;delete&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;update&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">query</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;query&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Proxy</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceProxy</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserServiceImpl userService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserService</span><span class="params">(UserServiceImpl userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        log(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">()</span> &#123;</span><br><span class="line">        log(<span class="string">&quot;delete&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;delete&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">        log(<span class="string">&quot;update&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;update&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">query</span><span class="params">()</span> &#123;</span><br><span class="line">        log(<span class="string">&quot;query&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;query&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨äº†&quot;</span>+msg+<span class="string">&quot;æ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Client</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">UserServiceImpl</span> <span class="variable">userService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserServiceImpl</span>();</span><br><span class="line">        <span class="type">UserServiceProxy</span> <span class="variable">proxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserServiceProxy</span>();</span><br><span class="line">        proxy.setUserService(userService);</span><br><span class="line"></span><br><span class="line">        proxy.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="10-3-åŠ¨æ€ä»£ç†"><a href="#10-3-åŠ¨æ€ä»£ç†" class="headerlink" title="10.3 åŠ¨æ€ä»£ç†"></a>10.3 åŠ¨æ€ä»£ç†</h2><ul>
<li>åŠ¨æ€ä»£ç†å’Œé™æ€ä»£ç†è§’è‰²ä¸€æ ·</li>
<li>åŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸æ˜¯ç›´æ¥å†™å¥½çš„</li>
<li>åŠ¨æ€ä»£ç†åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†ï¼ŒåŸºäºç±»çš„åŠ¨æ€ä»£ç†<ul>
<li>åŸºäºæ¥å£â€”JDKåŠ¨æ€ä»£ç†</li>
<li>åŸºäºç±»ï¼šcglib</li>
<li>javaå­—èŠ‚ç å®ç° javassist</li>
</ul>
</li>
</ul>
<p>éœ€è¦äº†è§£ä¸¤ä¸ªç±»ï¼šProxyä»£ç† InvocationHandlerè°ƒç”¨å¤„ç†ç¨‹åº</p>
<p>åŠ¨æ€ä»£ç†çš„å¥½å¤„ï¼š</p>
<ul>
<li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼Œä¸ç”¨å»å…³æ³¨ä¸€äº›å…¬å…±ä¸šåŠ¡</li>
<li>å…¬å…±äº¤ç»™ä»£ç†è§’è‰²ï¼Œå®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥</li>
<li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†</li>
<li>ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»ä»£ç†çš„æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸€èˆ¬å°±æ˜¯å¯¹åº”çš„ä¸€ç±»ä¸šåŠ¡</li>
<li>ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»å¯ä»¥å®ç°å¤šä¸ªç±»ï¼Œåªè¦æ˜¯å®ç°äº†åŒä¸€ä¸ªæ¥å£å³å¯</li>
</ul>
<h1 id="11-AOP"><a href="#11-AOP" class="headerlink" title="11 AOP"></a>11 AOP</h1><h2 id="11-1-ä»€ä¹ˆæ˜¯AOP"><a href="#11-1-ä»€ä¹ˆæ˜¯AOP" class="headerlink" title="11.1 ä»€ä¹ˆæ˜¯AOP"></a>11.1 ä»€ä¹ˆæ˜¯AOP</h2><p>AOPï¼ˆAspect Oriented Programmingï¼‰æ„ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”Ÿæ³›å‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘æ•ˆç‡</p>
<p><img src="/2022/04/15/Spring/image-20200820141732996.png" alt="image-20200820141732996"></p>
<h2 id="11-2-AOPåœ¨Springä¸­çš„ä½œç”¨"><a href="#11-2-AOPåœ¨Springä¸­çš„ä½œç”¨" class="headerlink" title="11.2 AOPåœ¨Springä¸­çš„ä½œç”¨"></a>11.2 AOPåœ¨Springä¸­çš„ä½œç”¨</h2><p>==æä¾›å£°æ˜å¼äº‹åŠ¡ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢==</p>
<ul>
<li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯éœ€è¦å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œå¦‚æ—¥å¿—ï¼Œå®‰å…¨ï¼Œç¼“å­˜ï¼Œäº‹åŠ¡ç­‰</li>
<li>åˆ‡é¢ï¼ˆAspectï¼‰:æ¨ªåˆ‡å…³æ³¨ç‚¹ è¢«æ¨¡å—åŒ–çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»</li>
<li>é€šçŸ¥ï¼ˆAdviceï¼‰:åˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œï¼Œå³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•</li>
<li>ç›®æ ‡ï¼ˆTargetï¼‰ï¼šè¢«é€šçŸ¥å¯¹è±¡</li>
<li>ä»£ç†ï¼ˆProxyï¼‰ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡</li>
<li>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰:åˆ‡é¢é€šçŸ¥æ‰§è¡Œçš„â€œåœ°ç‚¹â€çš„å®šä¹‰</li>
<li>è¿æ¥ç‚¹ï¼ˆJointPointï¼‰ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹</li>
</ul>
<p><img src="/2022/04/15/Spring/image-20200820142829203.png" alt="image-20200820142829203"></p>
<p>åœ¨SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringæ”¯æŒ5ä¸­ç±»å‹çš„Advice</p>
<p><img src="/2022/04/15/Spring/image-20200820143011444.png" alt="image-20200820143011444"></p>
<p>å³AOPåœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå–å¢åŠ æ–°çš„åŠŸèƒ½</p>
<h2 id="11-3-ä½¿ç”¨Springå®ç°AOP"><a href="#11-3-ä½¿ç”¨Springå®ç°AOP" class="headerlink" title="11.3 ä½¿ç”¨Springå®ç°AOP"></a>11.3 ä½¿ç”¨Springå®ç°AOP</h2><p>ã€é‡ç‚¹ã€‘ä½¿ç”¨AOPç»‡å…¥ï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªjaråŒ…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–¹å¼ä¸€ï¼šä½¿ç”¨Springçš„APIæ¥å£"><a href="#æ–¹å¼ä¸€ï¼šä½¿ç”¨Springçš„APIæ¥å£" class="headerlink" title="æ–¹å¼ä¸€ï¼šä½¿ç”¨Springçš„APIæ¥å£"></a>æ–¹å¼ä¸€ï¼šä½¿ç”¨Springçš„APIæ¥å£</h3><p>xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">		https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">		http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">		https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    æ³¨å†Œbean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.service.UserServiceImpl&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;log&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.log.Log&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;afterLog&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.log.AfterLog&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    æ–¹å¼ä¸€ï¼Œä½¿ç”¨åŸç”Ÿçš„Spring APIæ¥å£--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    é…ç½®aop éœ€è¦å¯¼å…¥aopçš„çº¦æŸ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        åˆ‡å…¥ç‚¹ expressionè¡¨è¾¾å¼  execution(è¦æ‰§è¡Œçš„ä½ç½® * * * * *) --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.zz.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ‰§è¡Œç¯ç»•æ·»åŠ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;log&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;afterLog&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>test</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£ï¼Œä¸æ˜¯å®ç°ç±»</span></span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> (UserService) context.getBean(<span class="string">&quot;userService&quot;</span>);</span><br><span class="line">        userService.select();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹å¼äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP"><a href="#æ–¹å¼äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP" class="headerlink" title="æ–¹å¼äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP"></a>æ–¹å¼äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP</h3><p>diy</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DiyPointCut</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=====before=========&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=====after=========&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--    æ–¹å¼äºŒ è‡ªå®šä¹‰ç±»--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;diy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.div.DiyPointCut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        è‡ªå®šä¹‰åˆ‡é¢ï¼Œref è¦å¼•å…¥çš„ç±»--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;diy&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            åˆ‡å…¥ç‚¹--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;point&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.zz.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            é€šçŸ¥--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;point&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;after&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;point&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°"><a href="#æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°" class="headerlink" title="æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°"></a>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°</h3><p>xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--    æ–¹å¼ä¸‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;annotationPointCut&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.div.AnnotationPointCut&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    å¼€å¯æ³¨è§£æ”¯æŒ  JDKï¼ˆé»˜è®¤ï¼‰proxy-target-class=&quot;false&quot;   cglib  proxy-target-class=&quot;true&quot;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>Annotation</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ ‡æ³¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationPointCut</span> &#123;</span><br><span class="line">    <span class="meta">@Before(&quot;execution(* com.zz.service.UserServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=======before======&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After(&quot;execution(* com.zz.service.UserServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=======after======&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åœ¨ç¯ç»•å¢å¼ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®šä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨è¦è·å–å¤„ç†åˆ‡å…¥çš„ç‚¹</span></span><br><span class="line">    <span class="meta">@Around(&quot;execution(* com.zz.service.UserServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">around</span><span class="params">(ProceedingJoinPoint joinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•å‰&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Signature</span> <span class="variable">signature</span> <span class="operator">=</span> joinPoint.getSignature();</span><br><span class="line">        System.out.println(signature);</span><br><span class="line">        <span class="comment">//æ‰§è¡Œæ–¹æ³•</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">proceed</span> <span class="operator">=</span> joinPoint.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•å&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="12-æ•´åˆMyBatis"><a href="#12-æ•´åˆMyBatis" class="headerlink" title="12 æ•´åˆMyBatis"></a>12 æ•´åˆMyBatis</h1><p>æ­¥éª¤ï¼š</p>
<ol>
<li>å¯¼å…¥ç›¸å…³jaråŒ…<ul>
<li>junit</li>
<li>mybatis</li>
<li>mysql</li>
<li>spring</li>
<li>aop</li>
<li>mybatis-spring</li>
</ul>
</li>
<li>ç¼–å†™é…ç½®æ–‡ä»¶</li>
<li>æµ‹è¯•</li>
</ol>
<h2 id="12-1-å›å¿†MyBatis"><a href="#12-1-å›å¿†MyBatis" class="headerlink" title="12.1 å›å¿†MyBatis"></a>12.1 å›å¿†MyBatis</h2><ol>
<li><p>ç¼–å†™å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.zz.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.mapper.UserMapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ç¼–å†™æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">selectUser</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>ç¼–å†™Mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.zz.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sessionFactory.openSession(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        List&lt;User&gt; userList = mapper.selectUser();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="12-2-MyBatis-Spring"><a href="#12-2-MyBatis-Spring" class="headerlink" title="12.2 MyBatis-Spring"></a>12.2 MyBatis-Spring</h2><ol>
<li>ç¼–å†™æ•°æ®æºé…ç½®</li>
<li>sqlSessionFactory</li>
<li>sqlSessionTemplate</li>
<li>ç»™æ¥å£åŠ å®ç°ç±»</li>
<li>å°†å®ç°ç±»æ³¨å…¥åˆ°Spring</li>
</ol>
<p>å…ˆå¯¼å…¥jaråŒ…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Mavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>ç¼–å†™é¡ºåºï¼š</strong><br><strong>User -&gt; UserMapper -&gt; UserMapper.xml -&gt; spring-dao.xml -&gt; UserServiceImpl -&gt; applicationContext.xml -&gt; MyTest</strong></p>
<h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>å®ä½“ç±»User</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>UserMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">selectUser</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>UserMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.zz.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>spring-dao.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">		https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">		http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">		https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    DataSource:ä½¿ç”¨Springçš„æ•°æ®æºæ›¿æ¢Mybatisçš„é…ç½® c3p0 dbcp druid--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;datasource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;datasource&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç»‘å®š mybatis é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:com/zz/mapper/*.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- sqlSessionTemplate å°±æ˜¯ä¹‹å‰ä½¿ç”¨çš„ï¼šsqlsession --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSession&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥sqlSessionFactory åŸå› ï¼šå®ƒæ²¡æœ‰setæ–¹æ³•--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>UserServiceImpl </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserMapperImpl</span> <span class="keyword">implements</span> <span class="title class_">UserMapper</span>&#123;</span><br><span class="line">    <span class="comment">//åŸæ¥æ‰€æœ‰çš„æ“ä½œéƒ½ä½¿ç”¨sqlSessionæ‰§è¡Œï¼Œç°åœ¨éƒ½ä½¿ç”¨SqlSessionTemplateï¼›</span></span><br><span class="line">    <span class="keyword">private</span> SqlSessionTemplate sqlSession;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSqlSession</span><span class="params">(SqlSessionTemplate sqlSession)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sqlSession = sqlSession;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">selectUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        <span class="keyword">return</span> mapper.selectUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>applicationContext.xml </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">		https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">		http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">		https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¯¼å…¥spring-dao.xml --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-dao.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userMapper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.mapper.UserMapperImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSession&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSession&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userMapper2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.mapper.UserMapperImpl2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>test</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">userMapper</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;userMapper&quot;</span>, UserMapper.class);</span><br><span class="line">        <span class="keyword">for</span> (User user : userMapper.selectUser()) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒ-SqlSessionDaoSupport"><a href="#æ–¹æ³•äºŒ-SqlSessionDaoSupport" class="headerlink" title="æ–¹æ³•äºŒ  SqlSessionDaoSupport"></a>æ–¹æ³•äºŒ  SqlSessionDaoSupport</h3><p>UserMapperImpl2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserMapperImpl2</span> <span class="keyword">extends</span> <span class="title class_">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title class_">UserMapper</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">selectUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> getSqlSession();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sqlSession.getMapper(UserMapper.class).selectUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>spring-dao</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userMapper2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.zz.mapper.UserMapperImpl2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="13-å£°æ˜å¼äº‹åŠ¡"><a href="#13-å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="13 å£°æ˜å¼äº‹åŠ¡"></a>13 å£°æ˜å¼äº‹åŠ¡</h1><h2 id="13-1-å›é¡¾äº‹åŠ¡"><a href="#13-1-å›é¡¾äº‹åŠ¡" class="headerlink" title="13.1 å›é¡¾äº‹åŠ¡"></a>13.1 å›é¡¾äº‹åŠ¡</h2><ul>
<li>æŠŠä¸€ç»„ä¸šåŠ¡å½“æˆä¸€ä¸ªä¸šåŠ¡æ¥åšï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥</li>
<li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œååˆ†çš„é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œä¸èƒ½é©¬è™</li>
<li>ç¡®ä¿å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li>
</ul>
<p>äº‹åŠ¡çš„ACIDåŸåˆ™ï¼š</p>
<ul>
<li>åŸå­æ€§</li>
<li>ä¸€è‡´æ€§</li>
<li>éš”ç¦»æ€§<ul>
<li>å¤šä¸ªä¸šåŠ¡å¯èƒ½æ“ä½œåŒä¸€ä¸ªèµ„æºï¼Œé˜²æ­¢æ•°æ®æŸå</li>
</ul>
</li>
<li>æŒä¹…æ€§<ul>
<li>äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œæ— è®ºç³»ç»Ÿå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œç»“æœéƒ½ä¸ä¼šè¢«å½±å“ï¼Œè¢«æŒä¹…åŒ–çš„å†™åˆ°å­˜å‚¨å™¨ä¸­</li>
</ul>
</li>
</ul>
<p>ACIDå‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html">https://www.cnblogs.com/malaikuangren/archive/2012/04/06/2434760.html</a></p>
<p>13.2 Springä¸­çš„äº‹åŠ¡ç®¡ç†</p>
<ul>
<li>å£°æ˜å¼äº‹åŠ¡ï¼šAOP</li>
<li>ç¼–ç¨‹å¼äº‹åŠ¡ï¼šéœ€è¦å†ä»£ç ä¸­ï¼Œè¿›è¡Œäº‹åŠ¡ç®¡ç†</li>
</ul>
<p><strong>å£°æ˜å¼äº‹åŠ¡</strong></p>
<p>spring-dao</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    DataSource:ä½¿ç”¨Springçš„æ•°æ®æºæ›¿æ¢Mybatisçš„é…ç½® c3p0 dbcp druid--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;datasource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;datasource&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç»‘å®š mybatis é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:com/zz/mapper/*.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- sqlSessionTemplate å°±æ˜¯ä¹‹å‰ä½¿ç”¨çš„ï¼šsqlsession --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSession&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥sqlSessionFactory åŸå› ï¼šå®ƒæ²¡æœ‰setæ–¹æ³•--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å£°æ˜å¼äº‹åŠ¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;datasource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ç»“åˆaopå®ç°äº‹åŠ¡ç»‡å…¥--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„é€šçŸ¥ç±»--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç»™å“ªäº›æ–¹æ³•é…ç½®äº‹åŠ¡--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ–°ä¸œè¥¿ï¼šé…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§ propagation--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            ç»™å“ªäº›æ–¹æ³•é…ç½®äº‹åŠ¡   --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;add*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;delete*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;update*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;select*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- *å·åŒ…å«ä¸Šé¢4ä¸ªæ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot;/&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®äº‹åŠ¡åˆ‡å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;txPointCut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.zz.mapper.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;txPointCut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>UserMapperImpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zz.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserMapperImpl</span> <span class="keyword">extends</span> <span class="title class_">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title class_">UserMapper</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">selectUser</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">3</span>, <span class="string">&quot;zzzzz&quot;</span>, <span class="string">&quot;1231241&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> getSqlSession().getMapper(UserMapper.class);</span><br><span class="line">        addUser(user);</span><br><span class="line">        deleteUser(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">return</span> mapper.selectUser();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getSqlSession().getMapper(UserMapper.class).addUser(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteUser</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getSqlSession().getMapper(UserMapper.class).deleteUser(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ€è€ƒï¼š</strong><br>ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡ï¼Ÿ</p>
<ul>
<li>å¦‚æœä¸é…ç½®äº‹åŠ¡ï¼Œå¯èƒ½å­˜åœ¨æ•°æ®æäº¤ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼›</li>
<li>å¦‚æœä¸åœ¨springä¸­å»é…ç½®å£°æ˜å¼äº‹åŠ¡ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ä»£ç ä¸­æ‰‹åŠ¨é…ç½®äº‹åŠ¡ï¼</li>
<li>äº‹åŠ¡åœ¨é¡¹ç›®çš„å¼€å‘ä¸­éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§é—®é¢˜ï¼</li>
</ul>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç : <a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>å—å¤§ã€Šè½¯ä»¶åˆ†æã€‹01.Introduction</title>
    <url>/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯å—äº¬å¤§å­¦ææ¨¾ã€è°­æ·»è€å¸ˆçš„ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹çš„ç¬”è®°ã€‚å†…å®¹æ¥è‡ªè¯¾ç¨‹pptä»¥åŠè¯¾ç¨‹è®²è§£ã€‚</p>
<blockquote>
<p>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://tai-e.pascal-lab.net/lectures.html">Static Program Analysis | Tai-e (pascal-lab.net)</a></p>
<p>æˆè¯¾è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1b7411K7P4">è§†é¢‘å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹01ï¼ˆIntroductionï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>è¯¾ç¨‹å®éªŒrepoï¼š<a href="https://github.com/pascal-lab/Tai-e-assignments">pascal-lab/Tai-e-assignments: Tai-e assignments for static program analysis (github.com)</a></p>
</blockquote>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ol>
<li>PL and Static Analysis</li>
<li>Why We Learn Static Analysis</li>
<li>What is Static Analysis</li>
<li>Static Analysis Features and Examples</li>
</ol>
<span id="more"></span>
<h1 id="PL-and-Static-Analysis"><a href="#PL-and-Static-Analysis" class="headerlink" title="PL and Static Analysis"></a>PL and Static Analysis</h1><p>PL: Progeamming Languages</p>
<ul>
<li>Theory<ul>
<li>Language design</li>
<li>Type system</li>
<li>Semantics and logics</li>
<li>â€¦â€¦</li>
</ul>
</li>
<li>Environment<ul>
<li>Compilers</li>
<li>Runtime system</li>
<li>â€¦â€¦</li>
</ul>
</li>
<li>Application<ul>
<li>==Program analysis==</li>
<li>Program verification</li>
<li>Program synthesis</li>
<li>â€¦â€¦</li>
</ul>
</li>
</ul>
<p>Background: In the last decade, the language cores had few changes, but the programs became significantly larger and more complicated.</p>
<p>Challenge: How to ensure the reliability, security and other promises of large-scale and complex programs?</p>
<h1 id="Why-we-need-static-analysis"><a href="#Why-we-need-static-analysis" class="headerlink" title="Why we need static analysis?"></a>Why we need static analysis?</h1><ul>
<li>Program Reliability<ul>
<li>Null pointer dereference, momery leak, etc.</li>
</ul>
</li>
<li>Program Security<ul>
<li>Private information leak, injection attack, etc.</li>
</ul>
</li>
<li>Compiler Optimization<ul>
<li>Dead code elimination, code motion, etc.</li>
</ul>
</li>
<li>Program Understanding<ul>
<li>IDE call hierarchy, type indication, etc.</li>
</ul>
</li>
</ul>
<h1 id="Static-Analysis"><a href="#Static-Analysis" class="headerlink" title="Static Analysis"></a>Static Analysis</h1><h2 id="Static-Analysis-1"><a href="#Static-Analysis-1" class="headerlink" title="Static Analysis"></a>Static Analysis</h2><p>==Static== analysis analyzes a program <em>P</em> to reason about its behaviors and deterines whether it satisfies some properties ==before running== <em>P</em>.</p>
<ul>
<li>Does <em>P</em> contain andy private information leaks?</li>
<li>Does <em>P</em> deference any null pointers?</li>
<li>Are all the cast operations in <em>P</em> safe?</li>
<li>Can <em>v1</em> and <em>v2</em> in <em>P</em> point to the same memory location?</li>
<li>Will certain <em>assert</em> statements in <em>P</em> fail?</li>
<li>Is this piece of code in <em>P</em> dead(so that it could be eliminated)?</li>
<li>â€¦</li>
</ul>
<h2 id="Rice-Theorem"><a href="#Rice-Theorem" class="headerlink" title="Rice Theorem"></a>Rice Theorem</h2><p>Unfortuanately, by Riceâ€™s Theorem, there is no such approach to determine whether P satisfies such non-trivial propertirs, i.e., giving exact answer: Yes or No.</p>
<blockquote>
<p>Riceâ€™s Theorem:</p>
<p>Any non-trivial property of the behavior of progras in a r.e. language is undecidable</p>
</blockquote>
<p>r.e.(recurisively enumerable) = recognizable by a Turing-machineï¼ˆC, Java, and amost all languagesï¼‰</p>
<p>A property is trivial if either it is not satisfied by any r.e. language,  or if it is satisfied by all r.e. languages; otherwise it is non-trivial.</p>
<p>non-trivial properties </p>
<p>~= interesting properties </p>
<p>~= the properties related with run-time behaviors of programs</p>
<blockquote>
<p>ä»»ä½•ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ç¨‹åºä¸­ä¸åŠ¨æ€è¿è¡Œæ—¶ç›¸å…³çš„ç‰¹æ€§éƒ½æ˜¯ä¸ç¡®å®šçš„</p>
</blockquote>
<p>Perfect static analysis</p>
<ul>
<li>Sound(Overapproximateï¼Œfalse postitivs), and</li>
<li>Complete(Underaapproximateï¼Œfalse negatives)</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/SoundandComplete.png" alt></p>
<p>Useful static analysis</p>
<ul>
<li>Compromise soundness(false negatives), or</li>
<li>Compromise completeness(false positives)</li>
</ul>
<p>Mostly compromising completensess: ==Sound== but ==not fully-precise== static analysis.</p>
<h2 id="Necessity-of-Soundness"><a href="#Necessity-of-Soundness" class="headerlink" title="Necessity of Soundness"></a>Necessity of Soundness</h2><p>Soundness is ==critiacal== to a collection of important(static-analysis) applications such as <em>compiler optimization</em> and <em>program verification</em>.</p>
<p>Example: Safe Cast</p>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/SafeCast.png" alt></p>
<ul>
<li>Unsound: Safe Cast -&gt; wrong conclusion</li>
<li>Sound: Not Safe Cast: correct conclusion</li>
<li>Soundness is also ==preferable== to other (static-analysis) applications for which soundness is not demanded, e.g., bug detection, as better soundness implies more bugs could be found.</li>
</ul>
<h2 id="Static-Analysis-Birdâ€™s-Eye-View"><a href="#Static-Analysis-Birdâ€™s-Eye-View" class="headerlink" title="Static Analysis-Birdâ€™s Eye View"></a>Static Analysis-Birdâ€™s Eye View</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (input)</span><br><span class="line">	x = 1;</span><br><span class="line">else</span><br><span class="line">	x = 0</span><br><span class="line">-&gt; x = ?</span><br></pre></td></tr></table></figure>
<p>Two analysis results:</p>
<ol>
<li><p>when input is true, x = 1</p>
<p>when input is false, x = 0</p>
<p>Sonud, precise, expensive</p>
</li>
<li><p>x = 1 or  x = 0</p>
<p>Sound, imprecise, cheap</p>
</li>
</ol>
<p>Static Analysis: ensure(or get close to) ==soundness==, while making good trade-offs between analysis ==precision== and analysis ==speed==. </p>
<h2 id="Two-Words-to-Conclude-Static-Analysis"><a href="#Two-Words-to-Conclude-Static-Analysis" class="headerlink" title="Two Words to Conclude Static Analysis"></a>Two Words to Conclude Static Analysis</h2><p>Abstraction + Over-approximation</p>
<p>Example: Determine the sign (+, -, or 0) of all the variables of a given program.</p>
<ul>
<li>Abstraction</li>
<li>Over-approximation<ul>
<li>Transfer functions</li>
<li>Control flows</li>
</ul>
</li>
</ul>
<h3 id="Abstaction"><a href="#Abstaction" class="headerlink" title="Abstaction"></a>Abstaction</h3><p>Determine the sign (+, -, or 0) of all the variables of a given program.</p>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/Abstraction.png" alt></p>
<h3 id="Over-approximation"><a href="#Over-approximation" class="headerlink" title="Over-approximation:"></a>Over-approximation:</h3><h4 id="Transfer-Functions"><a href="#Transfer-Functions" class="headerlink" title="Transfer Functions"></a>Transfer Functions</h4><ul>
<li>In static analysis, transfer functions define how to evaluate different program statements on abstract values.</li>
<li>Transfer functions are defined according to â€œanalysis problemâ€ and the â€œsemanticsâ€ of different program statements.</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/TransferFunction.png" alt></p>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/TranferFunctionAnalysis.png" alt></p>
<p>1, 2: Static analysis is useful</p>
<p>3: But(over-approximated) static analysis produces false positives</p>
<h4 id="Control-Flows"><a href="#Control-Flows" class="headerlink" title="Control Flows"></a>Control Flows</h4><p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/ControlFlows.png" alt></p>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B01-Introduction/ControlFlow2.png" alt></p>
<p>As itâ€™s impossible to enumerate all paths in practice, flow merging (as a way of over-approximation) is taken for granted in most static analyses.</p>
]]></content>
      <categories>
        <category>è½¯ä»¶åˆ†æ</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
        <tag>Static Analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>äººæœˆç¥è¯</title>
    <url>/2022/12/09/%E4%BA%BA%E6%9C%88%E7%A5%9E%E8%AF%9D/</url>
    <content><![CDATA[<blockquote>
<p><a href="https://github.com/zhengda/The-Mythical-Man-Month-zh">https://github.com/zhengda/The-Mythical-Man-Month-zh</a></p>
</blockquote>
<p>ç›®å½•<br>ç¬¬1ç«  ç„¦æ²¹å‘</p>
<ul>
<li><p>1.1 ç¼–ç¨‹ç³»ç»Ÿäº§å“ï¼ˆProgramming Systems Productï¼‰å¼€å‘çš„å·¥ä½œé‡æ˜¯ä¾›ä¸ªäººä½¿ç”¨çš„ã€ç‹¬ç«‹å¼€å‘çš„æ„ä»¶ç¨‹åºçš„ä¹å€ã€‚æˆ‘ä¼°è®¡è½¯ä»¶æ„ä»¶äº§å“åŒ–å¼•èµ·äº†3å€å·¥ä½œé‡ï¼Œå°†è½¯ä»¶æ„ä»¶æ•´åˆæˆå®Œæ•´ç³»ç»Ÿæ‰€éœ€è¦çš„è®¾è®¡ã€é›†æˆå’Œæµ‹è¯•åˆå¼ºåŠ äº†3å€çš„å·¥ä½œé‡ï¼Œè¿™äº›é«˜æˆæœ¬çš„æ„ä»¶åœ¨æ ¹æœ¬ä¸Šæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p>
</li>
<li><p>1.2 ç¼–ç¨‹è¡Œä¸šâ€æ»¡è¶³æˆ‘ä»¬å†…å¿ƒæ·±å¤„çš„åˆ›é€ æ¸´æœ›å’Œæ„‰æ‚¦æ‰€æœ‰äººçš„å…±æœ‰æƒ…æ„Ÿâ€ï¼Œæä¾›äº†äº”ç§ä¹è¶£ï¼š</p>
<ul>
<li>åˆ›å»ºäº‹ç‰©çš„å¿«ä¹</li>
<li>å¼€å‘å¯¹å…¶ä»–äººæœ‰ç”¨çš„ä¸œè¥¿çš„ä¹è¶£</li>
<li>å°†å¯ä»¥æ´»åŠ¨ã€ç›¸äº’å•®åˆçš„é›¶éƒ¨ä»¶ç»„è£…æˆç±»ä¼¼è¿·å®«çš„ä¸œè¥¿ï¼Œè¿™ä¸ªè¿‡ç¨‹æ‰€ä½“ç°å‡ºä»¤äººç¥é­‚é¢ å€’çš„é­…åŠ›</li>
<li>é¢å¯¹ä¸é‡å¤çš„ä»»åŠ¡ï¼Œä¸é—´æ–­å­¦ä¹ çš„ä¹è¶£</li>
<li>å·¥ä½œåœ¨å¦‚æ­¤æ˜“äºé©¾é©­çš„ä»‹è´¨ä¸Šçš„ä¹è¶£â€”çº¯ç²¹çš„æ€ç»´æ´»åŠ¨ï¼Œå…¶å­˜åœ¨ã€ç§»åŠ¨å’Œè¿è½¬æ–¹å¼å®Œå…¨ä¸åŒäºå®é™…ç‰©ä½“</li>
</ul>
</li>
<li><p>1.3 åŒæ ·ï¼Œè¿™ä¸ªè¡Œä¸šå…·æœ‰ä¸€äº›å†…åœ¨å›ºæœ‰çš„è‹¦æ¼ï¼š</p>
<ul>
<li>å°†åšäº‹æ–¹å¼è°ƒæ•´åˆ°è¿½æ±‚å®Œç¾ï¼Œæ˜¯å­¦ä¹ ç¼–ç¨‹çš„æœ€å›°éš¾éƒ¨åˆ†</li>
<li>ç”±å…¶ä»–äººæ¥è®¾å®šç›®æ ‡ï¼Œå¹¶ä¸”å¿…é¡»ä¾é è‡ªå·±æ— æ³•æ§åˆ¶çš„äº‹ç‰©ï¼ˆç‰¹åˆ«æ˜¯ç¨‹åºï¼‰ï¼›æƒå¨ä¸ç­‰åŒäºè´£ä»»</li>
<li>å®é™…æƒ…å†µçœ‹èµ·æ¥è¦æ¯”è¿™ä¸€ç‚¹å¥½ä¸€äº›ï¼šçœŸæ­£çš„æƒå¨æ¥è‡ªäºæ¯æ¬¡ä»»åŠ¡çš„å®Œæˆ</li>
<li>ä»»ä½•åˆ›é€ æ€§æ´»åŠ¨éƒ½ä¼´éšç€æ¯ç‡¥è‰°è‹¦çš„åŠ³åŠ¨ï¼Œç¼–ç¨‹ä¹Ÿä¸ä¾‹å¤–</li>
<li>äººä»¬é€šå¸¸æœŸæœ›é¡¹ç›®åœ¨æ¥è¿‘ç»“æŸæ—¶ï¼Œï¼ˆbugã€å·¥ä½œæ—¶é—´ï¼‰èƒ½æ”¶æ•›å¾—å¿«ä¸€äº›ï¼Œç„¶è€Œè½¯ä»¶é¡¹ç›®çš„æƒ…å†µå´æ˜¯è¶Šæ¥è¿‘å®Œæˆï¼Œæ”¶æ•›å¾—è¶Šæ…¢</li>
<li>äº§å“åœ¨å³å°†å®Œæˆæ—¶æ€»é¢ä¸´ç€é™ˆæ—§è¿‡æ—¶çš„å¨èƒ</li>
</ul>
</li>
</ul>
<span id="more"></span>
<p>ç¬¬2ç«  äººæœˆç¥è¯</p>
<ul>
<li>2.1 ç¼ºä¹åˆç†çš„æ—¶é—´è¿›åº¦æ˜¯é€ æˆé¡¹ç›®æ»åçš„æœ€ä¸»è¦åŸå› ï¼Œå®ƒæ¯”å…¶ä»–æ‰€æœ‰å› ç´ åŠ èµ·æ¥å½±å“è¿˜å¤§ã€‚</li>
<li>2.2 è‰¯å¥½çš„çƒ¹é¥ªéœ€è¦æ—¶é—´ï¼ŒæŸäº›ä»»åŠ¡æ— æ³•åœ¨ä¸æŸå®³ç»“æœçš„æƒ…å†µä¸‹åŠ å¿«é€Ÿåº¦ã€‚</li>
<li>2.3 æ‰€æœ‰çš„ç¼–ç¨‹äººå‘˜éƒ½æ˜¯ä¹è§‚ä¸»ä¹‰è€…ï¼šâ€ä¸€åˆ‡éƒ½å°†è¿ä½œè‰¯å¥½â€ã€‚</li>
<li>2.4 ç”±äºç¼–ç¨‹äººå‘˜é€šè¿‡çº¯ç²¹çš„æ€ç»´æ´»åŠ¨æ¥å¼€å‘ï¼Œæ‰€ä»¥æˆ‘ä»¬æœŸå¾…åœ¨å®ç°è¿‡ç¨‹ä¸­ä¸ä¼šç¢°åˆ°å›°éš¾ã€‚</li>
<li>2.5 ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„æ„æ€æ˜¯æœ‰ç¼ºé™·çš„ï¼Œå› æ­¤æ€»ä¼šæœ‰bugã€‚</li>
<li>2.6 æˆ‘ä»¬å›´ç»•æˆæœ¬æ ¸ç®—çš„ä¼°è®¡æŠ€æœ¯ï¼Œæ··æ·†äº†å·¥ä½œé‡å’Œé¡¹ç›®è¿›å±•ã€‚äººæœˆæ˜¯å±é™©å’Œå¸¦æœ‰æ¬ºéª—æ€§çš„ç¥è¯ï¼Œå› ä¸ºå®ƒæš—ç¤ºäººå‘˜æ•°é‡å’Œæ—¶é—´æ˜¯å¯ä»¥ç›¸äº’æ›¿æ¢çš„ã€‚</li>
<li>2.7 åœ¨è‹¥å¹²äººå‘˜ä¸­åˆ†è§£ä»»åŠ¡ä¼šå¼•å‘é¢å¤–çš„æ²Ÿé€šå·¥ä½œé‡â€”åŸ¹è®­å’Œç›¸äº’æ²Ÿé€šã€‚</li>
<li>2.8 å…³äºè¿›åº¦å®‰æ’ï¼Œæˆ‘çš„ç»éªŒæ˜¯ä¸º1/3è®¡åˆ’ã€1/6ç¼–ç ã€1/4æ„ä»¶æµ‹è¯•ä»¥åŠ1/4ç³»ç»Ÿæµ‹è¯•ã€‚</li>
<li>2.9 ä½œä¸ºä¸€ä¸ªå­¦ç§‘ï¼Œæˆ‘ä»¬ç¼ºä¹æ•°æ®ä¼°è®¡ã€‚</li>
<li>2.10 å› ä¸ºæˆ‘ä»¬å¯¹è‡ªå·±çš„ä¼°è®¡æŠ€æœ¯ä¸ç¡®å®šï¼Œæ‰€ä»¥åœ¨ç®¡ç†å’Œå®¢æˆ·çš„å‹åŠ›ä¸‹ï¼Œæˆ‘ä»¬å¸¸å¸¸ç¼ºä¹åšæŒçš„å‹‡æ°”ã€‚</li>
<li>2.11 Brookæ³•åˆ™ï¼šå‘è¿›åº¦è½åçš„é¡¹ç›®ä¸­å¢åŠ äººæ‰‹ï¼Œåªä¼šä½¿è¿›åº¦æ›´åŠ è½åã€‚</li>
<li>2.12 å‘è½¯ä»¶é¡¹ç›®ä¸­å¢æ´¾äººæ‰‹ä»ä¸‰ä¸ªæ–¹é¢å¢åŠ äº†é¡¹ç›®å¿…è¦çš„æ€»ä½“å·¥ä½œé‡ï¼šä»»åŠ¡é‡æ–°åˆ†é…æœ¬èº«å’Œæ‰€é€ æˆçš„å·¥ä½œä¸­æ–­ï¼›åŸ¹è®­æ–°äººå‘˜ï¼›é¢å¤–çš„ç›¸äº’æ²Ÿé€šã€‚</li>
</ul>
<p>ç¬¬3ç«  å¤–ç§‘æ‰‹æœ¯é˜Ÿä¼</p>
<ul>
<li>3.1 åŒæ ·æœ‰ä¸¤å¹´ç»éªŒè€Œä¸”åœ¨å—åˆ°åŒæ ·çš„åŸ¹è®­çš„æƒ…å†µä¸‹ï¼Œä¼˜ç§€çš„ä¸“ä¸šç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡æ˜¯è¾ƒå·®ç¨‹åºå‘˜çš„åå€ã€‚ï¼ˆSackmanã€Eriksonå’ŒGrandï¼‰</li>
<li>3.2 Sackmanã€Eriksonå’ŒGrandçš„æ•°æ®æ˜¾ç¤ºç»éªŒå’Œå®é™…è¡¨ç°ä¹‹é—´æ²¡æœ‰ç›¸äº’è”ç³»ã€‚æˆ‘æ€€ç–‘è¿™ç§ç°è±¡æ˜¯å¦æ™®éæˆç«‹ã€‚</li>
<li>3.3 å°å‹ã€ç²¾å¹²é˜Ÿä¼æ˜¯æœ€å¥½çš„â€”å°½å¯èƒ½çš„å°‘ã€‚</li>
<li>3.4 ä¸¤ä¸ªäººçš„å›¢é˜Ÿï¼Œå…¶ä¸­ä¸€ä¸ªé¡¹ç›®ç»ç†ï¼Œå¸¸å¸¸æ˜¯æœ€ä½³çš„äººå‘˜ä½¿ç”¨æ–¹æ³•ã€‚[ç•™æ„ä¸€ä¸‹ä¸Šå¸å¯¹å©šå§»çš„è®¾è®¡ã€‚]</li>
<li>3.5 å¯¹äºçœŸæ­£æ„ä¹‰ä¸Šçš„å¤§å‹ç³»ç»Ÿï¼Œå°å‹ç²¾å¹²çš„é˜Ÿä¼å¤ªæ…¢äº†ã€‚</li>
<li>3.6 å®é™…ä¸Šï¼Œç»å¤§å¤šæ•°å¤§å‹ç¼–ç¨‹ç³»ç»Ÿçš„ç»éªŒæ˜¾ç¤ºå‡ºï¼Œä¸€æ‹¥è€Œä¸Šçš„å¼€å‘æ–¹æ³•æ˜¯é«˜æˆæœ¬ã€é€Ÿåº¦ç¼“æ…¢ã€ä¸å……åˆ†çš„ï¼Œå¼€å‘å‡ºçš„äº§å“æ— æ³•è¿›è¡Œæ¦‚å¿µä¸Šçš„é›†æˆã€‚</li>
<li>3.7 ä¸€ä½é¦–å¸­ç¨‹åºå‘˜ã€ç±»ä¼¼äºå¤–ç§‘æ‰‹æœ¯é˜Ÿä¼çš„å›¢é˜Ÿæ¶æ„æä¾›äº†ä¸€ç§æ–¹æ³•â€”æ—¢èƒ½è·å¾—ç”±å°‘æ•°å¤´è„‘äº§ç”Ÿçš„äº§å“å®Œæ•´æ€§ï¼Œåˆèƒ½å¾—åˆ°å¤šä½ååŠ©äººå‘˜çš„æ€»ä½“ç”Ÿäº§ç‡ï¼Œè¿˜å½»åº•åœ°å‡å°‘äº†æ²Ÿé€šçš„å·¥ä½œé‡ã€‚</li>
</ul>
<p>ç¬¬4ç«  è´µæ—ä¸“åˆ¶ã€æ°‘ä¸»æ”¿æ²»å’Œç³»ç»Ÿè®¾è®¡</p>
<ul>
<li>4.1 â€œæ¦‚å¿µå®Œæ•´æ€§æ˜¯ç³»ç»Ÿè®¾è®¡ä¸­æœ€é‡è¦çš„è€ƒè™‘å› ç´ â€ã€‚</li>
<li>4.2 â€œåŠŸèƒ½ä¸ç†è§£ä¸Šçš„å¤æ‚ç¨‹åº¦çš„æ¯”å€¼æ‰æ˜¯ç³»ç»Ÿè®¾è®¡çš„æœ€ç»ˆæµ‹è¯•æ ‡å‡†â€ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸°å¯Œçš„åŠŸèƒ½ã€‚[è¯¥æ¯”å€¼æ˜¯å¯¹æ˜“ç”¨æ€§çš„ä¸€ç§æµ‹é‡ï¼Œç”±ç®€å•å’Œå¤æ‚åº”ç”¨å…±åŒéªŒè¯ã€‚]</li>
<li>4.3 ä¸ºäº†è·å¾—æ¦‚å¿µå®Œæ•´æ€§ï¼Œè®¾è®¡å¿…é¡»ç”±ä¸€ä¸ªäººæˆ–è€…å…·æœ‰å…±è¯†çš„å°å‹å›¢é˜Ÿæ¥å®Œæˆã€‚</li>
<li>4.4 â€œå¯¹äºéå¸¸å¤§å‹çš„é¡¹ç›®ï¼Œå°†è®¾è®¡æ–¹æ³•ã€ä½“ç³»ç»“æ„æ–¹é¢çš„å·¥ä½œä¸å…·ä½“å®ç°ç›¸åˆ†ç¦»æ˜¯è·å¾—æ¦‚å¿µå®Œæ•´æ€§çš„å¼ºæœ‰åŠ›æ–¹æ³•ã€‚â€[åŒæ ·é€‚ç”¨äºå°å‹é¡¹ç›®ã€‚]</li>
<li>4.5 â€œå¦‚æœè¦å¾—åˆ°ç³»ç»Ÿæ¦‚å¿µä¸Šçš„å®Œæ•´æ€§ï¼Œé‚£ä¹ˆå¿…é¡»æ§åˆ¶è¿™äº›æ¦‚å¿µã€‚è¿™å®é™…ä¸Šæ˜¯ä¸€ç§æ— éœ€ä»»ä½•æ­‰æ„çš„è´µæ—ä¸“åˆ¶ç»Ÿæ²»ã€‚â€</li>
<li>4.6 çºªå¾‹ã€è§„åˆ™å¯¹è¡Œä¸šæ˜¯æœ‰ç›Šçš„ã€‚å¤–éƒ¨çš„ä½“ç³»ç»“æ„è§„å®šå®é™…ä¸Šæ˜¯å¢å¼ºï¼Œè€Œä¸æ˜¯é™åˆ¶å®ç°å°ç»„çš„åˆ›é€ æ€§ã€‚</li>
<li>4.7 æ¦‚å¿µä¸Šç»Ÿä¸€çš„ç³»ç»Ÿèƒ½æ›´å¿«åœ°å¼€å‘å’Œæµ‹è¯•ã€‚</li>
<li>4.8 ä½“ç³»ç»“æ„ï¼ˆarchitectureï¼‰ã€è®¾è®¡å®ç°ï¼ˆimplementationï¼‰ã€ç‰©ç†å®ç°ï¼ˆrealizationï¼‰çš„è®¸å¤šå·¥ä½œå¯ä»¥å¹¶å‘è¿›è¡Œã€‚[è½¯ä»¶å’Œç¡¬ä»¶è®¾è®¡åŒæ ·å¯ä»¥å¹¶è¡Œã€‚]</li>
</ul>
<p>ç¬¬5ç«  ç”»è›‡æ·»è¶³</p>
<ul>
<li>5.1 å°½æ—©äº¤æµå’ŒæŒç»­æ²Ÿé€šèƒ½ä½¿ç»“æ„å¸ˆæœ‰è¾ƒå¥½çš„æˆæœ¬æ„è¯†ï¼Œä»¥åŠä½¿å¼€å‘äººå‘˜è·å¾—å¯¹è®¾è®¡çš„ä¿¡å¿ƒï¼Œå¹¶ä¸”ä¸ä¼šæ··æ·†å„è‡ªçš„è´£ä»»åˆ†å·¥ã€‚</li>
<li>5.2 ç»“æ„å¸ˆå¦‚ä½•æˆåŠŸåœ°å½±å“å®ç°ï¼š<ul>
<li>ç‰¢è®°æ˜¯å¼€å‘äººå‘˜æ‰¿æ‹…åˆ›é€ æ€§çš„å®ç°è´£ä»»ï¼›ç»“æ„å¸ˆåªèƒ½æå‡ºå»ºè®®ã€‚</li>
<li>æ—¶åˆ»å‡†å¤‡ç€ä¸ºæ‰€æŒ‡å®šçš„è¯´æ˜å»ºè®®ä¸€ç§å®ç°çš„æ–¹æ³•ï¼Œå‡†å¤‡æ¥å—ä»»ä½•å…¶ä»–å¯è¡Œçš„æ–¹æ³•ã€‚</li>
<li>å¯¹ä¸Šè¿°çš„å»ºè®®ä¿æŒä½è°ƒå’Œå¹³é™ã€‚</li>
<li>å‡†å¤‡å¯¹æ‰€å»ºè®®çš„æ”¹è¿›æ”¾å¼ƒåšæŒã€‚</li>
<li>å¬å–å¼€å‘äººå‘˜åœ¨ä½“ç³»ç»“æ„ä¸Šæ”¹è¿›çš„å»ºè®®ã€‚</li>
</ul>
</li>
<li>5.3 ç¬¬äºŒä¸ªç³»ç»Ÿæ˜¯äººä»¬æ‰€è®¾è®¡çš„æœ€å±é™©çš„ç³»ç»Ÿï¼Œé€šå¸¸çš„å€¾å‘æ˜¯è¿‡åˆ†åœ°è¿›è¡Œè®¾è®¡ã€‚</li>
<li>5.4 OS/360æ˜¯å…¸å‹çš„ç”»è›‡æ·»è¶³ï¼ˆsecond-system effectï¼‰çš„ä¾‹å­ã€‚[Windows NTä¼¼ä¹æ˜¯90å¹´ä»£çš„ä¾‹å­ã€‚]</li>
<li>5.5 ä¸ºåŠŸèƒ½åˆ†é…ä¸€ä¸ªå­—èŠ‚å’Œå¾®ç§’çš„ä¼˜å…ˆæƒå€¼æ˜¯ä¸€ä¸ªå¾ˆæœ‰ä»·å€¼çš„è§„èŒƒåŒ–æ–¹æ³•ã€‚</li>
</ul>
<p>ç¬¬6ç«  è´¯å½»æ‰§è¡Œ</p>
<ul>
<li>6.1 å³ä½¿æ˜¯å¤§å‹çš„è®¾è®¡å›¢é˜Ÿï¼Œè®¾è®¡ç»“æœä¹Ÿå¿…é¡»ç”±ä¸€ä¸ªæˆ–ä¸¤ä¸ªäººæ¥å®Œæˆï¼Œä»¥ç¡®ä¿è¿™äº›å†³å®šæ˜¯ä¸€è‡´çš„ã€‚</li>
<li>6.2 å¿…é¡»æ˜ç¡®å®šä¹‰ä½“ç³»ç»“æ„ä¸­ä¸å…ˆå‰å®šä¹‰ä¸åŒçš„åœ°æ–¹ï¼Œé‡æ–°å®šä¹‰çš„è¯¦ç»†ç¨‹åº¦åº”è¯¥ä¸åŸå…ˆçš„è¯´æ˜ä¸€è‡´ã€‚</li>
<li>6.3 å‡ºäºç²¾ç¡®æ€§çš„è€ƒè™‘ï¼Œæˆ‘ä»¬éœ€è¦å½¢å¼åŒ–çš„è®¾è®¡å®šä¹‰ï¼ŒåŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦è®°å™æ€§å®šä¹‰æ¥åŠ æ·±ç†è§£ã€‚</li>
<li>6.4 å¿…é¡»é‡‡ç”¨å½¢å¼åŒ–å®šä¹‰å’Œè®°å™æ€§å®šä¹‰ä¸­çš„ä¸€ç§ä½œä¸ºæ ‡å‡†ï¼Œå¦ä¸€ç§ä½œä¸ºè¾…åŠ©æªæ–½ï¼›å®ƒä»¬éƒ½å¯ä»¥ä½œä¸ºè¡¨è¾¾çš„æ ‡å‡†ã€‚</li>
<li>6.5 è®¾è®¡å®ç°ï¼ŒåŒ…æ‹¬æ¨¡æ‹Ÿä»¿çœŸï¼Œå¯ä»¥å……å½“ä¸€ç§å½¢å¼åŒ–å®šä¹‰çš„æ–¹æ³•ï¼›è¿™ç§æ–¹æ³•æœ‰ä¸€äº›ä¸¥é‡çš„ç¼ºç‚¹ã€‚</li>
<li>6.6 ç›´æ¥æ•´åˆæ˜¯ä¸€ç§å¼ºåˆ¶æ¨è¡Œè½¯ä»¶çš„ç»“æ„æ€§æ ‡å‡†çš„æ–¹æ³•ã€‚[ç¡¬ä»¶ä¸Šä¹Ÿæ˜¯å¦‚æ­¤â€”è€ƒè™‘å†…å»ºåœ¨ROMä¸­çš„Mac WIMPæ¥å£ã€‚]</li>
<li>6.7 â€œå¦‚æœèµ·åˆè‡³å°‘æœ‰ä¸¤ç§ä»¥ä¸Šçš„å®ç°ï¼Œé‚£ä¹ˆï¼ˆä½“ç³»ç»“æ„ï¼‰å®šä¹‰ä¼šæ›´åŠ æ•´æ´ï¼Œä¼šæ›´åŠ è§„èŒƒã€‚â€</li>
<li>6.8 å…è®¸ä½“ç³»ç»“æ„å¸ˆå¯¹å®ç°äººå‘˜çš„è¯¢é—®åšå‡ºç”µè¯åº”ç­”è§£é‡Šæ˜¯éå¸¸é‡è¦çš„ï¼Œå¹¶ä¸”å¿…é¡»è¿›è¡Œæ—¥å¿—è®°å½•å’Œæ•´ç†å‘å¸ƒã€‚[ç”µå­é‚®ä»¶æ˜¯ä¸€ç§å¯é€‰çš„ä»‹è´¨ã€‚]</li>
<li>6.9 â€œé¡¹ç›®ç»ç†æœ€å¥½çš„æœ‹å‹å°±æ˜¯ä»–æ¯å¤©è¦é¢å¯¹çš„æ•Œäººâ€”ç‹¬ç«‹çš„äº§å“æµ‹è¯•æœºæ„/å°ç»„ã€‚â€</li>
</ul>
<p>ç¬¬7ç«  ä¸ºä»€ä¹ˆå·´æ¯”ä¼¦å¡”ä¼šå¤±è´¥ï¼Ÿ</p>
<ul>
<li>7.1 å·´æ¯”ä¼¦å¡”é¡¹ç›®çš„å¤±è´¥æ˜¯å› ä¸ºç¼ºä¹äº¤æµï¼Œä»¥åŠäº¤æµçš„ç»“æœâ€”ç»„ç»‡ã€‚ äº¤æµ</li>
<li>7.2 â€œå› ä¸ºå·¦æ‰‹ä¸çŸ¥é“å³æ‰‹åœ¨åšä»€ä¹ˆï¼Œä»è€Œè¿›åº¦ç¾éš¾ã€åŠŸèƒ½çš„ä¸åˆç†å’Œç³»ç»Ÿç¼ºé™·çº·çº·å‡ºç°ã€‚â€ç”±äºå¯¹å…¶ä»–äººçš„å„ç§å‡è®¾ï¼Œå›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„ç†è§£å¼€å§‹å‡ºç°åå·®ã€‚</li>
<li>7.3 å›¢é˜Ÿåº”è¯¥ä»¥å°½å¯èƒ½å¤šçš„æ–¹å¼è¿›è¡Œç›¸äº’ä¹‹é—´çš„äº¤æµï¼šéæ­£å¼ã€å¸¸è§„é¡¹ç›®ä¼šè®®ï¼Œä¼šä¸Šè¿›è¡Œç®€è¦çš„æŠ€æœ¯é™ˆè¿°ã€å…±äº«çš„æ­£å¼é¡¹ç›®å·¥ä½œæ‰‹å†Œã€‚[ä»¥åŠç”µå­é‚®ä»¶ã€‚]</li>
<li>7.4 é¡¹ç›®å·¥ä½œæ‰‹å†Œâ€ä¸æ˜¯ç‹¬ç«‹çš„ä¸€ç¯‡æ–‡æ¡£ï¼Œå®ƒæ˜¯å¯¹é¡¹ç›®å¿…é¡»äº§ç”Ÿçš„ä¸€ç³»åˆ—æ–‡æ¡£è¿›è¡Œç»„ç»‡çš„ä¸€ç§ç»“æ„ã€‚â€</li>
<li>7.5 â€œé¡¹ç›®æ‰€æœ‰çš„æ–‡æ¡£éƒ½å¿…é¡»æ˜¯è¯¥ï¼ˆå·¥ä½œæ‰‹å†Œï¼‰ç»“æ„çš„ä¸€éƒ¨åˆ†ã€‚â€</li>
<li>7.6 éœ€è¦å°½æ—©å’Œä»”ç»†åœ°è®¾è®¡å·¥ä½œæ‰‹å†Œç»“æ„ã€‚</li>
<li>7.7 äº‹å…ˆåˆ¶è®¢äº†è‰¯å¥½ç»“æ„çš„å·¥ä½œæ‰‹å†Œâ€å¯ä»¥å°†åæ¥ä¹¦å†™çš„æ–‡å­—æ”¾ç½®åœ¨åˆé€‚çš„ç« èŠ‚ä¸­â€ï¼Œå¹¶ä¸”å¯ä»¥æé«˜äº§å“æ‰‹å†Œçš„è´¨é‡ã€‚</li>
<li>7.8 â€œæ¯ä¸€ä¸ªå›¢é˜Ÿæˆå‘˜åº”è¯¥äº†è§£æ‰€æœ‰çš„ææ–™ï¼ˆå·¥ä½œæ‰‹å†Œï¼‰ã€‚â€[æˆ‘æƒ³è¯´çš„æ˜¯ï¼Œæ¯ä¸ªå›¢é˜Ÿæˆå‘˜åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°æ‰€æœ‰ææ–™ï¼Œç½‘é¡µå³å¯æ»¡è¶³è¦æ±‚ã€‚]</li>
<li>7.9 å®æ—¶æ›´æ–°æ˜¯è‡³å…³é‡è¦çš„ã€‚</li>
<li>7.10 å·¥ä½œæ‰‹å†Œçš„ä½¿ç”¨è€…åº”è¯¥å°†æ³¨æ„åŠ›é›†ä¸­åœ¨ä¸Šæ¬¡é˜…è¯»åçš„å˜æ›´ï¼Œä»¥åŠå…³äºè¿™äº›å˜æ›´é‡è¦æ€§çš„è¯„è¿°ã€‚</li>
<li>7.11 OS/360é¡¹ç›®å·¥ä½œæ‰‹å†Œå¼€å§‹é‡‡ç”¨çš„æ˜¯çº¸ä»‹è´¨ï¼Œåæ¥æ¢æˆäº†å¾®ç¼©èƒ¶ç‰‡ã€‚</li>
<li>7.12 ä»Šå¤©[å³ä½¿åœ¨1975å¹´]ï¼Œå…±äº«çš„ç”µå­æ‰‹å†Œæ˜¯èƒ½æ›´å¥½è¾¾åˆ°æ‰€æœ‰è¿™äº›ç›®æ ‡ã€æ›´åŠ ä½å»‰ã€æ›´åŠ ç®€å•çš„æœºåˆ¶ã€‚</li>
<li>7.13 ä»ç„¶éœ€è¦ç”¨å˜æ›´æ¡å’Œä¿®è®¢æ—¥æœŸ[æˆ–å…·å¤‡åŒç­‰åŠŸèƒ½çš„æ–¹æ³•]æ¥æ ‡è®°æ–‡å­—ï¼›ä»ç„¶éœ€è¦åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„ç”µå­åŒ–å˜æ›´å°ç»“ã€‚</li>
<li>7.14 Parnaså¼ºçƒˆåœ°è®¤ä¸ºä½¿æ¯ä¸ªäººçœ‹åˆ°æ¯ä»¶äº‹çš„ç›®æ ‡æ˜¯å®Œå…¨é”™è¯¯çš„ï¼›å„ä¸ªéƒ¨åˆ†åº”è¯¥è¢«å°è£…ï¼Œä»è€Œæ²¡æœ‰äººéœ€è¦æˆ–è€…å…è®¸çœ‹åˆ°å…¶ä»–éƒ¨åˆ†çš„å†…éƒ¨ç»“æ„ï¼Œåªéœ€è¦äº†è§£æ¥å£ã€‚</li>
<li>7.15 Parnasçš„å»ºè®®çš„ç¡®æ˜¯ç¾éš¾çš„å¤„æ–¹ã€‚</li>
<li>7.16 å›¢é˜Ÿç»„ç»‡çš„ç›®æ ‡æ˜¯ä¸ºäº†å‡å°‘å¿…è¦çš„äº¤æµå’Œåä½œé‡ã€‚</li>
<li>7.17 ä¸ºäº†å‡å°‘äº¤æµï¼Œç»„ç»‡ç»“æ„åŒ…æ‹¬äº†äººåŠ›åˆ’åˆ†ï¼ˆdivision of laborï¼‰å’Œé™å®šèŒè´£èŒƒå›´ï¼ˆspecialization of functionï¼‰ã€‚</li>
<li>7.18 ä¼ ç»Ÿçš„æ ‘çŠ¶ç»„ç»‡ç»“æ„åæ˜ äº†æƒåŠ›çš„ç»“æ„åŸç†â€”ä¸å…è®¸åŒé‡é¢†å¯¼ã€‚</li>
<li>7.19 ç»„ç»‡ä¸­çš„äº¤æµæ˜¯ç½‘çŠ¶ï¼Œè€Œä¸æ˜¯æ ‘çŠ¶ç»“æ„ï¼Œå› è€Œæ‰€æœ‰çš„ç‰¹æ®Šç»„ç»‡æœºåˆ¶ï¼ˆå¾€å¾€ä½“ç°æˆç»„ç»‡ç»“æ„å›¾ä¸­çš„è™šçº¿éƒ¨åˆ†ï¼‰éƒ½æ˜¯ä¸ºäº†è¿›è¡Œè°ƒæ•´ï¼Œä»¥å…‹æœæ ‘çŠ¶ç»„ç»‡ç»“æ„ä¸­äº¤æµç¼ºä¹çš„å›°éš¾ã€‚</li>
<li>7.20 æ¯ä¸ªå­é¡¹ç›®å…·æœ‰ä¸¤ä¸ªé¢†å¯¼è§’è‰²â€”äº§å“è´Ÿè´£äººã€æŠ€æœ¯ä¸»ç®¡æˆ–ç»“æ„å¸ˆã€‚è¿™ä¸¤ä¸ªè§’è‰²çš„èŒèƒ½æœ‰ç€å¾ˆå¤§çš„åŒºåˆ«ï¼Œéœ€è¦ä¸åŒçš„æŠ€èƒ½ã€‚</li>
<li>7.21 ä¸¤ç§è§’è‰²ä¸­çš„ä»»æ„ç»„åˆå¯ä»¥æ˜¯éå¸¸æœ‰æ•ˆçš„ï¼š<ul>
<li>äº§å“è´Ÿè´£äººå’ŒæŠ€æœ¯ä¸»ç®¡æ˜¯åŒä¸€ä¸ªäººã€‚</li>
<li>äº§å“è´Ÿè´£äººä½œä¸ºæ€»æŒ‡æŒ¥ï¼ŒæŠ€æœ¯ä¸»ç®¡å……å½“å…¶å·¦å³æ‰‹ã€‚</li>
<li>æŠ€æœ¯ä¸»ç®¡ä½œä¸ºæ€»æŒ‡æŒ¥ï¼Œäº§å“è´Ÿè´£äººå……å½“å…¶å·¦å³æ‰‹ã€‚</li>
</ul>
</li>
</ul>
<p>ç¬¬8ç«  èƒ¸æœ‰æˆç«¹</p>
<ul>
<li>8.1 ä»…ä»…é€šè¿‡å¯¹ç¼–ç éƒ¨åˆ†çš„ä¼°è®¡ï¼Œç„¶åä¹˜ä»¥ä»»åŠ¡å…¶ä»–éƒ¨åˆ†çš„ç›¸å¯¹ç³»æ•°ï¼Œæ˜¯æ— æ³•å¾—å‡ºå¯¹æ•´é¡¹å·¥ä½œçš„ç²¾ç¡®ä¼°è®¡çš„ã€‚</li>
<li>8.2 æ„å»ºç‹¬ç«‹å°å‹ç¨‹åºçš„æ•°æ®ä¸é€‚ç”¨äºç¼–ç¨‹ç³»ç»Ÿé¡¹ç›®ã€‚</li>
<li>8.3 ç¨‹åºå¼€å‘å‘ˆç¨‹åºè§„æ¨¡çš„æŒ‡æ•°å¢é•¿ã€‚</li>
<li>8.4 ä¸€äº›å‘è¡¨çš„ç ”ç©¶æŠ¥å‘Šæ˜¾ç¤ºæŒ‡æ•°çº¦ä¸º1.5ã€‚[Boehmçš„æ•°æ®å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œåœ¨1.05å’Œ1.2ä¹‹é—´å˜åŒ–ã€‚1]</li>
<li>8.5 Portmançš„ICLæ•°æ®æ˜¾ç¤ºç›¸å¯¹äºå…¶ä»–æ´»åŠ¨å¼€é”€ï¼Œå…¨èŒç¨‹åºå‘˜ä»…å°†50ï¼…çš„æ—¶é—´ç”¨äºç¼–ç¨‹å’Œè°ƒè¯•ã€‚</li>
<li>8.6 IBMçš„Aronæ•°æ®æ˜¾ç¤ºï¼Œç”Ÿäº§ç‡æ˜¯ç³»ç»Ÿå„ä¸ªéƒ¨åˆ†äº¤äº’çš„å‡½æ•°ï¼Œåœ¨1.5Kåƒä»£ç è¡Œ/äººå¹´è‡³10Kåƒä»£ç è¡Œ/äººå¹´çš„èŒƒå›´å†…å˜åŒ–ã€‚</li>
<li>8.7 Harrçš„Bellå®éªŒå®¤æ•°æ®æ˜¾ç¤ºå¯¹äºå·²å®Œæˆçš„äº§å“ï¼Œæ“ä½œç³»ç»Ÿç±»çš„ç”Ÿäº§ç‡å¤§çº¦æ˜¯0.6KLOC/äººå¹´ï¼Œç¼–è¯‘ç±»å·¥ä½œçš„ç”Ÿäº§ç‡å¤§çº¦ä¸º2.2KLOC/äººå¹´ã€‚</li>
<li>8.8 Brooksçš„OS/360Sæ•°æ®ä¸Harrçš„æ•°æ®ä¸€è‡´ï¼šæ“ä½œç³»ç»Ÿ0.6ï½0.8KLOC/äººå¹´ï¼Œç¼–è¯‘å™¨2ï½3 KLOC/äººå¹´ã€‚</li>
<li>8.9 Corbatoçš„MITé¡¹ç›®MULTICSæ•°æ®æ˜¾ç¤ºï¼Œåœ¨æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘å™¨æ··åˆç±»å‹ä¸Šçš„ç”Ÿäº§ç‡æ˜¯1.2KLOC/äººå¹´ï¼Œä½†è¿™äº›æ˜¯PL/Içš„ä»£ç è¡Œï¼Œè€Œå…¶ä»–æ‰€æœ‰çš„æ•°æ®æ˜¯æ±‡ç¼–ä»£ç è¡Œã€‚</li>
<li>8.10 åœ¨åŸºæœ¬è¯­å¥çº§åˆ«ï¼Œç”Ÿäº§ç‡çœ‹ä¸Šå»æ˜¯ä¸ªå¸¸æ•°ã€‚</li>
<li>8.11 å½“ä½¿ç”¨é€‚å½“çš„é«˜çº§è¯­è¨€æ—¶ï¼Œç¨‹åºç¼–åˆ¶çš„ç”Ÿäº§ç‡å¯ä»¥æé«˜5å€ã€‚</li>
</ul>
<p>ç¬¬9ç«  å‰Šè¶³é€‚å±¥</p>
<ul>
<li>9.1 é™¤äº†è¿è¡Œæ—¶é—´ä»¥å¤–ï¼Œæ‰€å æ®çš„å†…å­˜ç©ºé—´ä¹Ÿæ˜¯ä¸»è¦å¼€é”€ã€‚ç‰¹åˆ«æ˜¯å¯¹äºæ“ä½œç³»ç»Ÿï¼Œå®ƒçš„å¾ˆå¤šç¨‹åºæ˜¯æ°¸ä¹…é©»ç•™åœ¨å†…å­˜ä¸­ã€‚</li>
<li>9.2 å³ä¾¿å¦‚æ­¤ï¼ŒèŠ±è´¹åœ¨é©»ç•™ç¨‹åºæ‰€å æ®å†…å­˜ä¸Šçš„é‡‘é’±ä»æ˜¯ç‰©æœ‰æ‰€å€¼çš„ï¼Œæ¯”å…¶ä»–ä»»ä½•åœ¨é…ç½®ä¸ŠæŠ•èµ„çš„æ•ˆæœè¦å¥½ã€‚è§„æ¨¡æœ¬èº«ä¸æ˜¯åäº‹ï¼Œä½†ä¸å¿…è¦çš„è§„æ¨¡æ˜¯ä¸å¯å–çš„ã€‚</li>
<li>9.3 è½¯ä»¶å¼€å‘äººå‘˜å¿…é¡»è®¾ç«‹è§„æ¨¡ç›®æ ‡ï¼Œæ§åˆ¶è§„æ¨¡ï¼Œå‘æ˜ä¸€äº›å‡å°‘è§„æ¨¡çš„æ–¹æ³•â€”å°±å¦‚åŒç¡¬ä»¶å¼€å‘äººå‘˜ä¸ºå‡å°‘å…ƒå™¨ä»¶æ‰€åšçš„ä¸€æ ·ã€‚</li>
<li>9.4 è§„æ¨¡é¢„ç®—ä¸ä»…ä»…åœ¨å æ®å†…å­˜æ–¹é¢æ˜¯æ˜ç¡®çš„ï¼ŒåŒæ—¶è¿˜åº”è¯¥æŒ‡æ˜ç¨‹åºå¯¹ç£ç›˜çš„è®¿é—®æ¬¡æ•°ã€‚</li>
<li>9.5 è§„æ¨¡é¢„ç®—å¿…é¡»ä¸åˆ†é…çš„åŠŸèƒ½ç›¸å…³è”ï¼›åœ¨æŒ‡æ˜æ¨¡å—å¤§å°çš„åŒæ—¶ï¼Œç¡®åˆ‡å®šä¹‰æ¨¡å—çš„åŠŸèƒ½ã€‚</li>
<li>9.6 åœ¨å¤§å‹çš„å›¢é˜Ÿä¸­ï¼Œå„ä¸ªå°ç»„å€¾å‘äºä¸æ–­åœ°å±€éƒ¨ä¼˜åŒ–ï¼Œä»¥æ»¡è¶³è‡ªå·±çš„ç›®æ ‡ï¼Œè€Œè¾ƒå°‘è€ƒè™‘é˜Ÿç”¨æˆ·çš„æ•´ä½“å½±å“ã€‚è¿™ç§æ–¹å‘æ€§çš„é—®é¢˜æ˜¯å¤§å‹é¡¹ç›®çš„ä¸»è¦å±é™©ã€‚</li>
<li>9.7 åœ¨æ•´ä¸ªå®ç°çš„è¿‡ç¨‹æœŸé—´ï¼Œç³»ç»Ÿç»“æ„å¸ˆå¿…é¡»ä¿æŒæŒç»­çš„è­¦è§‰ï¼Œç¡®ä¿è¿è´¯çš„ç³»ç»Ÿå®Œæ•´æ€§ã€‚</li>
<li>9.8 åŸ¹å…»å¼€å‘äººå‘˜ä»ç³»ç»Ÿæ•´ä½“å‡ºå‘ã€é¢å‘ç”¨æˆ·çš„æ€åº¦æ˜¯è½¯ä»¶ç¼–ç¨‹ç®¡ç†äººå‘˜æœ€é‡è¦çš„èŒèƒ½ã€‚</li>
<li>9.9 åœ¨æ—©æœŸåº”è¯¥åˆ¶è®¢ç­–ç•¥ï¼Œä»¥å†³å®šç”¨æˆ·å¯é€‰é¡¹ç›®çš„ç²—ç»†ç¨‹åº¦ï¼Œå› ä¸ºå°†å®ƒä»¬ä½œä¸ºæ•´ä½“å¤§åŒ…èƒ½å¤ŸèŠ‚çœå†…å­˜ç©ºé—´ã€‚[å¸¸å¸¸è¿˜å¯ä»¥èŠ‚çº¦å¸‚åœºæˆæœ¬ã€‚]</li>
<li>9.10 ä¸´æ—¶ç©ºé—´çš„å°ºå¯¸ï¼Œä»¥åŠæ¯æ¬¡ç£ç›˜è®¿é—®çš„ç¨‹åºæ•°é‡æ˜¯å¾ˆå…³é”®çš„å†³ç­–ï¼Œå› ä¸ºæ€§èƒ½æ˜¯è§„æ¨¡çš„éçº¿æ€§å‡½æ•°ã€‚[è¿™ä¸ªæ•´ä½“å†³ç­–å·²æ˜¾å¾—è¿‡æ—¶â€”èµ·åˆæ˜¯ç”±äºè™šæ‹Ÿå†…å­˜ï¼Œåæ¥åˆ™æ˜¯æˆæœ¬ä½å»‰çš„å†…å­˜ã€‚ç°åœ¨çš„ç”¨æˆ·é€šå¸¸ä¼šè´­ä¹°èƒ½å®¹çº³ä¸»è¦åº”ç”¨ç¨‹åºæ‰€æœ‰ä»£ç çš„å†…å­˜ã€‚]</li>
<li>9.11 ä¸ºäº†å–å¾—è‰¯å¥½çš„ç©ºé—´ï¼æ—¶é—´æŠ˜è¡·ï¼Œå¼€å‘é˜Ÿä¼éœ€è¦å¾—åˆ°ç‰¹å®šä¸æŸç§è¯­è¨€æˆ–è€…æœºå‹çš„ç¼–ç¨‹æŠ€èƒ½åŸ¹è®­ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨æ–°è¯­è¨€æˆ–è€…æ–°æœºå™¨æ—¶ã€‚</li>
<li>9.12 ç¼–ç¨‹éœ€è¦æŠ€æœ¯ç§¯ç´¯ï¼Œæ¯ä¸ªé¡¹ç›®éœ€è¦è‡ªå·±çš„æ ‡å‡†ç»„ä»¶åº“</li>
<li>9.13 åº“ä¸­çš„æ¯ä¸ªç»„ä»¶éœ€è¦æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œè¿è¡Œé€Ÿåº¦è¾ƒå¿«å’ŒçŸ­å°ç²¾ç‚¼çš„ã€‚[ç°åœ¨çœ‹æ¥æœ‰äº›è¿‡æ—¶ã€‚]</li>
<li>9.14 ç²¾ç‚¼ã€å……åˆ†å’Œå¿«é€Ÿçš„ç¨‹åºã€‚å¾€å¾€æ˜¯æˆ˜ç•¥æ€§çªç ´çš„ç»“æœï¼Œè€Œä¸ä»…ä»…æŠ€å·§ä¸Šçš„æé«˜ã€‚</li>
<li>9.15 è¿™ç§çªç ´å¸¸å¸¸æ˜¯ä¸€ç§æ–°å‹ç®—æ³•ã€‚</li>
<li>9.16 æ›´æ™®éçš„æ˜¯ï¼Œæˆ˜ç•¥ä¸Šçªç ´å¸¸æ¥è‡ªäºæ•°æ®æˆ–è¡¨çš„é‡æ–°è¡¨è¾¾ã€‚æ•°æ®çš„è¡¨ç°å½¢å¼æ˜¯ç¼–ç¨‹çš„æ ¹æœ¬ã€‚</li>
</ul>
<p>ç¬¬10ç«  æçº²æŒˆé¢†</p>
<ul>
<li>10.1 â€œå‰æï¼šåœ¨ä¸€ç‰‡æ–‡ä»¶çš„æ±ªæ´‹ä¸­ï¼Œå°‘æ•°æ–‡æ¡£å½¢æˆäº†å…³é”®çš„æ¢çº½ï¼Œæ¯ä¸ªé¡¹ç›®ç®¡ç†çš„å·¥ä½œéƒ½å›´ç»•ç€å®ƒä»¬è¿è½¬ã€‚å®ƒä»¬æ˜¯ç»ç†ä»¬çš„ä¸»è¦ä¸ªäººå·¥å…·ã€‚â€</li>
<li>10.2 å¯¹äºè®¡ç®—æœºç¡¬ä»¶å¼€å‘é¡¹ç›®ï¼Œå…³é”®æ–‡æ¡£æ˜¯ç›®æ ‡ã€æ‰‹å†Œã€è¿›åº¦ã€é¢„ç®—ã€ç»„ç»‡æœºæ„å›¾ã€ç©ºé—´åˆ†é…ã€ä»¥åŠæœºå™¨æœ¬èº«çš„æŠ¥ä»·ã€é¢„æµ‹å’Œä»·æ ¼ã€‚</li>
<li>10.3 å¯¹äºå¤§å­¦ç§‘ç³»ï¼Œå…³é”®æ–‡æ¡£ç±»ä¼¼ï¼šç›®æ ‡ã€è¯¾ç¨‹æè¿°ã€å­¦ä½è¦æ±‚ã€ç ”ç©¶æŠ¥å‘Šã€è¯¾ç¨‹è¡¨å’Œè¯¾ç¨‹çš„å®‰æ’ã€é¢„ç®—ã€æ•™å®¤åˆ†é…ã€æ•™å¸ˆå’Œç ”ç©¶ç”ŸåŠ©æ‰‹çš„åˆ†é…ã€‚</li>
<li>10.4 å¯¹äºè½¯ä»¶é¡¹ç›®ï¼Œè¦æ±‚æ˜¯ç›¸åŒçš„ï¼šç›®æ ‡ã€ç”¨æˆ·æ‰‹å†Œã€å†…éƒ¨æ–‡æ¡£ã€è¿›åº¦ã€é¢„ç®—ã€ç»„ç»‡æœºæ„å›¾å’Œå·¥ä½œç©ºé—´åˆ†é…ã€‚</li>
<li>10.5 å› æ­¤ï¼Œå³ä½¿æ˜¯å°å‹é¡¹ç›®ï¼Œé¡¹ç›®ç»ç†ä¹Ÿåº”è¯¥åœ¨é¡¹ç›®æ—©æœŸè§„èŒƒåŒ–ä¸Šè¿°çš„ä¸€ç³»åˆ—æ–‡æ¡£ã€‚</li>
<li>10.6 ä»¥ä¸Šé›†åˆä¸­æ¯ä¸€ä¸ªæ–‡æ¡£çš„å‡†å¤‡å·¥ä½œéƒ½å°†æ³¨æ„åŠ›é›†ä¸­åœ¨å¯¹è®¨è®ºçš„æ€ç´¢å’Œæç‚¼ï¼Œè€Œä¹¦å†™è¿™é¡¹æ´»åŠ¨éœ€è¦ä¸Šç™¾æ¬¡çš„ç»†å°å†³å®šï¼Œæ­£æ˜¯ç”±äºå®ƒä»¬çš„å­˜åœ¨ï¼Œäººä»¬æ‰èƒ½ä»ä»¤äººè¿·æƒ‘çš„ç°è±¡ä¸­å¾—åˆ°æ¸…æ™°ã€ç¡®å®šçš„ç­–ç•¥ã€‚</li>
<li>10.7 å¯¹æ¯ä¸ªå…³é”®æ–‡æ¡£çš„ç»´æŠ¤æä¾›äº†çŠ¶æ€ç›‘ç£å’Œé¢„è­¦æœºåˆ¶ã€‚</li>
<li>10.8 æ¯ä¸ªæ–‡æ¡£æœ¬èº«å°±å¯ä»¥ä½œä¸ºæ£€æŸ¥åˆ—è¡¨æˆ–è€…æ•°æ®åº“ã€‚</li>
<li>10.9 é¡¹ç›®ç»ç†çš„åŸºæœ¬èŒè´£æ˜¯ä½¿æ¯ä¸ªäººéƒ½å‘ç€ç›¸åŒçš„æ–¹å‘å‰è¿›ã€‚</li>
<li>10.10 é¡¹ç›®ç»ç†çš„ä¸»è¦æ—¥å¸¸å·¥ä½œæ˜¯æ²Ÿé€šï¼Œè€Œä¸æ˜¯åšå‡ºå†³å®šï¼›æ–‡æ¡£ä½¿å„é¡¹è®¡åˆ’å’Œå†³ç­–åœ¨æ•´ä¸ªå›¢é˜ŸèŒƒå›´å†…å¾—åˆ°äº¤æµã€‚</li>
<li>10.11 åªæœ‰ä¸€å°éƒ¨åˆ†ç®¡ç†äººå‘˜çš„æ—¶é—´â€”å¯èƒ½åªæœ‰20%â€”ç”¨æ¥ä»è‡ªå·±å¤´è„‘å¤–éƒ¨è·å–ä¿¡æ¯ã€‚</li>
<li>10.12 å‡ºäºè¿™ä¸ªåŸå› ï¼Œå¹¿å—å¹æ§çš„å¸‚åœºæ¦‚å¿µâ€”æ”¯æŒç®¡ç†äººå‘˜çš„â€å®Œå¤‡ä¿¡æ¯ç®¡ç†ç³»ç»Ÿâ€å¹¶ä¸åŸºäºåæ˜ ç®¡ç†äººå‘˜è¡Œä¸ºçš„æœ‰æ•ˆæ¨¡å‹ã€‚</li>
</ul>
<p>ç¬¬11ç«  æœªé›¨ç»¸ç¼ª</p>
<ul>
<li>11.1 åŒ–å­¦å·¥ç¨‹å¸ˆå·²ç»è®¤è¯†åˆ°æ— æ³•ä¸€æ­¥å°†å®éªŒå®¤å·¥ä½œå°ä¸Šçš„ååº”è¿‡ç¨‹ç§»åˆ°å·¥å‚ä¸­ï¼Œéœ€è¦ä¸€ä¸ªå®éªŒæ€§å·¥å‚ï¼ˆpilot planetï¼‰æ¥ä¸ºæé«˜äº§é‡å’Œåœ¨ç¼ºä¹ä¿æŠ¤çš„ç¯å¢ƒä¸‹è¿ä½œæä¾›å®è´µç»éªŒã€‚</li>
<li>11.2 å¯¹äºç¼–ç¨‹äº§å“è€Œè¨€ï¼Œè¿™æ ·çš„ä¸­é—´æ­¥éª¤æ˜¯åŒæ ·å¿…è¦çš„ï¼Œä½†æ˜¯è½¯ä»¶å·¥ç¨‹å¸ˆåœ¨ç€æ‰‹å‘å¸ƒäº§å“ä¹‹å‰ï¼Œå´å¹¶ä¸ä¼šå¸¸è§„åœ°è¿›è¡Œè¯•éªŒæ€§ç³»ç»Ÿçš„ç°åœºæµ‹è¯•ã€‚[ç°åœ¨ï¼Œè¿™å·²ç»æˆä¸ºäº†ä¸€é¡¹æ™®éçš„å®è·µï¼Œbetaç‰ˆæœ¬ã€‚å®ƒä¸åŒäºæœ‰é™åŠŸèƒ½çš„åŸå‹ï¼Œalphaç‰ˆæœ¬ï¼Œåè€…åŒæ ·æ˜¯æˆ‘æ‰€å€¡å¯¼çš„å®è·µã€‚]</li>
<li>11.3 å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼Œç¬¬ä¸€ä¸ªå¼€å‘çš„ç³»ç»Ÿå¹¶ä¸åˆç”¨ã€‚å®ƒå¯èƒ½å¤ªæ…¢ã€å¤ªå¤§ï¼Œè€Œä¸”éš¾ä»¥ä½¿ç”¨ï¼Œæˆ–è€…ä¸‰è€…å…¼è€Œæœ‰ä¹‹ã€‚</li>
<li>11.4 ç³»ç»Ÿçš„ä¸¢å¼ƒå’Œé‡æ–°è®¾è®¡å¯ä»¥ä¸€æ­¥å®Œæˆï¼Œä¹Ÿå¯ä»¥ä¸€å—å—åœ°å®ç°ã€‚è¿™æ˜¯ä¸ªå¿…é¡»å®Œæˆçš„æ­¥éª¤ã€‚</li>
<li>11.5 å°†å¼€å‘çš„ç¬¬ä¸€ä¸ªç³»ç»Ÿâ€”ä¸¢å¼ƒåŸå‹â€”å‘å¸ƒç»™ç”¨æˆ·ï¼Œå¯ä»¥è·å¾—æ—¶é—´ï¼Œä½†æ˜¯å®ƒçš„ä»£ä»·é«˜æ˜‚â€”å¯¹äºç”¨æˆ·ï¼Œä½¿ç”¨æåº¦ç—›è‹¦ï¼›å¯¹äºé‡æ–°å¼€å‘çš„äººå‘˜ï¼Œåˆ†æ•£äº†ç²¾åŠ›ï¼›å¯¹äºäº§å“ï¼Œå½±å“äº†å£°èª‰ï¼Œå³ä½¿æœ€å¥½çš„å†è®¾è®¡ä¹Ÿéš¾ä»¥æŒ½å›åå£°ã€‚</li>
<li>11.6 å› æ­¤ï¼Œä¸ºèˆå¼ƒè€Œè®¡åˆ’ï¼Œæ— è®ºå¦‚ä½•ï¼Œä½ ä¸€å®šè¦è¿™æ ·åšã€‚</li>
<li>11.7 â€œå¼€å‘äººå‘˜äº¤ä»˜çš„æ˜¯ç”¨æˆ·æ»¡æ„ç¨‹åº¦ï¼Œè€Œä¸ä»…ä»…æ˜¯å®é™…çš„äº§å“ã€‚â€ï¼ˆCosgroveï¼‰</li>
<li>11.8 ç”¨æˆ·çš„å®é™…éœ€è¦å’Œç”¨æˆ·æ„Ÿè§‰ä¼šéšç€ç¨‹åºçš„æ„å»ºã€æµ‹è¯•å’Œä½¿ç”¨è€Œå˜åŒ–ã€‚</li>
<li>11.9 è½¯ä»¶äº§å“æ˜“äºæŒæ¡çš„ç‰¹æ€§å’Œä¸å¯è§æ€§ï¼Œå¯¼è‡´äº†å®ƒçš„æ„å»ºäººå‘˜ï¼ˆç‰¹åˆ«å®¹æ˜“ï¼‰é¢ä¸´ç€æ°¸æ’çš„éœ€æ±‚å˜æ›´ã€‚</li>
<li>11.10 ç›®æ ‡ä¸Šï¼ˆå’Œå¼€å‘ç­–ç•¥ä¸Šï¼‰çš„ä¸€äº›æ­£å¸¸å˜åŒ–æ— å¯é¿å…ï¼Œäº‹å…ˆä¸ºå®ƒä»¬åšå‡†å¤‡æ€»æ¯”å‡è®¾å®ƒä»¬ä¸ä¼šå‡ºç°è¦å¥½å¾—å¤šã€‚</li>
<li>11.11 ä¸ºå˜æ›´è®¡åˆ’è½¯ä»¶äº§å“çš„æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯ç»†è‡´çš„æ¨¡å—æ¥å£æ–‡æ¡£â€”éå¸¸åœ°å¹¿ä¸ºäººçŸ¥ï¼Œä½†å¹¶æ²¡æœ‰ç›¸åŒè§„æ¨¡çš„å®è·µã€‚å°½å¯èƒ½åœ°ä½¿ç”¨è¡¨é©±åŠ¨æŠ€æœ¯åŒæ ·æ˜¯æœ‰æ‰€å¸®åŠ©çš„ã€‚[ç°åœ¨å†…å­˜çš„æˆæœ¬å’Œè§„æ¨¡ä½¿è¿™é¡¹æŠ€æœ¯è¶Šæ¥è¶Šå‡ºä¼—ã€‚]</li>
<li>11.12 é«˜çº§è¯­è¨€çš„ä½¿ç”¨ã€ç¼–è¯‘æ—¶æ“ä½œã€é€šè¿‡å¼•ç”¨çš„å£°æ˜æ•´åˆå’Œè‡ªæ–‡æ¡£æŠ€æœ¯èƒ½å‡å°‘å˜æ›´å¼•èµ·çš„é”™è¯¯ã€‚</li>
<li>11.13 é‡‡ç”¨å®šä¹‰è‰¯å¥½çš„æ•°å­—åŒ–ç‰ˆæœ¬å°†å˜æ›´é‡å­ï¼ˆé˜¶æ®µï¼‰åŒ–ã€‚[å½“ä»Šçš„æ ‡å‡†å®è·µã€‚]</li>
<li>11.14 ç¨‹åºå‘˜ä¸æ„¿æ„ä¸ºè®¾è®¡ä¹¦å†™æ–‡æ¡£çš„åŸå› ï¼Œä¸ä»…ä»…æ˜¯ç”±äºæƒ°æ€§ã€‚æ›´å¤šçš„æ˜¯æºäºè®¾è®¡äººå‘˜çš„è¸Œèº‡â€”è¦ä¸ºè‡ªå·±å°è¯•æ€§çš„è®¾è®¡å†³ç­–è¿›è¡Œè¾©è§£ã€‚ï¼ˆCosgroveï¼‰</li>
<li>11.15 ä¸ºå˜æ›´ç»„å»ºå›¢é˜Ÿæ¯”ä¸ºå˜æ›´è¿›è¡Œè®¾è®¡æ›´åŠ å›°éš¾ã€‚</li>
<li>11.16 åªè¦ç®¡ç†äººå‘˜å’ŒæŠ€æœ¯äººæ‰çš„å¤©èµ‹å…è®¸ï¼Œè€æ¿å¿…é¡»å¯¹ä»–ä»¬çš„èƒ½åŠ›åŸ¹å…»ç»™äºˆæå¤§çš„å…³æ³¨ï¼Œä½¿ç®¡ç†äººå‘˜å’ŒæŠ€æœ¯äººæ‰å…·æœ‰äº’æ¢æ€§ï¼›ç‰¹åˆ«æ˜¯å¸Œæœ›èƒ½åœ¨æŠ€æœ¯å’Œç®¡ç†è§’è‰²ä¹‹é—´è‡ªç”±åœ°åˆ†é…äººæ‰‹çš„æ—¶å€™ã€‚</li>
<li>11.17 å…·æœ‰ä¸¤æ¡æ™‹å‡çº¿çš„é«˜æ•ˆç»„ç»‡æœºæ„ï¼Œå­˜åœ¨ç€ä¸€äº›ç¤¾ä¼šæ€§çš„éšœç¢ï¼Œäººä»¬å¿…é¡»è­¦æƒ•å’Œç§¯æåœ°åŒå®ƒåšæŒç»­çš„æ–—äº‰ã€‚</li>
<li>11.18 å¾ˆå®¹æ˜“ä¸ºä¸åŒçš„æ™‹å‡çº¿å»ºç«‹ç›¸äº’ä¸€è‡´çš„è–ªæ°´çº§åˆ«ï¼Œä½†è¦åŒç­‰å¨ä¿¡çš„å»ºç«‹éœ€è¦ä¸€äº›å¼ºçƒˆçš„å¿ƒç†æªæ–½ï¼šç›¸åŒçš„åŠå…¬å®¤ã€ä¸€æ ·çš„æ”¯æŒå’ŒæŠ€æœ¯è°ƒåŠ¨çš„ä¼˜å…ˆè¡¥å¿ã€‚</li>
<li>11.19 ç»„å»ºå¤–ç§‘æ‰‹æœ¯é˜Ÿä¼å¼çš„è½¯ä»¶å¼€å‘å›¢é˜Ÿæ˜¯å¯¹ä¸Šè¿°é—®é¢˜æ‰€æœ‰æ–¹é¢çš„å½»åº•å†²å‡»ã€‚å¯¹äºçµæ´»ç»„ç»‡æ¶æ„é—®é¢˜ï¼Œè¿™çš„ç¡®æ˜¯ä¸€ä¸ªé•¿æœŸè¡Œä¹‹æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li>11.20 ç¨‹åºç»´æŠ¤åŸºæœ¬ä¸Šä¸åŒäºç¡¬ä»¶çš„ç»´æŠ¤ï¼›å®ƒä¸»è¦ç”±å„ç§å˜æ›´ç»„æˆï¼Œå¦‚ä¿®å¤è®¾è®¡ç¼ºé™·ã€æ–°å¢åŠŸèƒ½ã€æˆ–è€…æ˜¯ä½¿ç”¨ç¯å¢ƒæˆ–è€…é…ç½®å˜æ¢å¼•èµ·çš„è°ƒæ•´ã€‚</li>
<li>11.21 å¯¹äºä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ç¨‹åºï¼Œå…¶ç»´æŠ¤æ€»æˆæœ¬é€šå¸¸æ˜¯å¼€å‘æˆæœ¬çš„40ï¼…æˆ–æ›´å¤šã€‚</li>
<li>11.22 ç»´æŠ¤æˆæœ¬å—ç”¨æˆ·æ•°ç›®çš„ä¸¥é‡å½±å“ã€‚ç”¨æˆ·è¶Šå¤šï¼Œæ‰€å‘ç°çš„é”™è¯¯ä¹Ÿè¶Šå¤šã€‚</li>
<li>11.23 CampbellæŒ‡å‡ºäº†ä¸€ä¸ªæ˜¾ç¤ºäº§å“ç”Ÿå‘½æœŸä¸­æ¯æœˆbugæ•°çš„æœ‰è¶£æ›²çº¿ï¼Œå®ƒå…ˆæ˜¯ä¸‹é™ï¼Œç„¶åæ”€å‡ã€‚</li>
<li>11.24 ç¼ºé™·ä¿®å¤æ€»ä¼šä»¥ï¼ˆ20ï¼50ï¼‰%çš„æœºç‡å¼•å…¥æ–°çš„bug</li>
<li>11.25 åœ¨æ¯æ¬¡ä¿®å¤ä¹‹åï¼Œå¿…é¡»é‡æ–°è¿è¡Œå…ˆå‰æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä»è€Œç¡®ä¿ç³»ç»Ÿä¸ä¼šä»¥æ›´éšè”½çš„æ–¹å¼è¢«ç ´åã€‚</li>
<li>11.26 èƒ½æ¶ˆé™¤ã€è‡³å°‘æ˜¯èƒ½æŒ‡æ˜å‰¯ä½œç”¨çš„ç¨‹åºè®¾è®¡æ–¹æ³•ï¼Œå¯¹ç»´æŠ¤æˆæœ¬æœ‰å¾ˆå¤§çš„å½±å“ã€‚</li>
<li>11.27 åŒæ ·ï¼Œè®¾è®¡å®ç°çš„äººå‘˜è¶Šå°‘ã€æ¥å£è¶Šå°‘ï¼Œäº§ç”Ÿçš„é”™è¯¯ä¹Ÿå°±è¶Šå°‘ã€‚</li>
<li>11.28 Lehmanå’ŒBeladyå‘ç°æ¨¡å—æ•°é‡éšå¤§å‹æ“ä½œç³»ç»Ÿï¼ˆOS/360ï¼‰ç‰ˆæœ¬å·çš„å¢åŠ å‘ˆçº¿æ€§å¢é•¿ï¼Œä½†æ˜¯å—åˆ°å½±å“çš„æ¨¡å—ä»¥ç‰ˆæœ¬å·æŒ‡æ•°çš„çº§åˆ«å¢é•¿ã€‚</li>
<li>11.29 æ‰€æœ‰ä¿®æ”¹éƒ½å€¾å‘äºç ´åç³»ç»Ÿçš„æ¶æ„ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„æ··ä¹±ç¨‹åº¦ã€‚å³ä½¿æ˜¯æœ€ç†Ÿç»ƒçš„è½¯ä»¶ç»´æŠ¤å·¥ä½œï¼Œä¹Ÿåªæ˜¯æ”¾ç¼“äº†ç³»ç»Ÿé€€åŒ–åˆ°ä¸å¯ä¿®å¤æ··ä¹±çš„è¿›ç¨‹ï¼Œä»ä¸­å¿…é¡»è¦é‡æ–°è¿›è¡Œè®¾è®¡ã€‚</li>
</ul>
<p>[è®¸å¤šç¨‹åºå‡çº§çš„çœŸæ­£éœ€è¦ï¼Œå¦‚æ€§èƒ½ç­‰ï¼Œå°¤å…¶ä¼šå†²å‡»å®ƒçš„å†…éƒ¨ç»“æ„è¾¹ç•Œã€‚åŸæœ‰è¾¹ç•Œå¼•å‘çš„ä¸è¶³å¸¸å¸¸åœ¨æ—¥åæ‰ä¼šå‡ºç°ã€‚]</p>
<p>ç¬¬12ç«  å¹²å°†è«é‚ª</p>
<ul>
<li>12.1 é¡¹ç›®ç»ç†åº”è¯¥åˆ¶è®¢ä¸€å¥—ç­–ç•¥ï¼Œä»¥åŠä¸ºé€šç”¨å·¥å…·çš„å¼€å‘åˆ†é…èµ„æºï¼Œä¸æ­¤åŒæ—¶ï¼Œä»–è¿˜å¿…é¡»æ„è¯†åˆ°ä¸“ä¸šå·¥å…·çš„éœ€æ±‚ã€‚</li>
<li>12.2 å¼€å‘æ“ä½œç³»ç»Ÿçš„é˜Ÿä¼éœ€è¦è‡ªå·±çš„ç›®æ ‡æœºå™¨ï¼Œè¿›è¡Œè°ƒè¯•å¼€å‘å·¥ä½œã€‚ç›¸å¯¹äºæœ€å¿«çš„é€Ÿåº¦è€Œè¨€ï¼Œå®ƒæ›´éœ€è¦æœ€å¤§é™åº¦çš„å†…å­˜ï¼Œè¿˜éœ€è¦å®‰æ’ä¸€åç³»ç»Ÿç¨‹åºå‘˜ï¼Œä»¥ä¿è¯æœºå™¨ä¸Šçš„æ ‡å‡†è½¯ä»¶æ˜¯å³æ—¶æ›´æ–°å’Œå®æ—¶å¯ç”¨çš„ã€‚</li>
<li>12.3 åŒæ—¶è¿˜éœ€è¦é…å¤‡è°ƒè¯•æœºå™¨æˆ–è€…è½¯ä»¶ï¼Œä»¥ä¾¿åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰ç±»å‹çš„ç¨‹åºå‚æ•°å¯ä»¥è¢«è‡ªåŠ¨è®¡æ•°å’Œæµ‹é‡ã€‚</li>
<li>12.4 ç›®æ ‡æœºå™¨çš„ä½¿ç”¨éœ€æ±‚é‡æ˜¯ä¸€ç§ç‰¹æ®Šæ›²çº¿ï¼šåˆšå¼€å§‹ä½¿ç”¨ç‡éå¸¸ä½ï¼Œçªç„¶å‡ºç°çˆ†å‘æ€§çš„å¢é•¿ï¼Œæ¥ç€è¶‹äºå¹³ç¼“ã€‚</li>
<li>12.5 åŒå¤©æ–‡å·¥ä½œè€…ä¸€æ ·ï¼Œç³»ç»Ÿè°ƒè¯•æ€»æ˜¯å¤§éƒ¨åˆ†åœ¨å¤œé—´å®Œæˆã€‚</li>
<li>12.6 æŠ›å¼€ç†è®ºä¸è°ˆï¼Œä¸€æ¬¡åˆ†é…ç»™æŸä¸ªå°ç»„è¿ç»­çš„ç›®æ ‡æ—¶é—´å—è¢«è¯æ˜æ˜¯æœ€å¥½çš„å®‰æ’æ–¹æ³•ï¼Œæ¯”ä¸åŒå°ç»„çš„ç©¿æ’ä½¿ç”¨æ›´ä¸ºæœ‰æ•ˆã€‚</li>
<li>12.7 å°½ç®¡æŠ€æœ¯ä¸æ–­å˜åŒ–ï¼Œè¿™ç§é‡‡ç”¨æ—¶é—´å—æ¥å®‰æ’åŒ®ä¹è®¡ç®—æœºèµ„æºçš„æ–¹å¼ä»å¾—ä»¥å»¶ç»­20å¹´[åœ¨1975å¹´]ï¼Œæ˜¯å› ä¸ºå®ƒçš„ç”Ÿäº§ç‡æœ€é«˜ã€‚[åœ¨1995å¹´ä¾ç„¶å¦‚æ­¤]</li>
<li>12.8 å¦‚æœç›®æ ‡æœºå™¨æ˜¯æ–°äº§å“ï¼Œåˆ™éœ€è¦ä¸€ä¸ªç›®æ ‡æœºå™¨çš„é€»è¾‘ä»¿çœŸè£…ç½®ã€‚è¿™æ ·ï¼Œå¯ä»¥æ›´å¿«åœ°å¾—åˆ°è¾…åŠ©è°ƒè¯•å¹³å°ã€‚å³ä½¿åœ¨çœŸæ­£æœºå™¨å‡ºç°ä¹‹åï¼Œä»¿çœŸè£…ç½®ä»å¯æä¾›å¯é çš„è°ƒè¯•å¹³å°ã€‚</li>
<li>12.9 ä¸»ç¨‹åºåº“åº”è¯¥è¢«åˆ’åˆ†æˆï¼ˆ1ï¼‰ä¸€ç³»åˆ—ç‹¬ç«‹çš„ç§æœ‰å¼€å‘åº“ï¼›ï¼ˆ2ï¼‰æ­£å¤„åœ¨ç³»ç»Ÿæµ‹è¯•ä¸‹çš„ç³»ç»Ÿé›†æˆå­åº“ï¼›ï¼ˆ3ï¼‰å‘å¸ƒç‰ˆæœ¬ã€‚æ­£å¼çš„åˆ†ç¦»å’Œè¿›åº¦æä¾›äº†æ§åˆ¶ã€‚</li>
<li>12.10 åœ¨ç¼–åˆ¶ç¨‹åºçš„é¡¹ç›®ä¸­ï¼ŒèŠ‚çœæœ€å¤§å·¥ä½œé‡çš„å·¥å…·å¯èƒ½æ˜¯æ–‡æœ¬ç¼–è¾‘ç³»ç»Ÿã€‚</li>
<li>12.11 ç³»ç»Ÿæ–‡æ¡£ä¸­çš„å·¨å¤§å®¹é‡å¸¦æ¥äº†æ–°çš„ä¸ç†è§£é—®é¢˜[ä¾‹å¦‚ï¼Œçœ‹çœ‹Unix]ï¼Œä½†æ˜¯å®ƒæ¯”å¤§å¤šæ•°æœªèƒ½è¯¦ç»†æè¿°ç¼–ç¨‹ç³»ç»Ÿç‰¹æ€§çš„çŸ­å°æ–‡ç« æ›´åŠ å¯å–ã€‚</li>
<li>12.12 è‡ªé¡¶å‘ä¸‹ã€å½»åº•åœ°å¼€å‘ä¸€ä¸ªæ€§èƒ½ä»¿çœŸè£…ç½®ã€‚å°½å¯èƒ½æ—©åœ°å¼€å§‹è¿™é¡¹å·¥ä½œï¼Œä»”ç»†åœ°å¬å– â€œå®ƒä»¬è¡¨è¾¾çš„æ„è§â€ã€‚</li>
<li>12.13 åªæœ‰æ‡’æ•£å’Œæƒ°æ€§ä¼šå¦¨ç¢é«˜çº§è¯­è¨€å’Œäº¤äº’å¼ç¼–ç¨‹çš„å¹¿æ³›åº”ç”¨ã€‚[å¦‚ä»Šå®ƒä»¬å·²ç»åœ¨å…¨ä¸–ç•Œä½¿ç”¨ã€‚]</li>
<li>12.14 é«˜çº§è¯­è¨€ä¸ä»…ä»…æå‡äº†ç”Ÿäº§ç‡ï¼Œè€Œä¸”è¿˜æ”¹è¿›äº†è°ƒè¯•ï¼šbugæ›´å°‘ï¼Œä»¥åŠæ›´å®¹æ˜“å¯»æ‰¾ã€‚</li>
<li>12.15 ä¼ ç»Ÿçš„åå¯¹æ„è§â€”åŠŸèƒ½ã€ç›®æ ‡ä»£ç çš„å°ºå¯¸ã€ç›®æ ‡ä»£ç çš„é€Ÿåº¦ï¼Œéšç€è¯­è¨€å’Œç¼–è¯‘å™¨æŠ€æœ¯çš„è¿›æ­¥å·²ä¸å†æˆä¸ºé—®é¢˜ã€‚</li>
<li>12.16 ç°åœ¨å¯ä¾›åˆç†é€‰æ‹©çš„è¯­è¨€æ˜¯PL/Iã€‚[ä¸å†æ­£ç¡®ã€‚]</li>
<li>12.17 æŸäº›åº”ç”¨ä¸Šï¼Œæ‰¹å¤„ç†ç³»ç»Ÿå†³ä¸ä¼šè¢«äº¤äº’å¼ç³»ç»Ÿæ‰€æ›¿ä»£ã€‚[ä¾ç„¶æˆç«‹ã€‚]</li>
<li>12.18 è°ƒè¯•æ˜¯ç³»ç»Ÿç¼–ç¨‹ä¸­å¾ˆæ…¢å’Œè¾ƒå›°éš¾çš„éƒ¨åˆ†ï¼Œè€Œæ¼«é•¿çš„è°ƒè¯•å‘¨è½¬æ—¶é—´æ˜¯è°ƒè¯•çš„ç¥¸æ ¹ã€‚</li>
<li>12.19 æœ‰é™çš„æ•°æ®è¡¨æ˜äº†ç³»ç»Ÿè½¯ä»¶å¼€å‘ä¸­ï¼Œäº¤äº’å¼ç¼–ç¨‹çš„ç”Ÿäº§ç‡è‡³å°‘æ˜¯åŸæ¥çš„ä¸¤å€ã€‚</li>
</ul>
<p>ç¬¬13ç«  æ•´ä½“éƒ¨åˆ†</p>
<ul>
<li>13.1 ç¬¬4ã€5ã€6ç« æ‰€æ„å‘³çš„ç…è´¹è‹¦å¿ƒã€è¯¦å°½ä½“ç³»ç»“æ„å·¥ä½œä¸ä½†ä½¿äº§å“æ›´åŠ æ˜“äºä½¿ç”¨ï¼Œè€Œä¸”ä½¿å¼€å‘æ›´å®¹æ˜“è¿›è¡Œä»¥åŠbugæ›´ä¸å®¹æ˜“äº§ç”Ÿã€‚</li>
<li>13.2 V.A.Vyssotskyæå‡ºï¼Œâ€è®¸è®¸å¤šå¤šçš„å¤±è´¥å®Œå…¨æºäºé‚£äº›äº§å“æœªç²¾ç¡®å®šä¹‰çš„åœ°æ–¹ã€‚â€</li>
<li>13.3 åœ¨ç¼–å†™ä»»ä½•ä»£ç ä¹‹å‰ï¼Œè§„æ ¼è¯´æ˜å¿…é¡»æäº¤ç»™æµ‹è¯•å°ç»„ï¼Œä»¥è¯¦ç»†åœ°æ£€æŸ¥è¯´æ˜çš„å®Œæ•´æ€§å’Œæ˜ç¡®æ€§ã€‚å¼€å‘äººå‘˜è‡ªå·±ä¸ä¼šå®Œæˆè¿™é¡¹å·¥ä½œã€‚ï¼ˆVyssotskyï¼‰</li>
<li>13.4 â€œåå¹´å†…[1965ï½1975]ï¼ŒWirthçš„è‡ªé¡¶å‘ä¸‹è¿›è¡Œè®¾è®¡[é€æ­¥ç»†åŒ–]å°†ä¼šæ˜¯æœ€é‡è¦çš„æ–°å‹å½¢å¼åŒ–è½¯ä»¶å¼€å‘æ–¹æ³•ã€‚â€</li>
<li>13.5 Wirthä¸»å¼ åœ¨æ¯ä¸ªæ­¥éª¤ä¸­ï¼Œå°½å¯èƒ½ä½¿ç”¨çº§åˆ«è¾ƒé«˜çš„è¡¨è¾¾æ–¹æ³•ã€‚</li>
<li>13.6 å¥½çš„è‡ªé¡¶å‘ä¸‹è®¾è®¡ä»å››ä¸ªæ–¹é¢é¿å…äº†bugã€‚</li>
<li>13.7 æœ‰æ—¶å¿…é¡»å›é€€ï¼Œæ¨ç¿»é¡¶å±‚è®¾è®¡ï¼Œé‡æ–°å¼€å§‹ã€‚</li>
<li>13.8 ç»“æ„åŒ–ç¼–ç¨‹ä¸­ï¼Œç¨‹åºçš„æ§åˆ¶ç»“æ„ä»…ç”±æ”¯é…ä»£ç å—ï¼ˆç›¸å¯¹äºä»»æ„çš„è·³è½¬ï¼‰çš„ç»™å®šé›†åˆæ‰€ç»„æˆã€‚è¿™ç§æ–¹æ³•å‡ºè‰²åœ°é¿å…äº†bugï¼Œæ˜¯ä¸€ç§æ­£ç¡®çš„æ€è€ƒæ–¹å¼ã€‚</li>
<li>13.9 Goldç»“æœæ˜¾ç¤ºäº†ï¼Œåœ¨äº¤äº’å¼è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ¬¡äº¤äº’å–å¾—çš„å·¥ä½œè¿›å±•æ˜¯åç»­äº¤äº’çš„ä¸‰å€ã€‚è¿™å®é™…ä¸Šè·ç›Šäºåœ¨è°ƒè¯•å¼€å§‹ä¹‹å‰ä»”ç»†åœ°è°ƒè¯•è®¡åˆ’ã€‚[æˆ‘è®¤ä¸ºåœ¨1995å¹´ä¾ç„¶å¦‚æ­¤ã€‚]</li>
<li>13.10 æˆ‘å‘ç°å¯¹è‰¯å¥½ç»ˆç«¯ç³»ç»Ÿçš„æ­£ç¡®ä½¿ç”¨ï¼Œå¾€å¾€è¦æ±‚æ¯ä¸¤å°æ—¶çš„ç»ˆç«¯ä¼šè¯å¯¹åº”äºä¸¤å°æ—¶çš„æ¡Œé¢å·¥ä½œï¼š1å°æ—¶ä¼šè¯åçš„æ¸…ç†å’Œæ–‡æ¡£å·¥ä½œï¼›1å°æ—¶ä¸ºä¸‹ä¸€æ¬¡è®¡åˆ’å˜æ›´å’Œæµ‹è¯•ã€‚</li>
<li>13.11 ç³»ç»Ÿè°ƒè¯•ï¼ˆç›¸å¯¹äºå•å…ƒæµ‹è¯•ï¼‰èŠ±è´¹çš„æ—¶é—´ä¼šæ¯”é¢„æ–™çš„æ›´é•¿ã€‚</li>
<li>13.12 ç³»ç»Ÿè°ƒè¯•çš„å›°éš¾ç¨‹åº¦è¯æ˜äº†éœ€è¦ä¸€ç§å®Œå¤‡ç³»ç»ŸåŒ–å’Œå¯è®¡åˆ’çš„æ–¹æ³•ã€‚</li>
<li>13.13 ç³»ç»Ÿè°ƒè¯•ä»…ä»…åº”è¯¥åœ¨æ‰€æœ‰éƒ¨ä»¶èƒ½å¤Ÿè¿ä½œä¹‹åå¼€å§‹ã€‚ï¼ˆè¿™æ—¢ä¸åŒäºä¸ºäº†æŸ¥å‡ºæ¥å£bugæ‰€é‡‡å– â€œåˆåœ¨ä¸€èµ·å°è¯•â€ çš„æ–¹æ³•ï¼›ä¹Ÿä¸åŒäºåœ¨æ‰€æœ‰æ„ä»¶å•å…ƒçš„bugå·²çŸ¥ï¼Œä½†æœªä¿®å¤çš„æƒ…å†µä¸‹ï¼Œå³å¼€å§‹ç³»ç»Ÿè°ƒè¯•çš„åšæ³•ã€‚ï¼‰[å¯¹äºå¤šä¸ªå›¢é˜Ÿå°¤å…¶å¦‚æ­¤ã€‚]</li>
<li>13.14 å¼€å‘å¤§é‡çš„è¾…åŠ©è°ƒè¯•å¹³å°ï¼ˆscaffolding è„šæ‰‹æ¶ï¼‰å’Œæµ‹è¯•ä»£ç æ˜¯å¾ˆå€¼å¾—çš„ï¼Œä»£ç é‡ç”šè‡³å¯èƒ½ä¼šæœ‰æµ‹è¯•å¯¹è±¡çš„ä¸€åŠã€‚</li>
<li>13.15 å¿…é¡»æœ‰äººå¯¹å˜æ›´è¿›è¡Œæ§åˆ¶å’Œæ–‡æ¡£åŒ–ï¼Œå›¢é˜Ÿæˆå‘˜åº”ä½¿ç”¨å¼€å‘åº“çš„å„ç§å—æ§æ‹·è´æ¥å·¥ä½œã€‚</li>
<li>13.16 ç³»ç»Ÿæµ‹è¯•æœŸé—´ï¼Œä¸€æ¬¡åªæ·»åŠ ä¸€ä¸ªæ„ä»¶ã€‚</li>
<li>13.17 Lehmanå’ŒBeladyå‡ºç¤ºäº†è¯æ®ï¼Œå˜æ›´çš„é˜¶æ®µï¼ˆé‡å­ï¼‰è¦ä¹ˆå¾ˆå¤§ï¼Œé—´éš”å¾ˆå®½ï¼›è¦ä¹ˆå°å’Œé¢‘ç¹ã€‚åè€…å¾ˆå®¹æ˜“å˜å¾—ä¸ç¨³å®šã€‚[Microsoftçš„ä¸€ä¸ªå›¢é˜Ÿä½¿ç”¨äº†éå¸¸å°çš„é˜¶æ®µï¼ˆé‡å­ï¼‰ã€‚ç»“æœæ˜¯æ¯å¤©æ™šä¸Šéœ€è¦é‡æ–°ç¼–è¯‘ç”Ÿæˆå¢é•¿ä¸­çš„ç³»ç»Ÿã€‚]</li>
</ul>
<p>ç¬¬14ç«  ç¥¸èµ·è§å¢™</p>
<ul>
<li>14.1 â€œé¡¹ç›®æ˜¯æ€æ ·å»¶è¿Ÿäº†æ•´æ•´ä¸€å¹´çš„æ—¶é—´ï¼Ÿ.ä¸€æ¬¡ä¸€å¤©ã€‚â€</li>
<li>14.2 ä¸€å¤©ä¸€å¤©çš„è¿›åº¦è½åæ¯”èµ·é‡å¤§ç¾éš¾ï¼Œæ›´éš¾ä»¥è¯†åˆ«ã€æ›´ä¸å®¹æ˜“é˜²èŒƒå’Œæ›´åŠ éš¾ä»¥å¼¥è¡¥ã€‚</li>
<li>14.3 æ ¹æ®ä¸€ä¸ªä¸¥æ ¼çš„è¿›åº¦è¡¨æ¥æ§åˆ¶é¡¹ç›®çš„ç¬¬ä¸€ä¸ªæ­¥éª¤æ˜¯åˆ¶è®¢è¿›åº¦è¡¨ï¼Œè¿›åº¦è¡¨ç”±é‡Œç¨‹ç¢‘å’Œæ—¥æœŸç»„æˆã€‚</li>
<li>14.4 é‡Œç¨‹ç¢‘å¿…é¡»æ˜¯å…·ä½“çš„ã€ç‰¹å®šçš„ã€å¯åº¦é‡çš„äº‹ä»¶ï¼Œèƒ½è¿›è¡Œæ¸…æ™°èƒ½å®šä¹‰ã€‚</li>
<li>14.5 å¦‚æœé‡Œç¨‹ç¢‘å®šä¹‰å¾—éå¸¸æ˜ç¡®ï¼Œä»¥è‡´äºæ— æ³•è‡ªæ¬ºæ¬ºäººæ—¶ï¼Œç¨‹åºå‘˜å¾ˆå°‘ä¼šå°±é‡Œç¨‹ç¢‘çš„è¿›å±•å¼„è™šä½œå‡ã€‚</li>
<li>14.6 å¯¹äºå¤§å‹å¼€å‘é¡¹ç›®ä¸­çš„ä¼°è®¡è¡Œä¸ºï¼Œæ”¿åºœçš„æ‰¿åŒ…å•†æ‰€åšçš„ç ”ç©¶æ˜¾ç¤ºï¼šæ¯ä¸¤å‘¨è¿›è¡Œä»”ç»†ä¿®è®¢çš„æ´»åŠ¨æ—¶é—´ä¼°è®¡ï¼Œéšç€å¼€å§‹æ—¶é—´çš„ä¸´è¿‘ä¸ä¼šæœ‰å¤ªå¤§çš„å˜åŒ–ï¼›æœŸé—´å†…å¯¹æ—¶é—´é•¿çŸ­çš„è¿‡é«˜ä¼°è®¡ï¼Œä¼šéšç€æ´»åŠ¨çš„è¿›è¡ŒæŒç»­ä¸‹é™ï¼›è¿‡ä½ä¼°è®¡ç›´åˆ°è®¡åˆ’çš„ç»“æŸæ—¥æœŸä¹‹å‰å¤§çº¦ä¸‰å‘¨å·¦å³ï¼Œæ‰æœ‰æ‰€å˜åŒ–ã€‚</li>
<li>14.7 æ…¢æ€§è¿›åº¦åç¦»æ˜¯å£«æ°”æ€æ‰‹ã€‚[Microsoftçš„Jim McCarthyè¯´ï¼šâ€å¦‚æœä½ é”™è¿‡äº†ä¸€ä¸ªæœ€ç»ˆæœŸé™ï¼ˆdeadlineï¼‰ï¼Œç¡®ä¿åˆ¶è®¢ä¸‹ä¸€æ¡deadlineâ€</li>
<li>14.8 è¿›å–å¯¹äºæ°å‡ºçš„è½¯ä»¶å¼€å‘å›¢é˜Ÿï¼ŒåŒä¼˜ç§€çš„æ£’çƒé˜Ÿä¼ä¸€æ ·ï¼Œæ˜¯ä¸å¯ç¼ºå°‘çš„å¿…è¦å“å¾·ã€‚</li>
<li>14.9 ä¸å­˜åœ¨å…³é”®è·¯å¾„è¿›åº¦çš„æ›¿ä»£å“ï¼Œä½¿äººä»¬èƒ½å¤Ÿè¾¨åˆ«è®¡åˆ’åç§»çš„æƒ…å†µã€‚</li>
<li>14.10 PERTçš„å‡†å¤‡å·¥ä½œæ˜¯PERTå›¾ä½¿ç”¨ä¸­æœ€æœ‰ä»·å€¼çš„éƒ¨åˆ†ã€‚å®ƒåŒ…æ‹¬äº†æ•´ä¸ªç½‘çŠ¶ç»“æ„çš„å±•å¼€ã€ä»»åŠ¡ä¹‹é—´ä¾èµ–å…³ç³»çš„è¯†åˆ«ã€å„ä¸ªä»»åŠ¡é“¾çš„ä¼°è®¡ã€‚è¿™äº›éƒ½è¦æ±‚åœ¨é¡¹ç›®æ—©æœŸè¿›è¡Œéå¸¸ä¸“ä¸šçš„è®¡åˆ’ã€‚</li>
<li>14.11 ç¬¬ä¸€ä»½PERTå›¾æ€»æ˜¯å¾ˆææ€–çš„ï¼Œä¸è¿‡äººä»¬æ€»æ˜¯ä¸æ–­è¿›è¡ŒåŠªåŠ›ï¼Œè¿ç”¨æ‰æ™ºåˆ¶è®¢ä¸‹ä¸€ä»½PERTå›¾ã€‚</li>
<li>14.12 PERTå›¾ä¸ºå‰é¢é‚£ä¸ªæ³„æ°”çš„å€Ÿå£ï¼Œâ€å…¶ä»–çš„éƒ¨åˆ†åæ­£ä¼šè½åâ€ï¼Œæä¾›äº†ç­”æ¡ˆã€‚</li>
<li>14.13 æ¯ä¸ªè€æ¿åŒæ—¶éœ€è¦é‡‡å–è¡ŒåŠ¨çš„å¼‚å¸¸ä¿¡æ¯ä»¥åŠç”¨æ¥è¿›è¡Œåˆ†æå’Œæ—©æœŸé¢„è­¦çš„çŠ¶æ€æ•°æ®ã€‚</li>
<li>14.14 çŠ¶æ€çš„è·å–æ˜¯å›°éš¾çš„ï¼Œå› ä¸ºä¸‹å±ç»ç†æœ‰å……åˆ†çš„ç†ç”±ä¸æä¾›ä¿¡æ¯å…±äº«ã€‚</li>
<li>14.15 è€æ¿çš„ä¸è‰¯ååº”è‚¯å®šä¼šå¯¹ä¿¡æ¯çš„å®Œå…¨å…¬å¼€é€ æˆå‹åˆ¶ï¼›ç›¸åï¼Œä»”ç»†åŒºåˆ†çŠ¶æ€æŠ¥å‘Šã€æ¯«æ— æƒŠæ…Œåœ°æ¥æ”¶æŠ¥å‘Šã€å†³ä¸è¶Šä¿ä»£åº–ï¼Œå°†èƒ½é¼“åŠ±è¯šå®çš„æ±‡æŠ¥ã€‚</li>
<li>14.16 å¿…é¡»æœ‰è¯„å®¡çš„æœºåˆ¶ï¼Œä»è€Œæ‰€æœ‰æˆå‘˜å¯ä»¥é€šè¿‡å®ƒäº†è§£çœŸæ­£çš„çŠ¶æ€ã€‚å‡ºäºè¿™ä¸ªç›®çš„ï¼Œé‡Œç¨‹ç¢‘çš„è®¡åˆ’å’Œå®Œæˆæ–‡æ¡£æ˜¯å…³é”®ã€‚</li>
<li>14.17 Vyssotskyï¼šæˆ‘å‘ç°åœ¨é‡Œç¨‹ç¢‘æŠ¥å‘Šä¸­å¾ˆå®¹æ˜“è®°å½•â€è®¡åˆ’ï¼ˆè€æ¿çš„æ—¥æœŸï¼‰â€å’Œâ€ä¼°è®¡ï¼ˆæœ€åŸºå±‚ç»ç†çš„æ—¥æœŸï¼‰â€çš„æ—¥æœŸã€‚é¡¹ç›®ç»ç†å¿…é¡»åœæ­¢å¯¹è¿™äº›æ—¥æœŸçš„æ€€ç–‘ã€‚â€</li>
<li>14.18 å¯¹äºå¤§å‹é¡¹ç›®ï¼Œä¸€ä¸ªå¯¹é‡Œç¨‹ç¢‘æŠ¥å‘Šè¿›è¡Œç»´æŠ¤çš„è®¡åˆ’å’Œæ§åˆ¶ï¼ˆPlan and Controlï¼‰å°ç»„æ˜¯éå¸¸å¯è´µçš„ã€‚</li>
</ul>
<p>ç¬¬15ç«  å¦å¤–ä¸€é¢</p>
<ul>
<li>15.1 å¯¹äºè½¯ä»¶ç¼–ç¨‹äº§å“æ¥è¯´ï¼Œç¨‹åºå‘ç”¨æˆ·æ‰€å‘ˆç°çš„é¢è²Œä¸æä¾›ç»™æœºå™¨è¯†åˆ«çš„å†…å®¹åŒæ ·é‡è¦ã€‚</li>
<li>15.2 å³ä½¿å¯¹äºå®Œå…¨å¼€å‘ç»™è‡ªå·±ä½¿ç”¨çš„ç¨‹åºï¼Œæè¿°æ€§æ–‡å­—ä¹Ÿæ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šè¢«ç”¨æˆ·ï¼ä½œè€…æ‰€é—å¿˜ã€‚</li>
<li>15.3 åŸ¹è®­å’Œç®¡ç†äººå‘˜åŸºæœ¬ä¸Šæ²¡æœ‰èƒ½å‘ç¼–ç¨‹äººå‘˜æˆåŠŸåœ°çŒè¾“å¯¹å¾…æ–‡æ¡£çš„ç§¯ææ€åº¦â€”æ–‡æ¡£èƒ½åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå¯¹å…‹æœæ‡’æƒ°å’Œè¿›åº¦çš„å‹åŠ›èµ·ä¿ƒè¿›æ¿€åŠ±ä½œç”¨ã€‚</li>
<li>15.4 è¿™æ ·çš„å¤±è´¥å¹¶ä¸éƒ½æ˜¯å› ä¸ºç¼ºä¹çƒ­æƒ…æˆ–è€…è¯´æœåŠ›ï¼Œè€Œæ˜¯æ²¡èƒ½æ­£ç¡®åœ°å±•ç¤ºå¦‚ä½•æœ‰æ•ˆå’Œç»æµåœ°ç¼–åˆ¶æ–‡æ¡£ã€‚</li>
<li>15.5 å¤§å¤šæ•°æ–‡æ¡£åªæä¾›äº†å¾ˆå°‘çš„æ€»ç»“æ€§å†…å®¹ã€‚å¿…é¡»æ”¾æ…¢è„šæ­¥ï¼Œç¨³å¦¥åœ°è¿›è¡Œã€‚</li>
<li>15.6 ç”±äºå…³é”®çš„ç”¨æˆ·æ–‡æ¡£åŒ…å«äº†è·Ÿè½¯ä»¶ç›¸å…³çš„åŸºæœ¬å†³ç­–ï¼Œæ‰€ä»¥å®ƒçš„ç»å¤§éƒ¨åˆ†éœ€è¦åœ¨ç¨‹åºç¼–åˆ¶ä¹‹å‰ä¹¦å†™ï¼Œå®ƒåŒ…æ‹¬äº†9é¡¹å†…å®¹ï¼ˆå‚è§ç›¸åº”ç« èŠ‚ï¼‰ã€‚</li>
<li>15.7 æ¯ä¸€ä»½å‘å¸ƒçš„ç¨‹åºæ‹·è´åº”è¯¥åŒ…æ‹¬ä¸€äº›æµ‹è¯•ç”¨ä¾‹ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ç”¨äºæ ¡éªŒè¾“å…¥æ•°æ®ï¼Œä¸€éƒ¨åˆ†ç”¨äºè¾¹ç•Œè¾“å…¥æ•°æ®ï¼Œå¦ä¸€éƒ¨åˆ†ç”¨äºæ— æ•ˆçš„è¾“å…¥æ•°æ®ã€‚</li>
<li>15.8 å¯¹äºå¿…é¡»ä¿®æ”¹ç¨‹åºçš„äººè€Œè¨€ï¼Œä»–ä»¬æ‰€éœ€è¦ç¨‹åºå†…éƒ¨ç»“æ„æ–‡æ¡£ï¼ŒåŒæ ·è¦æ±‚ä¸€ä»½æ¸…æ™°æ˜äº†çš„æ¦‚è¿°ï¼Œå®ƒåŒ…æ‹¬äº†5é¡¹å†…å®¹ï¼ˆå‚è§ç›¸åº”ç« èŠ‚ï¼‰ã€‚</li>
<li>15.9 æµç¨‹å›¾æ˜¯è¢«å¹æ§å¾—æœ€è¿‡åˆ†çš„ä¸€ç§ç¨‹åºæ–‡æ¡£ã€‚è¯¦ç»†é€ä¸€è®°å½•çš„æµç¨‹å›¾æ˜¯ä¸€ä»¶ä»¤äººç”ŸåŒçš„äº‹æƒ…ï¼Œè€Œä¸”é«˜çº§è¯­è¨€çš„å‡ºç°ä½¿å®ƒæ˜¾å¾—é™ˆæ—§è¿‡æ—¶ã€‚ï¼ˆæµç¨‹å›¾æ˜¯å›¾å½¢åŒ–çš„é«˜çº§è¯­è¨€ã€‚ï¼‰</li>
<li>15.10 å¦‚æœè¿™æ ·ï¼Œå¾ˆå°‘æœ‰ç¨‹åºéœ€è¦ä¸€é¡µçº¸ä»¥ä¸Šçš„æµç¨‹å›¾ã€‚[åœ¨è¿™ä¸€ç‚¹ä¸Šï¼ŒMILSPECå†›ç”¨æ ‡å‡†å®åœ¨é”™å¾—å¾ˆå‰å®³ã€‚]</li>
<li>15.11 å³ä½¿çš„ç¡®éœ€è¦ä¸€å¼ ç¨‹åºç»“æ„å›¾ï¼Œä¹Ÿå¹¶ä¸éœ€è¦éµç…§ANSIçš„æµç¨‹å›¾æ ‡å‡†ã€‚</li>
<li>15.12 ä¸ºäº†ä½¿æ–‡æ¡£æ˜“äºç»´æŠ¤ï¼Œå°†å®ƒä»¬åˆå¹¶è‡³æºç¨‹åºæ˜¯è‡³å…³é‡è¦çš„ï¼Œè€Œä¸æ˜¯ä½œä¸ºç‹¬ç«‹æ–‡æ¡£è¿›è¡Œä¿å­˜ã€‚</li>
<li>15.13 æœ€å°åŒ–æ–‡æ¡£è´Ÿæ‹…çš„3ä¸ªå…³é”®æ€è·¯ï¼š<ul>
<li>å€ŸåŠ©é‚£äº›å¿…é¡»å­˜åœ¨çš„è¯­å¥ï¼Œå¦‚åç§°å’Œå£°æ˜ç­‰ï¼Œæ¥é™„åŠ å°½å¯èƒ½å¤šçš„â€æ–‡æ¡£â€ä¿¡æ¯ã€‚</li>
<li>ä½¿ç”¨ç©ºæ ¼å’Œæ ¼å¼æ¥è¡¨ç°ä»å±å’ŒåµŒå¥—å…³ç³»ï¼Œæé«˜ç¨‹åºçš„å¯è¯»æ€§ã€‚</li>
<li>ä»¥æ®µè½æ³¨é‡Šï¼Œç‰¹åˆ«æ˜¯æ¨¡å—æ ‡é¢˜çš„å½¢å¼ï¼Œå‘ç¨‹åºä¸­æ’å…¥å¿…è¦çš„è®°å™æ€§æ–‡å­—ã€‚</li>
</ul>
</li>
<li>15.14 ç¨‹åºä¿®æ”¹äººå‘˜æ‰€ä½¿ç”¨çš„æ–‡æ¡£ä¸­ï¼Œé™¤äº†æè¿°äº‹æƒ…å¦‚ä½•ä»¥å¤–ï¼Œè¿˜åº”é˜è¿°å®ƒä¸ºä»€ä¹ˆé‚£æ ·ã€‚å¯¹äºåŠ æ·±ç†è§£ï¼Œç›®çš„æ˜¯éå¸¸å…³é”®çš„ï¼Œä½†å³ä½¿æ˜¯é«˜çº§è¯­è¨€çš„è¯­æ³•ï¼Œä¹Ÿä¸èƒ½è¡¨è¾¾ç›®çš„ã€‚</li>
<li>15.15 åœ¨çº¿ç³»ç»Ÿçš„é«˜çº§è¯­è¨€ï¼ˆåº”è¯¥ä½¿ç”¨çš„å·¥å…·ï¼‰ä¸­ï¼Œè‡ªæ–‡æ¡£åŒ–æŠ€æœ¯å‘ç°äº†å®ƒçš„ç»ä½³åº”ç”¨å’Œå¼ºå¤§åŠŸèƒ½ã€‚</li>
</ul>
<p>ç¬¬16ç«  æ²¡æœ‰é“¶å¼¹</p>
<ul>
<li>E.1 è½¯ä»¶ç³»ç»Ÿå¯èƒ½æ˜¯äººç±»åˆ›é€ ä¸­æœ€é”™ç»¼å¤æ‚çš„äº‹ç‰©ï¼ˆä»ä¸åŒç±»å‹ç»„æˆéƒ¨åˆ†æ•°é‡çš„è§’åº¦å‡ºå‘ï¼‰ã€‚</li>
<li>E.2 è½¯ä»¶å·¥ç¨‹çš„ç„¦æ²¹å‘åœ¨å°†æ¥å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ä¼šç»§ç»­åœ°ä½¿äººä»¬ä¸¾æ­¥ç»´è‰°ï¼Œæ— æ³•è‡ªæ‹”ã€‚</li>
</ul>
<hr>
<h2 id="èŒä¸šçš„ä¹è¶£"><a href="#èŒä¸šçš„ä¹è¶£" class="headerlink" title="èŒä¸šçš„ä¹è¶£"></a>èŒä¸šçš„ä¹è¶£</h2><p>ç¼–ç¨‹ä¸ºä»€ä¹ˆæœ‰è¶£ï¼Ÿä½œä¸ºå›æŠ¥ï¼Œå®ƒçš„ä»ä¸šè€…æœŸæœ›å¾—åˆ°ä»€ä¹ˆæ ·çš„å¿«ä¹ï¼Ÿ</p>
<p>é¦–å…ˆæ˜¯ä¸€ç§åˆ›å»ºäº‹ç‰©çš„çº¯ç²¹å¿«ä¹ã€‚å¦‚åŒå°å­©åœ¨ç©æ³¥å·´æ—¶æ„Ÿåˆ°æ„‰å¿«ä¸€æ ·ï¼Œæˆå¹´äººå–œæ¬¢åˆ›å»ºäº‹ç‰©ï¼Œç‰¹åˆ«æ˜¯è‡ªå·±è¿›è¡Œè®¾è®¡ã€‚æˆ‘æƒ³è¿™ç§å¿«ä¹æ˜¯ä¸Šå¸åˆ›é€ ä¸–ç•Œçš„æŠ˜å°„ï¼Œä¸€ç§å‘ˆç°åœ¨æ¯ç‰‡ç‹¬ç‰¹ã€å´­æ–°çš„æ ‘å¶å’Œé›ªèŠ±ä¸Šçš„å–œæ‚¦ã€‚</p>
<p>å…¶æ¬¡ï¼Œå¿«ä¹æ¥è‡ªäºå¼€å‘å¯¹å…¶ä»–äººæœ‰ç”¨çš„ä¸œè¥¿ã€‚å†…å¿ƒæ·±å¤„ï¼Œæˆ‘ä»¬æœŸæœ›å…¶ä»–äººä½¿ç”¨æˆ‘ä»¬çš„åŠ³åŠ¨æˆæœï¼Œå¹¶èƒ½å¯¹ä»–ä»¬æœ‰æ‰€å¸®åŠ©ã€‚ä»è¿™ä¸ªæ–¹é¢ï¼Œè¿™åŒå°å­©ç”¨ç²˜åœŸä¸ºâ€çˆ¸çˆ¸åŠå…¬å®¤â€æåˆ¶é“…ç¬”ç›’æ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚</p>
<p>ç¬¬ä¸‰æ˜¯æ•´ä¸ªè¿‡ç¨‹ä½“ç°å‡ºé­”æœ¯èˆ¬çš„åŠ›é‡â€”â€”å°†ç›¸äº’å•®åˆçš„é›¶éƒ¨ä»¶ç»„è£…åœ¨ä¸€èµ·ï¼Œçœ‹åˆ°å®ƒä»¬ç²¾å¦™åœ°è¿è¡Œï¼Œå¾—åˆ°é¢„å…ˆæ‰€å¸Œæœ›çš„ç»“æœã€‚æ¯”èµ·å¼¹ç æ¸¸æˆæˆ–ç‚¹å”±æœºæ‰€å…·æœ‰çš„è¿·äººé­…åŠ›ï¼Œç¨‹åºåŒ–çš„è®¡ç®—æœºæ¯«ä¸é€Šè‰²ã€‚</p>
<p>ç¬¬å››æ˜¯å­¦ä¹ çš„ä¹è¶£ï¼Œæ¥è‡ªäºè¿™é¡¹å·¥ä½œçš„éé‡å¤ç‰¹æ€§ã€‚äººä»¬æ‰€é¢ä¸´çš„é—®é¢˜ï¼Œåœ¨æŸä¸ªæˆ–å…¶å®ƒæ–¹é¢æ€»æœ‰äº›ä¸åŒã€‚å› è€Œè§£å†³é—®é¢˜çš„äººå¯ä»¥ä»ä¸­å­¦ä¹ æ–°çš„äº‹ç‰©ï¼šæœ‰æ—¶æ˜¯å®è·µä¸Šçš„ï¼Œæœ‰æ—¶æ˜¯ç†è®ºä¸Šçš„ï¼Œæˆ–è€…å…¼è€Œæœ‰ä¹‹ã€‚</p>
<p>æœ€åï¼Œä¹è¶£è¿˜æ¥è‡ªäºå·¥ä½œåœ¨å¦‚æ­¤æ˜“äºé©¾é©­çš„ä»‹è´¨ä¸Šã€‚ç¨‹åºå‘˜ï¼Œå°±åƒè¯—äººä¸€æ ·ï¼Œå‡ ä¹ä»…ä»…å·¥ä½œåœ¨å•çº¯çš„æ€è€ƒä¸­ã€‚ç¨‹åºå‘˜å‡­ç©ºåœ°è¿ç”¨è‡ªå·±çš„æƒ³è±¡ï¼Œæ¥å»ºé€ è‡ªå·±çš„â€åŸå ¡â€ã€‚å¾ˆå°‘æœ‰è¿™æ ·çš„ä»‹è´¨â€”â€”åˆ›é€ çš„æ–¹å¼å¦‚æ­¤å¾—çµæ´»ï¼Œå¦‚æ­¤å¾—æ˜“äºç²¾ç‚¼å’Œé‡å»ºï¼Œå¦‚æ­¤å¾—å®¹æ˜“å®ç°æ¦‚å¿µä¸Šçš„è®¾æƒ³ã€‚ï¼ˆä¸è¿‡æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ï¼Œå®¹æ˜“é©¾é©­çš„ç‰¹æ€§ä¹Ÿæœ‰å®ƒè‡ªå·±çš„é—®é¢˜ï¼‰ç„¶è€Œç¨‹åºæ¯•ç«ŸåŒè¯—æ­Œä¸åŒï¼Œå®ƒæ˜¯å®å®åœ¨åœ¨çš„ä¸œè¥¿ï¼›å¯ä»¥ç§»åŠ¨å’Œè¿è¡Œï¼Œèƒ½ç‹¬ç«‹äº§ç”Ÿå¯è§çš„è¾“å‡ºï¼›èƒ½æ‰“å°ç»“æœï¼Œç»˜åˆ¶å›¾å½¢ï¼Œå‘å‡ºå£°éŸ³ï¼Œç§»åŠ¨æ”¯æ¶ã€‚ç¥è¯å’Œä¼ è¯´ä¸­çš„é­”æœ¯åœ¨æˆ‘ä»¬çš„æ—¶ä»£å·²å˜æˆäº†ç°å®ã€‚åœ¨é”®ç›˜ä¸Šé”®å…¥æ­£ç¡®çš„å’’è¯­ï¼Œå±å¹•ä¼šæ´»åŠ¨ã€å˜å¹»ï¼Œæ˜¾ç¤ºå‡ºå‰æ‰€æœªæœ‰çš„æˆ–æ˜¯å·²ç»å­˜åœ¨çš„äº‹ç‰©ã€‚</p>
<p>ç¼–ç¨‹éå¸¸æœ‰è¶£ï¼Œåœ¨äºå®ƒä¸ä»…æ»¡è¶³äº†æˆ‘ä»¬å†…å¿ƒæ·±å¤„è¿›è¡Œåˆ›é€ çš„æ¸´æœ›ï¼Œè€Œä¸”è¿˜æ„‰æ‚¦äº†æ¯ä¸ªäººå†…åœ¨çš„æƒ…æ„Ÿã€‚</p>
<hr>
<h2 id="ç³»ç»Ÿæµ‹è¯•"><a href="#ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="ç³»ç»Ÿæµ‹è¯•"></a>ç³»ç»Ÿæµ‹è¯•</h2><p>åœ¨æ—¶é—´è¿›åº¦ä¸­ï¼Œé¡ºåºé™åˆ¶æ‰€é€ æˆçš„å½±å“ï¼Œæ²¡æœ‰å“ªä¸ªéƒ¨åˆ†æ¯”å•å…ƒè°ƒè¯•å’Œç³»ç»Ÿæµ‹è¯•æ‰€å—åˆ°çš„ç‰µæ¶‰æ›´å½»åº•ã€‚è€Œä¸”ï¼Œè¦æ±‚çš„æ—¶é—´ä¾èµ–äºæ‰€é‡åˆ°çš„é”™è¯¯ã€ç¼ºé™·æ•°é‡ä»¥åŠæ•æ‰å®ƒä»¬çš„ç¨‹åº¦ã€‚ç†è®ºä¸Šï¼Œç¼ºé™·çš„æ•°é‡åº”è¯¥ä¸ºé›¶ã€‚ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬çš„ä¹è§‚ä¸»ä¹‰ï¼Œé€šå¸¸å®é™…å‡ºç°çš„ç¼ºé™·æ•°é‡æ¯”é¢„æ–™çš„è¦å¤šå¾—å¤šã€‚å› æ­¤ï¼Œç³»ç»Ÿæµ‹è¯•è¿›åº¦çš„å®‰æ’å¸¸å¸¸æ˜¯ç¼–ç¨‹ä¸­æœ€ä¸åˆç†çš„éƒ¨åˆ†ã€‚</p>
<p>å¯¹äºè½¯ä»¶ä»»åŠ¡çš„è¿›åº¦å®‰æ’ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä½¿ç”¨äº†å¾ˆå¤šå¹´çš„ç»éªŒæ³•åˆ™ï¼š</p>
<ul>
<li>1/3 è®¡åˆ’</li>
<li>1/6 ç¼–ç </li>
<li>1/4 æ„ä»¶æµ‹è¯•å’Œæ—©æœŸç³»ç»Ÿæµ‹è¯•</li>
<li>1/4 ç³»ç»Ÿæµ‹è¯•ï¼Œæ‰€æœ‰çš„æ„ä»¶å·²å®Œæˆ</li>
</ul>
<p>åœ¨è®¸å¤šé‡è¦çš„æ–¹é¢ï¼Œå®ƒä¸ä¼ ç»Ÿçš„è¿›åº¦å®‰æ’æ–¹æ³•ä¸åŒï¼š</p>
<ol>
<li>åˆ†é…ç»™è®¡åˆ’çš„æ—¶é—´æ¯”å¯»å¸¸çš„å¤šã€‚å³ä¾¿å¦‚æ­¤ï¼Œä»ä¸è¶³ä»¥äº§ç”Ÿè¯¦ç»†å’Œç¨³å®šçš„è®¡åˆ’è§„æ ¼è¯´æ˜ï¼Œä¹Ÿä¸è¶³ä»¥å®¹çº³å¯¹å…¨æ–°æŠ€æœ¯çš„ç ”ç©¶å’Œæ‘¸ç´¢ã€‚</li>
<li>å¯¹æ‰€å®Œæˆä»£ç çš„è°ƒè¯•å’Œæµ‹è¯•ï¼ŒæŠ•å…¥è¿‘ä¸€åŠçš„æ—¶é—´ï¼Œæ¯”å¹³å¸¸çš„å®‰æ’å¤šå¾ˆå¤šã€‚</li>
<li>å®¹æ˜“ä¼°è®¡çš„éƒ¨åˆ†ï¼Œå³ç¼–ç ï¼Œä»…ä»…åˆ†é…äº†å…­åˆ†ä¹‹ä¸€çš„æ—¶é—´ã€‚</li>
</ol>
<p>é€šè¿‡å¯¹ä¼ ç»Ÿé¡¹ç›®è¿›åº¦å®‰æ’çš„ç ”ç©¶ï¼Œæˆ‘å‘ç°å¾ˆå°‘é¡¹ç›®å…è®¸ä¸ºæµ‹è¯•åˆ†é…ä¸€åŠçš„æ—¶é—´ï¼Œä½†å¤§å¤šæ•°é¡¹ç›®çš„æµ‹è¯•å®é™…ä¸Šæ˜¯èŠ±è´¹äº†è¿›åº¦ä¸­ä¸€åŠçš„æ—¶é—´ã€‚å®ƒä»¬ä¸­çš„è®¸å¤šé¡¹ç›®ï¼Œåœ¨ç³»ç»Ÿæµ‹è¯•ä¹‹å‰è¿˜èƒ½ä¿æŒè¿›åº¦ã€‚æˆ–è€…è¯´ï¼Œé™¤äº†ç³»ç»Ÿæµ‹è¯•ï¼Œè¿›åº¦åŸºæœ¬èƒ½ä¿è¯ã€‚</p>
<p>ç‰¹åˆ«éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œä¸ä¸ºç³»ç»Ÿæµ‹è¯•å®‰æ’è¶³å¤Ÿçš„æ—¶é—´ç®€ç›´å°±æ˜¯ä¸€åœºç¾éš¾ã€‚å› ä¸ºå»¶è¿Ÿå‘ç”Ÿåœ¨é¡¹ç›®å¿«å®Œæˆçš„æ—¶å€™ã€‚ç›´åˆ°é¡¹ç›®çš„å‘å¸ƒæ—¥æœŸï¼Œæ‰æœ‰äººå‘ç°è¿›åº¦ä¸Šçš„é—®é¢˜ã€‚å› æ­¤ï¼Œåæ¶ˆæ¯æ²¡æœ‰ä»»ä½•é¢„å…†ï¼Œå¾ˆæ™šæ‰å‡ºç°åœ¨å®¢æˆ·å’Œé¡¹ç›®ç»ç†é¢å‰ã€‚</p>
<p>å¦å¤–ï¼Œæ­¤æ—¶æ­¤åˆ»çš„å»¶è¿Ÿå…·æœ‰ä¸å¯»å¸¸çš„ã€ä¸¥é‡çš„è´¢åŠ¡å’Œå¿ƒç†ä¸Šçš„ååº”ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œé¡¹ç›®å·²ç»é…ç½®äº†å……è¶³çš„äººå‘˜ï¼Œæ¯å¤©çš„äººåŠ›æˆæœ¬ä¹Ÿå·²ç»è¾¾åˆ°äº†æœ€å¤§çš„é™åº¦ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå½“è½¯ä»¶ç”¨æ¥æ”¯æŒå…¶ä»–çš„å•†ä¸šæ´»åŠ¨ï¼ˆè®¡ç®—æœºç¡¬ä»¶åˆ°è´§ï¼Œæ–°è®¾å¤‡ã€æœåŠ¡ä¸Šçº¿ç­‰ç­‰ï¼‰æ—¶ï¼Œè¿™äº›æ´»åŠ¨å»¶è¯¯å‡ºç°å³å°†å‘å¸ƒå‰ï¼Œé‚£ä¹ˆå°†ä»˜å‡ºç›¸å½“é«˜çš„å•†ä¸šä»£ä»·ã€‚</p>
<p>å®é™…ä¸Šï¼Œä¸Šè¿°çš„äºŒæ¬¡æˆæœ¬è¿œè¿œé«˜äºå…¶ä»–å¼€é”€ã€‚å› æ­¤ï¼Œåœ¨æ—©æœŸè¿›åº¦ç­–åˆ’æ—¶ï¼Œå…è®¸å……åˆ†çš„ç³»ç»Ÿæµ‹è¯•æ—¶é—´æ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<hr>
<h1 id="ç¬¬-11-ç« -æœªé›¨ç»¸ç¼ªï¼ˆPlan-to-Throw-One-Awayï¼‰"><a href="#ç¬¬-11-ç« -æœªé›¨ç»¸ç¼ªï¼ˆPlan-to-Throw-One-Awayï¼‰" class="headerlink" title="ç¬¬ 11 ç«  æœªé›¨ç»¸ç¼ªï¼ˆPlan to Throw One Awayï¼‰"></a>ç¬¬ 11 ç«  æœªé›¨ç»¸ç¼ªï¼ˆPlan to Throw One Awayï¼‰</h1><p>ä¸å˜åªæ˜¯æ„¿æœ›ï¼Œå˜åŒ–æ‰æ˜¯æ°¸æ’ã€‚</p>
<p>â€”â€”SWIFT</p>
<p>æ™®éçš„åšæ³•æ˜¯ï¼Œé€‰æ‹©ä¸€ç§æ–¹æ³•ï¼Œè¯•è¯•çœ‹ï¼›å¦‚æœå¤±è´¥äº†ï¼Œæ²¡å…³ç³»ï¼Œå†è¯•è¯•åˆ«çš„ã€‚ä¸ç®¡æ€ä¹ˆæ ·ï¼Œé‡è¦çš„æ˜¯å…ˆå»å°è¯•ã€‚</p>
<p>â€”â€”å¯Œå…°å…‹æ— D. ç½—æ–¯ç¦</p>
<p>There is nothing in this world constant but inconstancy.</p>
<p>â€”â€”SWIFT</p>
<p>It is common sense to take a method and try it. If it fails, admit it frankly and try another. But above all, try something.</p>
<p>â€”â€”FRANKLIN D. ROOSEVELT</p>
<h2 id="è¯•éªŒæ€§å·¥å‚å’Œå¢å¤§è§„æ¨¡"><a href="#è¯•éªŒæ€§å·¥å‚å’Œå¢å¤§è§„æ¨¡" class="headerlink" title="è¯•éªŒæ€§å·¥å‚å’Œå¢å¤§è§„æ¨¡"></a>è¯•éªŒæ€§å·¥å‚å’Œå¢å¤§è§„æ¨¡</h2><p>åŒ–å­¦å·¥ç¨‹å¸ˆå¾ˆæ—©å°±è®¤è¯†åˆ°ï¼Œåœ¨å®éªŒå®¤å¯ä»¥è¿›è¡Œçš„ååº”è¿‡ç¨‹ï¼Œå¹¶ä¸èƒ½åœ¨å·¥å‚ä¸­ä¸€æ­¥å®ç°ã€‚ä¸€ä¸ªè¢«ç§°ä¸ºâ€å®éªŒæ€§å·¥å‚ï¼ˆpilot planetï¼‰â€çš„ä¸­é—´æ­¥éª¤æ˜¯éå¸¸å¿…è¦çš„ï¼Œå®ƒä¼šä¸ºæé«˜äº§é‡å’Œåœ¨ç¼ºä¹ä¿æŠ¤çš„ç¯å¢ƒä¸‹è¿ä½œæä¾›å®è´µç»éªŒã€‚ä¾‹å¦‚ï¼Œæµ·æ°´æ·¡åŒ–çš„å®éªŒå®¤è¿‡ç¨‹ä¼šå…ˆåœ¨äº§é‡ä¸º 10,000 åŠ ä»‘/æ¯å¤©çš„è¯•éªŒåœºæ‰€æµ‹è¯•ï¼Œç„¶åå†ç”¨äº 2,000,000 åŠ ä»‘/æ¯å¤©çš„å‡€åŒ–ç³»ç»Ÿã€‚</p>
<p>è½¯ä»¶ç³»ç»Ÿçš„æ„å»ºäººå‘˜ä¹Ÿé¢ä¸´ç±»ä¼¼çš„é—®é¢˜ï¼Œä½†ä¼¼ä¹å¹¶æ²¡æœ‰å¸å–æ•™è®­ã€‚ä¸€ä¸ªæ¥ä¸€ä¸ªçš„è½¯ä»¶é¡¹ç›®éƒ½æ˜¯ä¸€å¼€å§‹è®¾è®¡ç®—æ³•ï¼Œç„¶åå°†ç®—æ³•åº”ç”¨åˆ°å¾…å‘å¸ƒçš„è½¯ä»¶ä¸­ï¼Œæ¥ç€æ ¹æ®æ—¶é—´è¿›åº¦æŠŠç¬¬ä¸€æ¬¡å¼€å‘çš„äº§å“å‘å¸ƒç»™é¡¾å®¢ã€‚</p>
<p>å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼Œç¬¬ä¸€ä¸ªå¼€å‘çš„ç³»ç»Ÿå¹¶ä¸åˆç”¨ã€‚å®ƒå¯èƒ½å¤ªæ…¢ã€å¤ªå¤§ï¼Œè€Œä¸”éš¾ä»¥ä½¿ç”¨ï¼Œæˆ–è€…ä¸‰è€…å…¼è€Œæœ‰ä¹‹ã€‚è¦è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œé™¤äº†é‡æ–°å¼€å§‹ä»¥å¤–ï¼Œæ²¡æœ‰å…¶ä»–çš„åŠæ³•â€”â€”å³å¼€å‘ä¸€ä¸ªæ›´çµå·§æˆ–è€…æ›´å¥½çš„ç³»ç»Ÿã€‚ç³»ç»Ÿçš„ä¸¢å¼ƒå’Œé‡æ–°è®¾è®¡å¯ä»¥ä¸€æ­¥å®Œæˆï¼Œä¹Ÿå¯ä»¥ä¸€å—å—åœ°å®ç°ã€‚æ‰€æœ‰å¤§å‹ç³»ç»Ÿçš„ç»éªŒéƒ½æ˜¾ç¤ºï¼Œè¿™æ˜¯å¿…é¡»å®Œæˆçš„æ­¥éª¤ã€‚è€Œä¸”ï¼Œæ–°çš„ç³»ç»Ÿæ¦‚å¿µæˆ–æ–°æŠ€æœ¯ä¼šä¸æ–­å‡ºç°ï¼Œæ‰€ä»¥å¼€å‘çš„ç³»ç»Ÿå¿…é¡»è¢«æŠ›å¼ƒï¼Œä½†å³ä½¿æ˜¯æœ€ä¼˜ç§€çš„é¡¹ç›®ç»ç†ï¼Œä¹Ÿä¸èƒ½æ— æ‰€ä¸çŸ¥åœ°åœ¨æœ€å¼€å§‹è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<p>å› æ­¤ï¼Œç®¡ç†ä¸Šçš„é—®é¢˜ä¸å†æ˜¯â€æ˜¯å¦æ„å»ºä¸€ä¸ªè¯•éªŒæ€§çš„ç³»ç»Ÿï¼Œç„¶åæŠ›å¼ƒå®ƒï¼Ÿâ€ä½ å¿…é¡»è¿™æ ·åšã€‚ç°åœ¨çš„é—®é¢˜æ˜¯â€æ˜¯å¦é¢„å…ˆè®¡åˆ’æŠ›å¼ƒåŸå‹çš„å¼€å‘ï¼Œæˆ–è€…æ˜¯å¦å°†è¯¥åŸå‹å‘å¸ƒç»™ç”¨æˆ·ï¼Ÿâ€ä»è¿™ä¸ªè§’åº¦çœ‹å¾…é—®é¢˜ï¼Œç­”æ¡ˆæ›´åŠ æ¸…æ™°ã€‚å°†åŸå‹å‘å¸ƒç»™ç”¨æˆ·ï¼Œå¯ä»¥è·å¾—æ—¶é—´ï¼Œä½†æ˜¯å®ƒçš„ä»£ä»·é«˜æ˜‚â€”â€”å¯¹äºç”¨æˆ·ï¼Œä½¿ç”¨æåº¦ç—›è‹¦ï¼›å¯¹äºé‡æ–°å¼€å‘çš„äººå‘˜ï¼Œåˆ†æ•£äº†ç²¾åŠ›ï¼›å¯¹äºäº§å“ï¼Œå½±å“äº†å£°èª‰ï¼Œå³ä½¿æœ€å¥½çš„å†è®¾è®¡ä¹Ÿéš¾ä»¥æŒ½å›åå£°ã€‚</p>
<p>å› æ­¤ï¼Œä¸ºèˆå¼ƒè€Œè®¡åˆ’ï¼Œæ— è®ºå¦‚ä½•ï¼Œä½ ä¸€å®šè¦è¿™æ ·åšã€‚</p>
<h2 id="å”¯ä¸€ä¸å˜çš„å°±æ˜¯å˜åŒ–æœ¬èº«"><a href="#å”¯ä¸€ä¸å˜çš„å°±æ˜¯å˜åŒ–æœ¬èº«" class="headerlink" title="å”¯ä¸€ä¸å˜çš„å°±æ˜¯å˜åŒ–æœ¬èº«"></a>å”¯ä¸€ä¸å˜çš„å°±æ˜¯å˜åŒ–æœ¬èº«</h2><p>ä¸€æ—¦è®¤è¯†åˆ°è¯•éªŒæ€§çš„ç³»ç»Ÿå¿…é¡»è¢«æ„å»ºå’Œä¸¢å¼ƒï¼Œå…·æœ‰å˜æ›´æ€æƒ³çš„é‡æ–°è®¾è®¡ä¸å¯é¿å…ï¼Œä»è€Œç›´é¢æ•´ä¸ªå˜åŒ–ç°è±¡æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ç¬¬ä¸€æ­¥æ˜¯æ¥å—è¿™æ ·çš„äº‹å®ï¼šå˜åŒ–æ˜¯ä¸ç”Ÿä¿±æ¥çš„ï¼Œä¸æ˜¯ä¸åˆæ—¶å®œå’Œä»¤äººç”ŸåŒçš„å¼‚å¸¸æƒ…å†µã€‚Cosgrove å¾ˆæœ‰æ´å¯ŸåŠ›åœ°æŒ‡å‡ºï¼Œå¼€å‘äººå‘˜äº¤ä»˜çš„æ˜¯ç”¨æˆ·æ»¡æ„ç¨‹åº¦ï¼Œè€Œä¸ä»…ä»…æ˜¯å®é™…çš„äº§å“ã€‚ç”¨æˆ·çš„å®é™…éœ€è¦å’Œç”¨æˆ·æ„Ÿè§‰ä¼šéšç€ç¨‹åºçš„æ„å»ºã€æµ‹è¯•å’Œä½¿ç”¨è€Œå˜åŒ–ã€‚</p>
<p>å½“ç„¶å¯¹äºç¡¬ä»¶äº§å“è€Œè¨€ï¼ŒåŒæ ·éœ€è¦æ»¡è¶³è¦æ±‚ï¼Œä¾‹å¦‚æ–°å‹æ±½è½¦æˆ–è€…è®¡ç®—æœºã€‚ä½†ç‰©ä½“çš„å®¢è§‚å­˜åœ¨å®¹çº³å’Œé˜¶æ®µåŒ–ï¼ˆé‡å­åŒ–ï¼‰äº†ç”¨æˆ·å¯¹å˜æ›´çš„è¦æ±‚ã€‚è½¯ä»¶äº§å“æ˜“äºæŒæ¡çš„ç‰¹æ€§å’Œä¸å¯è§æ€§ï¼Œå¯¼è‡´å®ƒçš„æ„å»ºäººå‘˜é¢ä¸´æ°¸æ’çš„éœ€æ±‚å˜æ›´ã€‚</p>
<p>æˆ‘ä»ä¸å»ºè®®é¡¾å®¢ç›®æ ‡å’Œéœ€æ±‚çš„æ‰€æœ‰å˜æ›´å¿…é¡»ã€èƒ½å¤Ÿã€æˆ–è€…åº”è¯¥æ•´åˆåˆ°è®¾è®¡ä¸­ã€‚é¡¹ç›®å¼€å§‹æ—¶å»ºç«‹çš„åŸºå‡†ï¼Œè‚¯å®šä¼šéšç€å¼€å‘çš„è¿›è¡Œè¶Šæ¥è¶Šé«˜ï¼Œç”šè‡³å¼€å‘ä¸å‡ºä»»ä½•äº§å“ã€‚</p>
<p>ç„¶è€Œï¼Œç›®æ ‡ä¸Šçš„ä¸€äº›å˜åŒ–æ— å¯é¿å…ï¼Œäº‹å…ˆä¸ºå®ƒä»¬åšå‡†å¤‡æ€»æ¯”å‡è®¾å®ƒä»¬ä¸ä¼šå‡ºç°è¦å¥½å¾—å¤šã€‚ä¸ä½†ç›®æ ‡ä¸Šçš„å˜åŒ–ä¸å¯é¿å…ï¼Œè€Œä¸”è®¾è®¡ç­–ç•¥å’ŒæŠ€æœ¯ä¸Šçš„å˜åŒ–ä¹Ÿä¸å¯é¿å…ã€‚æŠ›å¼ƒåŸå‹æ¦‚å¿µæœ¬èº«å°±æ˜¯å¯¹äº‹å®çš„æ¥å—â€”â€”éšç€å­¦ä¹ çš„è¿‡ç¨‹æ›´æ”¹è®¾è®¡ã€‚</p>
<hr>
<h2 id="éœ€è¦ä»€ä¹ˆæ ·çš„æ–‡æ¡£"><a href="#éœ€è¦ä»€ä¹ˆæ ·çš„æ–‡æ¡£" class="headerlink" title="éœ€è¦ä»€ä¹ˆæ ·çš„æ–‡æ¡£"></a>éœ€è¦ä»€ä¹ˆæ ·çš„æ–‡æ¡£</h2><p>ä¸åŒç”¨æˆ·éœ€è¦ä¸åŒçº§åˆ«çš„æ–‡æ¡£ã€‚æŸäº›ç”¨æˆ·ä»…ä»…å¶å°”ä½¿ç”¨ç¨‹åºï¼Œæœ‰äº›ç”¨æˆ·å¿…é¡»ä¾èµ–ç¨‹åºï¼Œè¿˜æœ‰ä¸€äº›ç”¨æˆ·å¿…é¡»æ ¹æ®ç¯å¢ƒå’Œç›®çš„çš„å˜åŠ¨å¯¹ç¨‹åºè¿›è¡Œä¿®æ”¹ã€‚</p>
<p>ä½¿ç”¨ç¨‹åºã€‚æ¯ä¸ªç”¨æˆ·éƒ½éœ€è¦ä¸€æ®µå¯¹ç¨‹åºè¿›è¡Œæè¿°çš„æ–‡å­—ã€‚å¯æ˜¯å¤§å¤šæ•°æ–‡æ¡£åªæä¾›äº†å¾ˆå°‘çš„æ€»ç»“æ€§å†…å®¹ï¼Œæ— æ³•è¾¾åˆ°ç”¨æˆ·è¦æ±‚ï¼Œå°±åƒæ˜¯æç»˜äº†æ ‘æœ¨ï¼Œå½¢å®¹äº†æ ‘å¶ï¼Œä½†å´æ²¡æœ‰ä¸€å‰¯æ£®æ—çš„å›¾æ¡ˆã€‚ä¸ºäº†å¾—åˆ°ä¸€ä»½æœ‰ç”¨çš„æ–‡å­—æè¿°ï¼Œå°±å¿…é¡»æ”¾æ…¢è„šæ­¥ï¼Œç¨³å¦¥åœ°è¿›è¡Œã€‚</p>
<ol>
<li>ç›®çš„ã€‚ä¸»è¦çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿå¼€å‘ç¨‹åºçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ç¯å¢ƒã€‚ç¨‹åºè¿è¡Œåœ¨ä»€ä¹ˆæ ·çš„æœºå™¨ã€ç¡¬ä»¶é…ç½®å’Œæ“ä½œç³»ç»Ÿä¸Šï¼Ÿ</li>
<li>èŒƒå›´ã€‚è¾“å…¥çš„æœ‰æ•ˆèŒƒå›´æ˜¯ä»€ä¹ˆï¼Ÿå…è®¸æ˜¾ç¤ºçš„åˆæ³•èŒƒå›´æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å®ç°åŠŸèƒ½å’Œä½¿ç”¨çš„ç®—æ³•ã€‚ç²¾ç¡®åœ°é˜è¿°å®ƒåšäº†ä»€ä¹ˆã€‚</li>
<li>è¾“å…¥ï¼è¾“å‡ºæ ¼å¼ã€‚å¿…é¡»æ˜¯ç¡®åˆ‡å’Œå®Œæ•´çš„ã€‚</li>
<li>æ“ä½œæŒ‡ä»¤ã€‚åŒ…æ‹¬æ§åˆ¶å°åŠè¾“å‡ºå†…å®¹ä¸­æ­£å¸¸å’Œå¼‚å¸¸ç»“æŸçš„è¡Œä¸ºã€‚</li>
<li>é€‰é¡¹ã€‚ç”¨æˆ·çš„åŠŸèƒ½é€‰é¡¹æœ‰å“ªäº›ï¼Ÿå¦‚ä½•åœ¨é€‰é¡¹ä¹‹é—´è¿›è¡ŒæŒ‘é€‰ï¼Ÿ</li>
<li>è¿è¡Œæ—¶é—´ã€‚åœ¨æŒ‡å®šçš„é…ç½®ä¸‹ï¼Œè§£å†³ç‰¹å®šè§„æ¨¡é—®é¢˜æ‰€éœ€è¦çš„æ—¶é—´ï¼Ÿ</li>
<li>ç²¾åº¦å’Œæ ¡éªŒã€‚æœŸæœ›ç»“æœçš„ç²¾ç¡®ç¨‹åº¦ï¼Ÿå¦‚ä½•è¿›è¡Œç²¾åº¦çš„æ£€æµ‹ï¼Ÿ</li>
</ol>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸‰ã€å››é¡µçº¸å¸¸å¸¸å°±å¯ä»¥å®¹çº³ä»¥ä¸Šæ‰€æœ‰çš„ä¿¡æ¯ã€‚ä¸è¿‡å¾€å¾€éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯è¡¨è¾¾çš„ç®€æ´å’Œç²¾ç¡®ã€‚ç”±äºå®ƒåŒ…å«äº†å’Œè½¯ä»¶ç›¸å…³çš„åŸºæœ¬å†³ç­–ï¼Œæ‰€ä»¥è¿™ä»½æ–‡æ¡£çš„ç»å¤§éƒ¨åˆ†éœ€è¦åœ¨ç¨‹åºç¼–åˆ¶ä¹‹å‰ä¹¦å†™ã€‚</p>
<p>éªŒè¯ç¨‹åºã€‚é™¤äº†ç¨‹åºçš„ä½¿ç”¨æ–¹æ³•ï¼Œè¿˜å¿…é¡»é™„å¸¦ä¸€äº›ç¨‹åºæ­£ç¡®è¿è¡Œçš„è¯æ˜ï¼Œå³æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>æ¯ä¸€ä»½å‘å¸ƒçš„ç¨‹åºæ‹·è´åº”è¯¥åŒ…æ‹¬ä¸€äº›å¯ä»¥ä¾‹è¡Œè¿è¡Œçš„å°æµ‹è¯•ç”¨ä¾‹ï¼Œä¸ºç”¨æˆ·æä¾›ä¿¡å¿ƒâ€”â€”ä»–æ‹¥æœ‰äº†ä¸€ä»½å¯ä¿¡èµ–çš„æ‹·è´ï¼Œå¹¶ä¸”æ­£ç¡®åœ°å®‰è£…åˆ°äº†æœºå™¨ä¸Šã€‚</p>
<p>ç„¶åï¼Œéœ€è¦å¾—åˆ°æ›´åŠ å…¨é¢çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨ç¨‹åºä¿®æ”¹ä¹‹åï¼Œè¿›è¡Œå¸¸è§„è¿è¡Œã€‚è¿™äº›ç”¨ä¾‹å¯ä»¥æ ¹æ®è¾“å…¥æ•°æ®çš„èŒƒå›´åˆ’åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ã€‚</p>
<ol>
<li>é’ˆå¯¹é‡åˆ°çš„å¤§å¤šæ•°å¸¸è§„æ•°æ®å’Œç¨‹åºä¸»è¦åŠŸèƒ½è¿›è¡Œæµ‹è¯•çš„ç”¨ä¾‹ã€‚å®ƒä»¬æ˜¯æµ‹è¯•ç”¨ä¾‹çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ã€‚</li>
<li>æ•°é‡ç›¸å¯¹è¾ƒå°‘çš„åˆæ³•æ•°æ®æµ‹è¯•ç”¨ä¾‹ï¼Œå¯¹è¾“å…¥æ•°æ®èŒƒå›´è¾¹ç•Œè¿›è¡Œæ£€æŸ¥ï¼Œç¡®ä¿æœ€å¤§å¯èƒ½å€¼ã€æœ€å°å¯èƒ½å€¼å’Œå…¶ä»–æœ‰æ•ˆç‰¹æ®Šæ•°æ®å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</li>
<li>æ•°é‡ç›¸å¯¹è¾ƒå°‘çš„éæ³•æ•°æ®æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨è¾¹ç•Œå¤–æ£€æŸ¥æ•°æ®èŒƒå›´è¾¹ç•Œï¼Œç¡®ä¿æ— æ•ˆçš„è¾“å…¥èƒ½æœ‰æ­£ç¡®çš„æ•°æ®è¯Šæ–­æç¤ºã€‚</li>
</ol>
<p>ä¿®æ”¹ç¨‹åºã€‚è°ƒæ•´ç¨‹åºæˆ–è€…ä¿®å¤ç¨‹åºéœ€è¦æ›´å¤šçš„ä¿¡æ¯ã€‚æ˜¾ç„¶ï¼Œè¿™è¦æ±‚äº†è§£å…¨éƒ¨çš„ç»†èŠ‚ï¼Œå¹¶ä¸”è¿™äº›ç»†èŠ‚å·²ç»è®°å½•åœ¨æ³¨é‡Šè‰¯å¥½çš„åˆ—è¡¨ä¸­ã€‚å’Œä¸€èˆ¬ç”¨æˆ·ä¸€æ ·ï¼Œä¿®æ”¹è€…è¿«åˆ‡éœ€è¦ä¸€ä»½æ¸…æ™°æ˜äº†çš„æ¦‚è¿°ï¼Œä¸è¿‡è¿™ä¸€æ¬¡æ˜¯å…³äºç³»ç»Ÿçš„å†…éƒ¨ç»“æ„ã€‚é‚£ä¹ˆè¿™ä»½æ¦‚è¿°çš„ç»„æˆéƒ¨åˆ†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ol>
<li>æµç¨‹å›¾æˆ–å­ç³»ç»Ÿçš„ç»“æ„å›¾ï¼Œå¯¹æ­¤ä»¥ä¸‹æœ‰æ›´è¯¦ç»†çš„è®ºè¿°ã€‚</li>
<li>å¯¹æ‰€ç”¨ç®—æ³•çš„å®Œæ•´æè¿°ï¼Œæˆ–è€…æ˜¯å¯¹æ–‡æ¡£ä¸­ç±»ä¼¼æè¿°çš„å¼•ç”¨ã€‚</li>
<li>å¯¹æ‰€æœ‰æ–‡ä»¶è§„åˆ’çš„è§£é‡Šã€‚</li>
<li>æ•°æ®æµçš„æ¦‚è¦æè¿°â€”â€”ä»ç£ç›˜æˆ–è€…ç£å¸¦ä¸­ï¼Œè·å–æ•°æ®æˆ–ç¨‹åºå¤„ç†çš„åºåˆ—â€”â€”ä»¥åŠåœ¨æ¯ä¸ªå¤„ç†è¿‡ç¨‹å®Œæˆçš„æ“ä½œã€‚</li>
<li>åˆå§‹è®¾è®¡ä¸­ï¼Œå¯¹å·²é¢„è§ä¿®æ”¹çš„è®¨è®ºï¼›ç‰¹æ€§ã€åŠŸèƒ½å›è°ƒçš„ä½ç½®ä»¥åŠå‡ºå£ï¼›åŸä½œè€…å¯¹å¯èƒ½ä¼šæ‰©å……çš„åœ°æ–¹ä»¥åŠå¯èƒ½å¤„ç†æ–¹æ¡ˆçš„ä¸€äº›æ„è§ã€‚å¦å¤–ï¼Œå¯¹éšè—ç¼ºé™·çš„è§‚å¯Ÿä¹ŸåŒæ ·å¾ˆæœ‰ä»·å€¼ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>å¤šè¯»ä¹¦å¤šçœ‹æŠ¥</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
        <tag>è½¯ä»¶è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringMVCç¬”è®°</title>
    <url>/2022/04/15/SpringMVC/</url>
    <content><![CDATA[<h1 id="1-å›é¡¾MVC"><a href="#1-å›é¡¾MVC" class="headerlink" title="1 å›é¡¾MVC"></a>1 å›é¡¾MVC</h1><h2 id="1-1ã€ä»€ä¹ˆæ˜¯MVC"><a href="#1-1ã€ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1.1ã€ä»€ä¹ˆæ˜¯MVC"></a>1.1ã€ä»€ä¹ˆæ˜¯MVC</h2><ul>
<li>MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚</li>
<li>æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚</li>
<li>MVCä¸»è¦ä½œç”¨æ˜¯<strong><em>\</em>é™ä½äº†è§†å›¾ä¸ä¸šåŠ¡é€»è¾‘é—´çš„åŒå‘å¶åˆ**</strong>ã€‚</li>
<li>MVCä¸æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<strong><em>\</em>MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼**</strong>ã€‚å½“ç„¶ä¸åŒçš„MVCå­˜åœ¨å·®å¼‚ã€‚</li>
</ul>
<p><strong>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š</strong>æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ–JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®Daoï¼‰ å’Œ æœåŠ¡å±‚ï¼ˆè¡Œä¸ºServiceï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸šåŠ¡ã€‚</p>
<p><strong>Viewï¼ˆè§†å›¾ï¼‰ï¼š</strong>è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚</p>
<p><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong>æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚</p>
<p><strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚</strong></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy91SkRBVUtyR0M3S3dQT1BXcTAwcE1KaWFLODZsRjZCaklYVzdXbW05S1ZFVjFGWFVmSk1EMEt6dVlaN2ljNVVIZ2dzWkRBenlZeXJkNHBMdm5CSVZNNXpBLzY0MA?x-oss-process=image/format,png" alt="img"></p>
<h2 id="1-2ã€Model1æ—¶ä»£"><a href="#1-2ã€Model1æ—¶ä»£" class="headerlink" title="1.2ã€Model1æ—¶ä»£"></a>1.2ã€Model1æ—¶ä»£</h2><ul>
<li>åœ¨webæ—©æœŸçš„å¼€å‘ä¸­ï¼Œé€šå¸¸é‡‡ç”¨çš„éƒ½æ˜¯Model1ã€‚</li>
<li>Model1ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼Œè§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚</li>
</ul>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy91SkRBVUtyR0M3S3dQT1BXcTAwcE1KaWFLODZsRjZCaklXZThSUGNDVWVleG9qQmlhUHRZN0hpYlFvblMzUGRDeTk4b1YyNEYwdFlrOEl4RVVZNDNOOTNUQS82NDA?x-oss-process=image/format,png" alt="img"></p>
<p>Model1ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆå°å‹é¡¹ç›®å¼€å‘ï¼›</p>
<p>Model1ç¼ºç‚¹ï¼šJSPèŒè´£ä¸å•ä¸€ï¼ŒèŒè´£è¿‡é‡ï¼Œä¸ä¾¿äºç»´æŠ¤ï¼›</p>
<h2 id="1-3ã€Model2æ—¶ä»£"><a href="#1-3ã€Model2æ—¶ä»£" class="headerlink" title="1.3ã€Model2æ—¶ä»£"></a>1.3ã€Model2æ—¶ä»£</h2><p>Model2æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆä¸‰éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<strong><em>\</em>è§†å›¾ã€æ§åˆ¶ã€æ¨¡å‹ã€‚**</strong></p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy91SkRBVUtyR0M3S3dQT1BXcTAwcE1KaWFLODZsRjZCaklDS3N6cXkyd1plbWtLN1hpYkNRd0VuNzk1dW85Y1JTN0VRd2pUOFg3R3UyTnVhbklKZlVRWDZRLzY0MA?x-oss-process=image/format,png" alt="img"></p>
<ol>
<li>ç”¨æˆ·å‘è¯·æ±‚</li>
<li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li>
<li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet</li>
<li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢</li>
<li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢</li>
</ol>
<p><strong>èŒè´£åˆ†æï¼š</strong></p>
<p><strong>Controllerï¼šæ§åˆ¶å™¨</strong></p>
<ol>
<li>å–å¾—è¡¨å•æ•°æ®</li>
<li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li>
<li>è½¬å‘æŒ‡å®šçš„é¡µé¢</li>
</ol>
<p><strong>Modelï¼šæ¨¡å‹</strong></p>
<ol>
<li>ä¸šåŠ¡é€»è¾‘</li>
<li>ä¿å­˜æ•°æ®çš„çŠ¶æ€</li>
</ol>
<p><strong>Viewï¼šè§†å›¾</strong></p>
<ol>
<li>æ˜¾ç¤ºé¡µé¢</li>
</ol>
<p>Model2è¿™æ ·ä¸ä»…æé«˜çš„ä»£ç çš„å¤ç”¨ç‡ä¸é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œä¸”å¤§å¤§é™ä½äº†é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ã€‚Model 1æ¨¡å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œé€‚ç”¨äºå¿«é€Ÿå¼€å‘å°è§„æ¨¡é¡¹ç›®ï¼ŒModel1ä¸­JSPé¡µé¢èº«å…¼Viewå’ŒControllerä¸¤ç§è§’è‰²ï¼Œå°†æ§åˆ¶é€»è¾‘å’Œè¡¨ç°é€»è¾‘æ··æ‚åœ¨ä¸€èµ·ï¼Œä»è€Œå¯¼è‡´ä»£ç çš„é‡ç”¨æ€§éå¸¸ä½ï¼Œå¢åŠ äº†åº”ç”¨çš„æ‰©å±•æ€§å’Œç»´æŠ¤çš„éš¾åº¦ã€‚Model2æ¶ˆé™¤äº†Model1çš„ç¼ºç‚¹ã€‚</p>
<h1 id="2-å›é¡¾Servlet"><a href="#2-å›é¡¾Servlet" class="headerlink" title="2 å›é¡¾Servlet"></a>2 å›é¡¾Servlet</h1><ol>
<li><p>æ–°å»ºé¡¹ç›®ï¼Œå¯¼å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç®€å†Moudule æ·»åŠ Web-appæ”¯æŒ</p>
</li>
<li><p>å¯¼å…¥servletå’Œjspä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†å®¢æˆ·è¯·æ±‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–å‰ç«¯å‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;method&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (method.equals(<span class="string">&quot;add&quot;</span>))&#123;</span><br><span class="line">            req.getSession().setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;æ‰§è¡Œäº†addæ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (method.equals(<span class="string">&quot;delete&quot;</span>))&#123;</span><br><span class="line">            req.getSession().setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;æ‰§è¡Œäº†deleteæ–¹æ³•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è°ƒç”¨ä¸šåŠ¡å±‚</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è§†å›¾è½¬å‘æˆ–é‡å®šå‘</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/WEB-INF/jsp/test.jsp&quot;</span>).forward(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºtest.jsp</p>
</li>
</ol>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">$&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>æ³¨å†ŒServlet</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.zz.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>MVCæ¡†æ¶è¦åšå“ªäº›äº‹æƒ…</strong></p>
<ol>
<li>å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• .</li>
<li>å°è£…ç”¨æˆ·æäº¤çš„æ•°æ® .</li>
<li>å¤„ç†è¯·æ±‚â€“è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€“å°è£…å“åº”æ•°æ® .</li>
<li>å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® .</li>
</ol>
<h1 id="3-SpringMVC"><a href="#3-SpringMVC" class="headerlink" title="3 SpringMVC"></a>3 SpringMVC</h1><h2 id="3-1-æ¦‚è¿°"><a href="#3-1-æ¦‚è¿°" class="headerlink" title="3.1 æ¦‚è¿°"></a>3.1 æ¦‚è¿°</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KwPOPWq00pMJiaK86lF6BjIRQkoR3WJaVZzicPAx3NumuY40RXSQOPzIbEicYsT0ySCPQ8cvQc2ic1Aw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<p>Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚</p>
<p>æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web">https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web</a></p>
<p><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringMVCå‘¢?</strong></p>
<p> Spring MVCçš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li>
<li>é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶</li>
<li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ</li>
<li>çº¦å®šä¼˜äºé…ç½®</li>
<li>åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰</li>
<li>ç®€æ´çµæ´»</li>
</ol>
<p>Springçš„webæ¡†æ¶å›´ç»•<strong>DispatcherServlet</strong> [ è°ƒåº¦Servlet ] è®¾è®¡ã€‚</p>
<p>DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´ï¼›</p>
<p>æ­£å› ä¸ºSpringMVCå¥½ , ç®€å• , ä¾¿æ· , æ˜“å­¦ , å¤©ç”Ÿå’ŒSpringæ— ç¼é›†æˆ(ä½¿ç”¨SpringIoCå’ŒAop) , ä½¿ç”¨çº¦å®šä¼˜äºé…ç½® . èƒ½å¤Ÿè¿›è¡Œç®€å•çš„junitæµ‹è¯• . æ”¯æŒRestfulé£æ ¼ .å¼‚å¸¸å¤„ç† , æœ¬åœ°åŒ– , å›½é™…åŒ– , æ•°æ®éªŒè¯ , ç±»å‹è½¬æ¢ , æ‹¦æˆªå™¨ ç­‰ç­‰â€¦â€¦æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¹  .</p>
<p><strong>æœ€é‡è¦çš„ä¸€ç‚¹è¿˜æ˜¯ç”¨çš„äººå¤š , ä½¿ç”¨çš„å…¬å¸å¤š .</strong> </p>
<h2 id="3-2-ä¸­å¿ƒæ§åˆ¶å™¨"><a href="#3-2-ä¸­å¿ƒæ§åˆ¶å™¨" class="headerlink" title="3.2 ä¸­å¿ƒæ§åˆ¶å™¨"></a>3.2 ä¸­å¿ƒæ§åˆ¶å™¨</h2><p>â€‹    Springçš„webæ¡†æ¶å›´ç»•DispatcherServletè®¾è®¡ã€‚DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚</p>
<p>â€‹    Spring MVCæ¡†æ¶åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, <strong>ä»¥è¯·æ±‚ä¸ºé©±åŠ¨</strong> , <strong>å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½</strong>ï¼Œ<strong>DispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)</strong>ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KwPOPWq00pMJiaK86lF6BjI7ENu0jNibPiaiaiaBhyx6o9UUyU82Mddg4DjwzniaczmTLRbAtI9pKJq1tQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<p>SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>â€‹    å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KwPOPWq00pMJiaK86lF6BjIaosVziclWLEJQkzobxHrpHcmtu2yTeVWPmEI4Yq5PaicS52VaJt8dYfQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<h2 id="3-3-SpringMVCæ‰§è¡ŒåŸç†"><a href="#3-3-SpringMVCæ‰§è¡ŒåŸç†" class="headerlink" title="3.3 SpringMVCæ‰§è¡ŒåŸç†"></a>3.3 SpringMVCæ‰§è¡ŒåŸç†</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KwPOPWq00pMJiaK86lF6BjIbmPOkY8TxF6qvGAGXxC7dArYcr8uJlWoVC4aF4bfxgCGCD8sHg8mgw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚</p>
<p><strong>ç®€è¦åˆ†ææ‰§è¡Œæµç¨‹</strong></p>
<ol>
<li><p>DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚</p>
<ul>
<li><p>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : <a href="http://localhost:8080/SpringMVC/hello">http://localhost:8080/SpringMVC/hello</a></p>
</li>
<li><p><strong>å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š</strong></p>
</li>
<li><p><a href="http://localhost:8080æœåŠ¡å™¨åŸŸå">http://localhost:8080æœåŠ¡å™¨åŸŸå</a></p>
</li>
<li><p>SpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹</p>
</li>
<li><p>helloè¡¨ç¤ºæ§åˆ¶å™¨</p>
</li>
<li><p>é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚</p>
</li>
</ul>
</li>
<li><p>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚</p>
</li>
<li><p>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚</p>
</li>
<li><p>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚</p>
</li>
<li><p>HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚</p>
</li>
<li><p>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚</p>
</li>
<li><p>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚</p>
</li>
<li><p>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚</p>
</li>
<li><p>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚</p>
</li>
<li><p>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚</p>
</li>
<li><p>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚</p>
</li>
<li><p>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚</p>
</li>
</ol>
<h1 id="4-ç¬¬ä¸€ä¸ªMVCç¨‹åº"><a href="#4-ç¬¬ä¸€ä¸ªMVCç¨‹åº" class="headerlink" title="4 ç¬¬ä¸€ä¸ªMVCç¨‹åº"></a>4 ç¬¬ä¸€ä¸ªMVCç¨‹åº</h1><p>1ã€æ–°å»ºä¸€ä¸ªMoudle ï¼Œ springmvc-02-hello ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p>
<p>2ã€ç¡®å®šå¯¼å…¥äº†SpringMVC çš„ä¾èµ–</p>
<p>3ã€é…ç½®web.xml  ï¼Œ æ³¨å†ŒDispatcherServlet</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--1.æ³¨å†ŒDispatcherServlet--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4ã€ç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml  : [servletname]-servlet.xml</p>
<p>è¯´æ˜ï¼Œè¿™é‡Œçš„åç§°è¦æ±‚æ˜¯æŒ‰ç…§å®˜æ–¹æ¥çš„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>5ã€æ·»åŠ  å¤„ç†æ˜ å°„å™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>6ã€æ·»åŠ  å¤„ç†å™¨é€‚é…å™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>7ã€æ·»åŠ  è§†å›¾è§£æå™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="attr">id</span>=<span class="string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--å‰ç¼€--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--åç¼€--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>8ã€ç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.kuang.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> <span class="keyword">implements</span> <span class="title class_">Controller</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> ModelAndView <span class="title function_">handleRequest</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">//ModelAndView æ¨¡å‹å’Œè§†å›¾</span></span><br><span class="line">       <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model</span></span><br><span class="line">       mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;HelloSpringMVC!&quot;</span>);</span><br><span class="line">       <span class="comment">//å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­</span></span><br><span class="line">       mv.setViewName(<span class="string">&quot;hello&quot;</span>); <span class="comment">//: /WEB-INF/jsp/hello.jsp</span></span><br><span class="line">       <span class="keyword">return</span> mv;</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>9ã€å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Handler--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;/hello&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.controller.HelloController&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>10ã€å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">   &lt;title&gt;Kuangshen&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">$&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>11ã€é…ç½®Tomcat å¯åŠ¨æµ‹è¯•ï¼</p>
<p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</strong></p>
<ol>
<li>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚</li>
<li>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼</li>
<li>é‡å¯Tomcat å³å¯è§£å†³ï¼</li>
</ol>
<h1 id="5-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#5-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="5 ä½¿ç”¨æ³¨è§£å¼€å‘"></a>5 ä½¿ç”¨æ³¨è§£å¼€å‘</h1><p>1ã€æ–°å»ºä¸€ä¸ªMoudle ï¼Œ springmvc-03-anno ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p>
<p>2ã€ç¡®å®šå¯¼å…¥äº†SpringMVC çš„ä¾èµ–</p>
<p>3ã€é…ç½®web.xml  ï¼Œ æ³¨å†ŒDispatcherServlet</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--1.æ³¨å†ŒDispatcherServlet--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4ã€ç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml  : [servletname]-servlet.xml</p>
<p>è¯´æ˜ï¼Œè¿™é‡Œçš„åç§°è¦æ±‚æ˜¯æŒ‰ç…§å®˜æ–¹æ¥çš„</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>5ã€è‡ªåŠ¨æ‰«æåŒ…</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.zz.controller&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>6ã€è®©SpringMVCä¸åœ¨å¤„ç†é™æ€èµ„æº </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>7ã€æ”¯æŒmvcæ³¨è§£é©±åŠ¨ </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>8ã€æ·»åŠ  è§†å›¾è§£æå™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="attr">id</span>=<span class="string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--å‰ç¼€--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--åç¼€--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>8ã€ç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œ@RequestMapping(â€œ/helloâ€)æ˜ å°„è®¿é—®çš„åœ°å€</p>
<p>return â€œhelloâ€ è¿”å›ç»™è§†å›¾è§£æå™¨æ‹¼æ¥çš„jspé¡µé¢åç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">        <span class="comment">//å°è£…æ•°æ®</span></span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;HelloMVC&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>; <span class="comment">//è¿”å›ç»™è§†å›¾è§£æå™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>9ã€å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Handler--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;/hello&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.controller.HelloController&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>10ã€å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">   &lt;title&gt;Kuangshen&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">$&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>11ã€é…ç½®Tomcat å¯åŠ¨æµ‹è¯•ï¼</p>
<p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</strong></p>
<ol>
<li>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚</li>
<li>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼</li>
<li>é‡å¯Tomcat å³å¯è§£å†³ï¼</li>
</ol>
<h1 id="6-æ§åˆ¶å™¨Controller"><a href="#6-æ§åˆ¶å™¨Controller" class="headerlink" title="6 æ§åˆ¶å™¨Controller"></a>6 æ§åˆ¶å™¨Controller</h1><ul>
<li><p>æ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°ã€‚</p>
</li>
<li><p>æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚</p>
</li>
<li><p>åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•</p>
</li>
<li><p>åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§</p>
</li>
</ul>
<h2 id="å®ç°Controlleræ¥å£"><a href="#å®ç°Controlleræ¥å£" class="headerlink" title="å®ç°Controlleræ¥å£"></a>å®ç°Controlleræ¥å£</h2><p>Controlleræ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨org.springframework.web.servlet.mvcåŒ…ä¸‹ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//å®ç°è¯¥æ¥å£çš„ç±»è·å¾—æ§åˆ¶å™¨åŠŸèƒ½</span><br><span class="line">public interface Controller &#123;</span><br><span class="line">   //å¤„ç†è¯·æ±‚ä¸”è¿”å›ä¸€ä¸ªæ¨¡å‹ä¸è§†å›¾å¯¹è±¡</span><br><span class="line">   ModelAndView handleRequest(HttpServletRequest var1, HttpServletResponse var2) throws Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong></p>
<ol>
<li><p>æ–°å»ºä¸€ä¸ªMoudleï¼Œspringmvc-04-controller ã€‚å°†åˆšæ‰çš„03 æ‹·è´ä¸€ä»½, æˆ‘ä»¬è¿›è¡Œæ“ä½œï¼</p>
</li>
<li><ul>
<li>åˆ æ‰HelloController</li>
<li>mvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æå™¨ï¼</li>
</ul>
</li>
<li><p>ç¼–å†™ä¸€ä¸ªControllerç±»ï¼ŒControllerTest1</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//å®šä¹‰æ§åˆ¶å™¨</span><br><span class="line">//æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼›</span><br><span class="line">public class ControllerTest1 implements Controller &#123;</span><br><span class="line"></span><br><span class="line">   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123;</span><br><span class="line">       //è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br><span class="line">       ModelAndView mv = new ModelAndView();</span><br><span class="line">       mv.addObject(&quot;msg&quot;,&quot;Test1Controller&quot;);</span><br><span class="line">       mv.setViewName(&quot;test&quot;);</span><br><span class="line">       return mv;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;bean name=&quot;/test&quot; class=&quot;com.zz.controller.ControllerTest1&quot;/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™å‰ç«¯test.jspï¼Œæ³¨æ„åœ¨WEB-INF/jspç›®å½•ä¸‹ç¼–å†™ï¼Œå¯¹åº”æˆ‘ä»¬çš„è§†å›¾è§£æå™¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">   &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">$&#123;msg&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®Tomcatè¿è¡Œæµ‹è¯•ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰é¡¹ç›®å‘å¸ƒåé…ç½®çš„å°±æ˜¯ä¸€ä¸ª / ï¼Œæ‰€ä»¥è¯·æ±‚ä¸ç”¨åŠ é¡¹ç›®å</p>
</li>
</ol>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•</li>
<li>ç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›</li>
</ul>
<h2 id="ä½¿ç”¨æ³¨è§£-Controller"><a href="#ä½¿ç”¨æ³¨è§£-Controller" class="headerlink" title="ä½¿ç”¨æ³¨è§£@Controller"></a>ä½¿ç”¨æ³¨è§£@Controller</h2><ul>
<li><p>@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›</p>
</li>
<li><p>Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.zz.controller&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ControllerTest2</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//æ˜ å°„è®¿é—®è·¯å¾„</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/t2&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">       <span class="comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span></span><br><span class="line">       model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;ControllerTest2&quot;</span>);</span><br><span class="line">       <span class="comment">//è¿”å›è§†å›¾ä½ç½®</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>è¿è¡Œtomcatæµ‹è¯•</li>
</ul>
<p><strong>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚</strong></p>
<p><strong>æ³¨è§£æ–¹å¼æ˜¯å¹³æ—¶ä½¿ç”¨çš„æœ€å¤šçš„æ–¹å¼ï¼</strong></p>
<h1 id="7-RequestMapping"><a href="#7-RequestMapping" class="headerlink" title="7 RequestMapping"></a>7 RequestMapping</h1><p><strong>@RequestMapping</strong></p>
<ul>
<li><p>@RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚</p>
</li>
<li><p>ä¸ºäº†æµ‹è¯•ç»“è®ºæ›´åŠ å‡†ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šä¸€ä¸ªé¡¹ç›®åæµ‹è¯• myweb</p>
</li>
<li><p>åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class TestController &#123;</span><br><span class="line">   @RequestMapping(&quot;/h1&quot;)</span><br><span class="line">   public String test()&#123;</span><br><span class="line">       return &quot;test&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®¿é—®è·¯å¾„ï¼š<a href="http://localhost:8080">http://localhost:8080</a> / é¡¹ç›®å / h1</p>
</li>
<li><p>åŒæ—¶æ³¨è§£ç±»ä¸æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/admin&quot;)</span><br><span class="line">public class TestController &#123;</span><br><span class="line">   @RequestMapping(&quot;/h1&quot;)</span><br><span class="line">   public String test()&#123;</span><br><span class="line">       return &quot;test&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®¿é—®è·¯å¾„ï¼š<a href="http://localhost:8080">http://localhost:8080</a> / é¡¹ç›®å/ admin /h1  , éœ€è¦å…ˆæŒ‡å®šç±»çš„è·¯å¾„å†æŒ‡å®šæ–¹æ³•çš„è·¯å¾„ï¼›</p>
</li>
</ul>
<h1 id="8-RestFul-é£æ ¼"><a href="#8-RestFul-é£æ ¼" class="headerlink" title="8 RestFul é£æ ¼"></a>8 RestFul é£æ ¼</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a><strong>æ¦‚å¿µ</strong></h2><p>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚</p>
<h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a><strong>åŠŸèƒ½</strong></h2><p>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº</p>
<p>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚</p>
<p>åˆ†åˆ«å¯¹åº” æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚</p>
<p><strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº</strong>  ï¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼æ–¹æ³•å•ä¸€ï¼Œpost å’Œ get</p>
<p>â€‹    <a href="http://127.0.0.1/item/queryItem.action?id=1">http://127.0.0.1/item/queryItem.action?id=1</a> æŸ¥è¯¢,GET</p>
<p>â€‹    <a href="http://127.0.0.1/item/saveItem.action">http://127.0.0.1/item/saveItem.action</a> æ–°å¢,POST</p>
<p>â€‹    <a href="http://127.0.0.1/item/updateItem.action">http://127.0.0.1/item/updateItem.action</a> æ›´æ–°,POST</p>
<p>â€‹    <a href="http://127.0.0.1/item/deleteItem.action?id=1">http://127.0.0.1/item/deleteItem.action?id=1</a> åˆ é™¤,GETæˆ–POST</p>
<p><strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº</strong> ï¼šå¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼å¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒï¼</p>
<p>â€‹    <a href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> æŸ¥è¯¢,GET</p>
<p>â€‹    <a href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ–°å¢,POST</p>
<p>â€‹    <a href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ›´æ–°,PUT</p>
<p>â€‹    <a href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> åˆ é™¤,DELETE</p>
<p><strong>å­¦ä¹ æµ‹è¯•</strong></p>
<ol>
<li><p>åœ¨æ–°å»ºä¸€ä¸ªç±» RestFulController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RestFulController</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸæ¥çš„é£æ ¼</p>
<p><a href="http://localhost:8080/add?a=1&amp;b=2">http://localhost:8080/add?a=1&amp;b=2</a></p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class RestFulController &#123;</span><br><span class="line">    @RequestMapping(&quot;/add&quot;)</span><br><span class="line">    public String test1(int a, int b, Model model)&#123;</span><br><span class="line">        model.addAttribute(&quot;msg&quot;,a+b);</span><br><span class="line">        return &quot;test&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>RestFul <a href="http://localhost:8080/add?a/b">http://localhost:8080/add?a/b</a></p>
<p>åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨  @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Šã€‚</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RestFulController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/add/&#123;a&#125;/&#123;b&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">test1</span><span class="params">(<span class="meta">@PathVariable</span> <span class="type">int</span> a, <span class="meta">@PathVariable</span> <span class="type">int</span> b, Model model)</span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,a+b);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</strong></p>
<p>ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰</p>
<p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<ul>
<li><p>å¢åŠ ä¸€ä¸ªæ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚</span><br><span class="line">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.POST&#125;)</span><br><span class="line">public String index2(Model model)&#123;</span><br><span class="line">   model.addAttribute(&quot;msg&quot;, &quot;hello!&quot;);</span><br><span class="line">   return &quot;test&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405ï¼š</p>
</li>
</ul>
<ul>
<li><p>å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚</span><br><span class="line">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.GET&#125;)</span><br><span class="line">public String index2(Model model)&#123;</span><br><span class="line">   model.addAttribute(&quot;msg&quot;, &quot;hello!&quot;);</span><br><span class="line">   return &quot;test&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>å°ç»“ï¼š</strong></p>
<p>Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚</p>
<p><strong>æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„ã€‚</strong></p>
<p>æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šç»„åˆæ³¨è§£</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@GetMapping</span><br><span class="line">@PostMapping</span><br><span class="line">@PutMapping</span><br><span class="line">@DeleteMapping</span><br><span class="line">@PatchMapping</span><br></pre></td></tr></table></figure>
<p>@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤šï¼</p>
<p>å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚</p>
<h1 id="9-ç»“æœè·³è½¬æ–¹å¼"><a href="#9-ç»“æœè·³è½¬æ–¹å¼" class="headerlink" title="9 ç»“æœè·³è½¬æ–¹å¼"></a>9 ç»“æœè·³è½¬æ–¹å¼</h1><p>è®¾ç½®ModelAndViewå¯¹è±¡ , æ ¹æ®viewçš„åç§° , å’Œè§†å›¾è§£æå™¨è·³åˆ°æŒ‡å®šçš„é¡µé¢ .</p>
<p>é¡µé¢ : {è§†å›¾è§£æå™¨å‰ç¼€} + viewName +{è§†å›¾è§£æå™¨åç¼€}</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„controllerç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ControllerTest1</span> <span class="keyword">implements</span> <span class="title class_">Controller</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> ModelAndView <span class="title function_">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span></span><br><span class="line">       <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">       mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;ControllerTest1&quot;</span>);</span><br><span class="line">       mv.setViewName(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> mv;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„controllerç±»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class ControllerTest1 implements Controller &#123;</span><br><span class="line"></span><br><span class="line">   public ModelAndView handleRequest(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception &#123;</span><br><span class="line">       //è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br><span class="line">       ModelAndView mv = new ModelAndView();</span><br><span class="line">       mv.addObject(&quot;msg&quot;,&quot;ControllerTest1&quot;);</span><br><span class="line">       mv.setViewName(&quot;test&quot;);</span><br><span class="line">       return mv;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ServletAPI"><a href="#ServletAPI" class="headerlink" title="ServletAPI"></a>ServletAPI</h2><p>é€šè¿‡è®¾ç½®ServletAPI , ä¸éœ€è¦è§†å›¾è§£æå™¨ .</p>
<p>1ã€é€šè¿‡HttpServletResponseè¿›è¡Œè¾“å‡º</p>
<p>2ã€é€šè¿‡HttpServletResponseå®ç°é‡å®šå‘</p>
<p>3ã€é€šè¿‡HttpServletResponseå®ç°è½¬å‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResultGo</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/result/t1&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">       rsp.getWriter().println(<span class="string">&quot;Hello,Spring BY servlet API&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/result/t2&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">       rsp.sendRedirect(<span class="string">&quot;/index.jsp&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/result/t3&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">//è½¬å‘</span></span><br><span class="line">       req.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;/result/t3&quot;</span>);</span><br><span class="line">       req.getRequestDispatcher(<span class="string">&quot;/WEB-INF/jsp/test.jsp&quot;</span>).forward(req,rsp);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h2><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æ— éœ€è§†å›¾è§£æå™¨ï¼›</strong></p>
<p>æµ‹è¯•å‰ï¼Œéœ€è¦å°†è§†å›¾è§£æå™¨æ³¨é‡Šæ‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResultSpringMVC</span> &#123;</span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/rsm/t1&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">//è½¬å‘</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;/index.jsp&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/rsm/t2&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">//è½¬å‘äºŒ</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;forward:/index.jsp&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/rsm/t3&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">//é‡å®šå‘</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æœ‰è§†å›¾è§£æå™¨ï¼›</strong></p>
<p>é‡å®šå‘ , ä¸éœ€è¦è§†å›¾è§£æå™¨ , æœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°åœ°æ–¹å˜› , æ‰€ä»¥æ³¨æ„è·¯å¾„é—®é¢˜.</p>
<p>å¯ä»¥é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªè¯·æ±‚å®ç° .</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResultSpringMVC2</span> &#123;</span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/rsm2/t1&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">//è½¬å‘</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/rsm2/t2&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">//é‡å®šå‘</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">       <span class="comment">//return &quot;redirect:hello.do&quot;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="10-æ•°æ®å¤„ç†"><a href="#10-æ•°æ®å¤„ç†" class="headerlink" title="10 æ•°æ®å¤„ç†"></a>10 æ•°æ®å¤„ç†</h1><h2 id="å¤„ç†æäº¤æ•°æ®"><a href="#å¤„ç†æäº¤æ•°æ®" class="headerlink" title="å¤„ç†æäº¤æ•°æ®"></a>å¤„ç†æäº¤æ•°æ®</h2><h3 id="1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´"><a href="#1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´" class="headerlink" title="1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´"></a><strong>1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´</strong></h3><p>æäº¤æ•°æ® : <a href="http://localhost:8080/hello?name=kuangshen">http://localhost:8080/hello?name=kuangshen</a></p>
<p>å¤„ç†æ–¹æ³• :</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@RequestMapping(&quot;/hello&quot;)</span><br><span class="line">public String hello(String name)&#123;</span><br><span class="line">   System.out.println(name);</span><br><span class="line">   return &quot;hello&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åå°è¾“å‡º : kuangshen</p>
<h3 id="2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´"><a href="#2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´" class="headerlink" title="2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´"></a><strong>2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´</strong></h3><p>æäº¤æ•°æ® : <a href="http://localhost:8080/hello?username=kuangshen">http://localhost:8080/hello?username=kuangshen</a></p>
<p>å¤„ç†æ–¹æ³• :</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//@RequestParam(&quot;username&quot;) : usernameæäº¤çš„åŸŸçš„åç§° .</span><br><span class="line">@RequestMapping(&quot;/hello&quot;)</span><br><span class="line">public String hello(@RequestParam(&quot;username&quot;) String name)&#123;</span><br><span class="line">   System.out.println(name);</span><br><span class="line">   return &quot;hello&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åå°è¾“å‡º : kuangshen</p>
<p><strong>3ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</strong></p>
<p>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´  , å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯</p>
<p>1ã€å®ä½“ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class User &#123;</span><br><span class="line">   private int id;</span><br><span class="line">   private String name;</span><br><span class="line">   private int age;</span><br><span class="line">   //æ„é€ </span><br><span class="line">   //get/set</span><br><span class="line">   //tostring()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2ã€æäº¤æ•°æ® : <a href="http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15">http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15</a></p>
<p>3ã€å¤„ç†æ–¹æ³• :</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@RequestMapping(&quot;/user&quot;)</span><br><span class="line">public String user(User user)&#123;</span><br><span class="line">   System.out.println(user);</span><br><span class="line">   return &quot;hello&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åå°è¾“å‡º : User { id=1, name=â€™kuangshenâ€™, age=15 }</p>
<p>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œå‰ç«¯ä¼ é€’çš„å‚æ•°åå’Œå¯¹è±¡åå¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™å°±æ˜¯nullã€‚</p>
<h3 id="æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"><a href="#æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯" class="headerlink" title="æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"></a>æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</h3><p><strong>ç¬¬ä¸€ç§ : é€šè¿‡ModelAndView</strong></p>
<p>æˆ‘ä»¬å‰é¢ä¸€ç›´éƒ½æ˜¯å¦‚æ­¤ . å°±ä¸è¿‡å¤šè§£é‡Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ControllerTest1</span> <span class="keyword">implements</span> <span class="title class_">Controller</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> ModelAndView <span class="title function_">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span></span><br><span class="line">       <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">       mv.addObject(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;ControllerTest1&quot;</span>);</span><br><span class="line">       mv.setViewName(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> mv;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬äºŒç§ : é€šè¿‡ModelMap</strong></p>
<p>ModelMap</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String name, ModelMap model)</span>&#123;</span><br><span class="line">   <span class="comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span></span><br><span class="line">   <span class="comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span></span><br><span class="line">   model.addAttribute(<span class="string">&quot;name&quot;</span>,name);</span><br><span class="line">   System.out.println(name);</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬ä¸‰ç§ : é€šè¿‡Model</strong></p>
<p>Model</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/ct2/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String name, Model model)</span>&#123;</span><br><span class="line">   <span class="comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span></span><br><span class="line">   <span class="comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span></span><br><span class="line">   model.addAttribute(<span class="string">&quot;msg&quot;</span>,name);</span><br><span class="line">   System.out.println(name);</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h3><p>å°±å¯¹äºæ–°æ‰‹è€Œè¨€ç®€å•æ¥è¯´ä½¿ç”¨åŒºåˆ«å°±æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Model åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºModelå¯¹è±¡çš„æ“ä½œå’Œç†è§£ï¼›</span><br><span class="line"></span><br><span class="line">ModelMap ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§ï¼›</span><br><span class="line"></span><br><span class="line">ModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬ã€‚</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶æ›´å¤šçš„ä»¥åå¼€å‘è€ƒè™‘çš„æ›´å¤šçš„æ˜¯æ€§èƒ½å’Œä¼˜åŒ–ï¼Œå°±ä¸èƒ½å•å•ä»…é™äºæ­¤çš„äº†è§£ã€‚</p>
<p><strong>è¯·ä½¿ç”¨80%çš„æ—¶é—´æ‰“å¥½æ‰å®çš„åŸºç¡€ï¼Œå‰©ä¸‹18%çš„æ—¶é—´ç ”ç©¶æ¡†æ¶ï¼Œ2%çš„æ—¶é—´å»å­¦ç‚¹è‹±æ–‡ï¼Œæ¡†æ¶çš„å®˜æ–¹æ–‡æ¡£æ°¸è¿œæ˜¯æœ€å¥½çš„æ•™ç¨‹ã€‚</strong></p>
<h1 id="11-ä¹±ç é—®é¢˜"><a href="#11-ä¹±ç é—®é¢˜" class="headerlink" title="11 ä¹±ç é—®é¢˜"></a>11 ä¹±ç é—®é¢˜</h1><p>æµ‹è¯•æ­¥éª¤ï¼š</p>
<p>1ã€æˆ‘ä»¬å¯ä»¥åœ¨é¦–é¡µç¼–å†™ä¸€ä¸ªæäº¤çš„è¡¨å•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;form action=&quot;/e/t&quot; method=&quot;post&quot;&gt;</span><br><span class="line"> &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span><br><span class="line"> &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<p>2ã€åå°ç¼–å†™å¯¹åº”çš„å¤„ç†ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class Encoding &#123;</span><br><span class="line">   @RequestMapping(&quot;/e/t&quot;)</span><br><span class="line">   public String test(Model model,String name)&#123;</span><br><span class="line">       model.addAttribute(&quot;msg&quot;,name); //è·å–è¡¨å•æäº¤çš„å€¼</span><br><span class="line">       return &quot;test&quot;; //è·³è½¬åˆ°testé¡µé¢æ˜¾ç¤ºè¾“å…¥çš„å€¼</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3ã€è¾“å…¥ä¸­æ–‡æµ‹è¯•ï¼Œå‘ç°ä¹±ç </p>
<p>è§£å†³æ–¹æ³•ä¸€ï¼šå¯¹getæœ‰æ•ˆï¼Œå¯¹postæ— æ•ˆ</p>
<p>è¿‡æ»¤å™¨Filter</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        servletResponse.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é…ç½®web.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.zz.filter.EncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•äºŒï¼šSpringMVCé…ç½®è¿‡æ»¤å™¨ æç«¯æƒ…å†µä¸‹å¯¹getæ”¯æŒä¸å¥½</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¸‰ï¼šæ£€æŸ¥tomcaté…ç½®</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8080&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> </span></span><br><span class="line"><span class="tag">             <span class="attr">URIEncoding</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•å››ï¼šè‡ªå®šä¹‰è¿‡æ»¤å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* è§£å†³getå’Œpostè¯·æ±‚ å…¨éƒ¨ä¹±ç çš„è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericEncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">       <span class="comment">//å¤„ç†responseçš„å­—ç¬¦ç¼–ç </span></span><br><span class="line">       HttpServletResponse myResponse=(HttpServletResponse) response;</span><br><span class="line">       myResponse.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// è½¬å‹ä¸ºä¸åè®®ç›¸å…³å¯¹è±¡</span></span><br><span class="line">       <span class="type">HttpServletRequest</span> <span class="variable">httpServletRequest</span> <span class="operator">=</span> (HttpServletRequest) request;</span><br><span class="line">       <span class="comment">// å¯¹requeståŒ…è£…å¢å¼º</span></span><br><span class="line">       <span class="type">HttpServletRequest</span> <span class="variable">myrequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRequest</span>(httpServletRequest);</span><br><span class="line">       chain.doFilter(myrequest, response);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyRequest</span> <span class="keyword">extends</span> <span class="title class_">HttpServletRequestWrapper</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line">   <span class="comment">//æ˜¯å¦ç¼–ç çš„æ ‡è®°</span></span><br><span class="line">   <span class="keyword">private</span> <span class="type">boolean</span> hasEncode;</span><br><span class="line">   <span class="comment">//å®šä¹‰ä¸€ä¸ªå¯ä»¥ä¼ å…¥HttpServletRequestå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œè£…é¥°</span></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">MyRequest</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">       <span class="built_in">super</span>(request);<span class="comment">// superå¿…é¡»å†™</span></span><br><span class="line">       <span class="built_in">this</span>.request = request;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// å¯¹éœ€è¦å¢å¼ºæ–¹æ³• è¿›è¡Œè¦†ç›–</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> Map <span class="title function_">getParameterMap</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="comment">// å…ˆè·å¾—è¯·æ±‚æ–¹å¼</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line">       <span class="keyword">if</span> (method.equalsIgnoreCase(<span class="string">&quot;post&quot;</span>)) &#123;</span><br><span class="line">           <span class="comment">// postè¯·æ±‚</span></span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               <span class="comment">// å¤„ç†postä¹±ç </span></span><br><span class="line">               request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">               <span class="keyword">return</span> request.getParameterMap();</span><br><span class="line">          &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equalsIgnoreCase(<span class="string">&quot;get&quot;</span>)) &#123;</span><br><span class="line">           <span class="comment">// getè¯·æ±‚</span></span><br><span class="line">           Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();</span><br><span class="line">           <span class="keyword">if</span> (!hasEncode) &#123; <span class="comment">// ç¡®ä¿getæ‰‹åŠ¨ç¼–ç é€»è¾‘åªè¿è¡Œä¸€æ¬¡</span></span><br><span class="line">               <span class="keyword">for</span> (String parameterName : parameterMap.keySet()) &#123;</span><br><span class="line">                   String[] values = parameterMap.get(parameterName);</span><br><span class="line">                   <span class="keyword">if</span> (values != <span class="literal">null</span>) &#123;</span><br><span class="line">                       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">                           <span class="keyword">try</span> &#123;</span><br><span class="line">                               <span class="comment">// å¤„ç†getä¹±ç </span></span><br><span class="line">                               values[i] = <span class="keyword">new</span> <span class="title class_">String</span>(values[i]</span><br><span class="line">                                      .getBytes(<span class="string">&quot;ISO-8859-1&quot;</span>), <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                          &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">                               e.printStackTrace();</span><br><span class="line">                          &#125;</span><br><span class="line">                      &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">               hasEncode = <span class="literal">true</span>;</span><br><span class="line">          &#125;</span><br><span class="line">           <span class="keyword">return</span> parameterMap;</span><br><span class="line">      &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">super</span>.getParameterMap();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//å–ä¸€ä¸ªå€¼</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">getParameter</span><span class="params">(String name)</span> &#123;</span><br><span class="line">       Map&lt;String, String[]&gt; parameterMap = getParameterMap();</span><br><span class="line">       String[] values = parameterMap.get(name);</span><br><span class="line">       <span class="keyword">if</span> (values == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">       <span class="keyword">return</span> values[<span class="number">0</span>]; <span class="comment">// å–å›å‚æ•°çš„ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//å–æ‰€æœ‰å€¼</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> String[] getParameterValues(String name) &#123;</span><br><span class="line">       Map&lt;String, String[]&gt; parameterMap = getParameterMap();</span><br><span class="line">       String[] values = parameterMap.get(name);</span><br><span class="line">       <span class="keyword">return</span> values;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="12-JSON"><a href="#12-JSON" class="headerlink" title="12 JSON"></a>12 JSON</h1><h2 id="12-1-ä»€ä¹ˆæ˜¯JSONï¼Ÿ"><a href="#12-1-ä»€ä¹ˆæ˜¯JSONï¼Ÿ" class="headerlink" title="12.1 ä»€ä¹ˆæ˜¯JSONï¼Ÿ"></a>12.1 ä»€ä¹ˆæ˜¯JSONï¼Ÿ</h2><blockquote>
<p>ä»€ä¹ˆæ˜¯JSONï¼Ÿ</p>
</blockquote>
<ul>
<li>JSON(JavaScript Object Notation, JS å¯¹è±¡æ ‡è®°) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ã€‚</li>
<li>é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„<strong>æ–‡æœ¬æ ¼å¼</strong>æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚</li>
<li>ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚</li>
<li>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li>
</ul>
<p>åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»ä½•JavaScript æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡ JSON æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚çœ‹çœ‹ä»–çš„è¦æ±‚å’Œè¯­æ³•æ ¼å¼ï¼š</p>
<ul>
<li>å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”</li>
<li>èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡</li>
<li>æ–¹æ‹¬å·ä¿å­˜æ•°ç»„</li>
</ul>
<p><strong>JSON é”®å€¼å¯¹</strong>æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&quot;name&quot;: &quot;QinJiang&quot;&#125;</span><br><span class="line">&#123;&quot;age&quot;: &quot;3&quot;&#125;</span><br><span class="line">&#123;&quot;sex&quot;: &quot;ç”·&quot;&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ˆå¤šäººæä¸æ¸…æ¥š JSON å’Œ JavaScript å¯¹è±¡çš„å…³ç³»ï¼Œç”šè‡³è¿è°æ˜¯è°éƒ½ä¸æ¸…æ¥šã€‚å…¶å®ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼š</p>
<p>JSON æ˜¯ JavaScript å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;; //è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ³¨æ„é”®åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨å¼•å·åŒ…è£¹çš„</span><br><span class="line">var json = &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;; //è¿™æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure>
<p><strong>JSON å’Œ JavaScript å¯¹è±¡äº’è½¬</strong></p>
<p>è¦å®ç°ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡ï¼Œä½¿ç”¨ JSON.parse() æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = JSON.parse(&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;);</span><br><span class="line">//ç»“æœæ˜¯ &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span><br></pre></td></tr></table></figure>
<p>è¦å®ç°ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var json = JSON.stringify(&#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;);</span><br><span class="line">//ç»“æœæ˜¯ &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure>
<p><strong>ä»£ç æµ‹è¯•</strong></p>
<p>1ã€æ–°å»ºä¸€ä¸ªmodule ï¼Œspringmvc-05-json ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p>
<p>2ã€åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª json-1.html ï¼Œ ç¼–å†™æµ‹è¯•å†…å®¹</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//ç¼–å†™ä¸€ä¸ªJavaScriptå¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> user = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&quot;zz&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">age</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">sex</span>: <span class="string">&quot;ç”·&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//å°†jså¯¹è±¡è½¬æ¢ä¸ºjson</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> s = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//å°†jsonå¯¹è±¡è½¬æ¢ä¸ºJavaScriptå¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> user1 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(s);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(user1);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3ã€åœ¨IDEAä¸­ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼</p>
<h2 id="12-2-Jackson"><a href="#12-2-Jackson" class="headerlink" title="12.2 Jackson"></a>12.2 Jackson</h2><p>Jacksonåº”è¯¥æ˜¯ç›®å‰æ¯”è¾ƒå¥½çš„jsonè§£æå·¥å…·äº†</p>
<p>å½“ç„¶å·¥å…·ä¸æ­¢è¿™ä¸€ä¸ªï¼Œæ¯”å¦‚è¿˜æœ‰é˜¿é‡Œå·´å·´çš„ fastjson ç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨Jacksonï¼Œä½¿ç”¨å®ƒéœ€è¦å¯¼å…¥å®ƒçš„jaråŒ…ï¼›</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é…ç½®SpringMVCéœ€è¦çš„é…ç½®</p>
<p>web.xml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span><br><span class="line">        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span><br><span class="line">        version=&quot;4.0&quot;&gt;</span><br><span class="line"></span><br><span class="line">   &lt;!--1.æ³¨å†Œservlet--&gt;</span><br><span class="line">   &lt;servlet&gt;</span><br><span class="line">       &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;</span><br><span class="line">       &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</span><br><span class="line">       &lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span><br><span class="line">       &lt;init-param&gt;</span><br><span class="line">           &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span><br><span class="line">           &lt;param-value&gt;classpath:springmvc-servlet.xml&lt;/param-value&gt;</span><br><span class="line">       &lt;/init-param&gt;</span><br><span class="line">       &lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span><br><span class="line">       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</span><br><span class="line">   &lt;/servlet&gt;</span><br><span class="line"></span><br><span class="line">   &lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span><br><span class="line">   &lt;servlet-mapping&gt;</span><br><span class="line">       &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;</span><br><span class="line">       &lt;url-pattern&gt;/&lt;/url-pattern&gt;</span><br><span class="line">   &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">   &lt;filter&gt;</span><br><span class="line">       &lt;filter-name&gt;encoding&lt;/filter-name&gt;</span><br><span class="line">       &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;</span><br><span class="line">       &lt;init-param&gt;</span><br><span class="line">           &lt;param-name&gt;encoding&lt;/param-name&gt;</span><br><span class="line">           &lt;param-value&gt;utf-8&lt;/param-value&gt;</span><br><span class="line">       &lt;/init-param&gt;</span><br><span class="line">   &lt;/filter&gt;</span><br><span class="line">   &lt;filter-mapping&gt;</span><br><span class="line">       &lt;filter-name&gt;encoding&lt;/filter-name&gt;</span><br><span class="line">       &lt;url-pattern&gt;/&lt;/url-pattern&gt;</span><br><span class="line">   &lt;/filter-mapping&gt;</span><br><span class="line"></span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure>
<p>springmvc-servlet.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬éšä¾¿ç¼–å†™ä¸€ä¸ªUserçš„å®ä½“ç±»ï¼Œç„¶åæˆ‘ä»¬å»ç¼–å†™æˆ‘ä»¬çš„æµ‹è¯•Controllerï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éœ€è¦å¯¼å…¥lombok</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>UserController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.SerializationFeature;</span><br><span class="line"><span class="keyword">import</span> com.zz.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.zz.utils.JsonUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Controllerä¼šèµ°è§†å›¾è§£æå™¨  @ResponseBodyé…åˆ@Controllerä½¿ç”¨åˆ™ä¸ä¼šèµ°è§†å›¾è§£æå™¨ è¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">//@RestController ç›´æ¥è¿”å›å­—ç¬¦ä¸²ï¼Œä¸èµ°è§†å›¾è§£æå™¨</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/j1&quot;)</span></span><br><span class="line">    <span class="comment">//@ResponseBody //ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">json1</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//jackson  ObjectionMapper</span></span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> mapper.writeValueAsString(user);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/j2&quot;)</span></span><br><span class="line">    <span class="comment">//@ResponseBody //ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">json2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//jackson  ObjectionMapper</span></span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        List&lt;User&gt; userList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;User&gt;();</span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz1&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz1&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz2&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz3&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">        userList.add(user1);</span><br><span class="line">        userList.add(user2);</span><br><span class="line">        userList.add(user3);</span><br><span class="line">        userList.add(user4);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> mapper.writeValueAsString(userList);</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/j3&quot;)</span></span><br><span class="line">    <span class="comment">//@ResponseBody //ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">json3</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//jackson  ObjectionMapper</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>().writeValueAsString(date);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/j4&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">json4</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸ä½¿ç”¨æ—¶é—´æˆ³çš„æ–¹å¼</span></span><br><span class="line">        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span></span><br><span class="line">        mapper.setDateFormat(sdf);</span><br><span class="line"></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> mapper.writeValueAsString(date);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/j5&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">json5</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JsonUtils.getJson(date);</span><br><span class="line">        <span class="keyword">return</span> json;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>JsonUtils</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.SerializationFeature;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JsonUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getJson</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getJson(object,<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getJson</span><span class="params">(Object object,String dateFormat)</span> &#123;</span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        <span class="comment">//ä¸ä½¿ç”¨æ—¶é—´å·®çš„æ–¹å¼</span></span><br><span class="line">        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(dateFormat);</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span></span><br><span class="line">        mapper.setDateFormat(sdf);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mapper.writeValueAsString(object);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (JsonProcessingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-3-FastJson"><a href="#12-3-FastJson" class="headerlink" title="12.3 FastJson"></a>12.3 FastJson</h2><p>fastjson.jaræ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€æ¬¾ä¸“é—¨ç”¨äºJavaå¼€å‘çš„åŒ…ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ã€‚å®ç°jsonçš„è½¬æ¢æ–¹æ³•å¾ˆå¤šï¼Œæœ€åçš„å®ç°ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>fastjson çš„ pomä¾èµ–ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">   &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;fastjson&lt;/artifactId&gt;</span><br><span class="line">   &lt;version&gt;1.2.60&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>fastjson ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š</p>
<p><strong>JSONObject  ä»£è¡¨ json å¯¹è±¡</strong> </p>
<ul>
<li>JSONObjectå®ç°äº†Mapæ¥å£, çŒœæƒ³ JSONObjectåº•å±‚æ“ä½œæ˜¯ç”±Mapå®ç°çš„ã€‚</li>
<li>JSONObjectå¯¹åº”jsonå¯¹è±¡ï¼Œé€šè¿‡å„ç§å½¢å¼çš„get()æ–¹æ³•å¯ä»¥è·å–jsonå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ©ç”¨è¯¸å¦‚size()ï¼ŒisEmpty()ç­‰æ–¹æ³•è·å–â€é”®ï¼šå€¼â€å¯¹çš„ä¸ªæ•°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å®ç°Mapæ¥å£å¹¶è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å®Œæˆçš„ã€‚</li>
</ul>
<p><strong>JSONArray  ä»£è¡¨ json å¯¹è±¡æ•°ç»„</strong></p>
<ul>
<li>å†…éƒ¨æ˜¯æœ‰Listæ¥å£ä¸­çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ã€‚</li>
</ul>
<p><strong>JSONä»£è¡¨ JSONObjectå’ŒJSONArrayçš„è½¬åŒ–</strong></p>
<ul>
<li>JSONç±»æºç åˆ†æä¸ä½¿ç”¨</li>
<li>ä»”ç»†è§‚å¯Ÿè¿™äº›æ–¹æ³•ï¼Œä¸»è¦æ˜¯å®ç°jsonå¯¹è±¡ï¼Œjsonå¯¹è±¡æ•°ç»„ï¼Œjavabeanå¯¹è±¡ï¼Œjsonå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚</li>
</ul>
<p><strong>ä»£ç æµ‹è¯•ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªFastJsonDemo ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zz.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.kuang.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FastJsonDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">       <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz1&quot;</span>, <span class="number">3</span>, <span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">       <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;zz2, 3, &quot;</span>ç”·<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       User user3 = new User(&quot;</span>zz3<span class="string">&quot;, 3, &quot;</span>ç”·<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       User user4 = new User(&quot;</span>zz4<span class="string">&quot;, 3, &quot;</span>ç”·<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       List&lt;User&gt; list = new ArrayList&lt;User&gt;();</span></span><br><span class="line"><span class="string">       list.add(user1);</span></span><br><span class="line"><span class="string">       list.add(user2);</span></span><br><span class="line"><span class="string">       list.add(user3);</span></span><br><span class="line"><span class="string">       list.add(user4);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>*******Javaå¯¹è±¡ è½¬ JSONå­—ç¬¦ä¸²*******<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       String str1 = JSON.toJSONString(list);</span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>JSON.toJSONString(list)==&gt;<span class="string">&quot;+str1);</span></span><br><span class="line"><span class="string">       String str2 = JSON.toJSONString(user1);</span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>JSON.toJSONString(user1)==&gt;<span class="string">&quot;+str2);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>\n****** JSONå­—ç¬¦ä¸² è½¬ Javaå¯¹è±¡*******<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       User jp_user1=JSON.parseObject(str2,User.class);</span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>JSON.parseObject(str2,User.class)==&gt;<span class="string">&quot;+jp_user1);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>\n****** Javaå¯¹è±¡ è½¬ JSONå¯¹è±¡ ******<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       JSONObject jsonObject1 = (JSONObject) JSON.toJSON(user2);</span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>(JSONObject) JSON.toJSON(user2)==&gt;<span class="string">&quot;+jsonObject1.getString(&quot;</span>name<span class="string">&quot;));</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>\n****** JSONå¯¹è±¡ è½¬ Javaå¯¹è±¡ ******<span class="string">&quot;);</span></span><br><span class="line"><span class="string">       User to_java_user = JSON.toJavaObject(jsonObject1, User.class);</span></span><br><span class="line"><span class="string">       System.out.println(&quot;</span>JSON.toJavaObject(jsonObject1, User.class)==&gt;<span class="string">&quot;+to_java_user);</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§å·¥å…·ç±»ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ä½¿ç”¨å°±å¥½äº†ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æ ¹æ®å…·ä½“çš„ä¸šåŠ¡å»æ‰¾å¯¹åº”çš„å®ç°ã€‚å’Œä»¥å‰çš„commons-ioé‚£ç§å·¥å…·åŒ…ä¸€æ ·ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ï¼</p>
<h1 id="13-Ajax"><a href="#13-Ajax" class="headerlink" title="13 Ajax"></a>13 Ajax</h1><h2 id="13-1-ç®€ä»‹"><a href="#13-1-ç®€ä»‹" class="headerlink" title="13.1 ç®€ä»‹"></a>13.1 ç®€ä»‹</h2><ul>
<li><strong>AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚</strong></li>
<li>AJAX æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚</li>
<li><strong>Ajax ä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºæ›´å¥½æ›´å¿«ä»¥åŠäº¤äº’æ€§æ›´å¼ºçš„Webåº”ç”¨ç¨‹åºçš„æŠ€æœ¯ã€‚</strong></li>
<li>åœ¨ 2005 å¹´ï¼ŒGoogle é€šè¿‡å…¶ Google Suggest ä½¿ AJAX å˜å¾—æµè¡Œèµ·æ¥ã€‚Google Suggestèƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ å®Œæˆæœç´¢å•è¯ã€‚</li>
<li>Google Suggest ä½¿ç”¨ AJAX åˆ›é€ å‡ºåŠ¨æ€æ€§æå¼ºçš„ web ç•Œé¢ï¼šå½“æ‚¨åœ¨è°·æ­Œçš„æœç´¢æ¡†è¾“å…¥å…³é”®å­—æ—¶ï¼ŒJavaScript ä¼šæŠŠè¿™äº›å­—ç¬¦å‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæœç´¢å»ºè®®çš„åˆ—è¡¨ã€‚</li>
<li><p>å°±å’Œå›½å†…ç™¾åº¦çš„æœç´¢æ¡†ä¸€æ ·!</p>
</li>
<li><p>ä¼ ç»Ÿçš„ç½‘é¡µ(å³ä¸ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µ)ï¼Œæƒ³è¦æ›´æ–°å†…å®¹æˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œéƒ½éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚</p>
</li>
<li>ä½¿ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µï¼Œé€šè¿‡åœ¨åå°æœåŠ¡å™¨è¿›è¡Œå°‘é‡çš„æ•°æ®äº¤æ¢ï¼Œå°±å¯ä»¥å®ç°å¼‚æ­¥å±€éƒ¨æ›´æ–°ã€‚</li>
<li>ä½¿ç”¨Ajaxï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºæ¥è¿‘æœ¬åœ°æ¡Œé¢åº”ç”¨çš„ç›´æ¥ã€é«˜å¯ç”¨ã€æ›´ä¸°å¯Œã€æ›´åŠ¨æ€çš„Webç”¨æˆ·ç•Œé¢ã€‚</li>
</ul>
<h2 id="13-2-ä¼ªé€ Ajax"><a href="#13-2-ä¼ªé€ Ajax" class="headerlink" title="13.2 ä¼ªé€ Ajax"></a>13.2 ä¼ªé€ Ajax</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰ç«¯çš„ä¸€ä¸ªæ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªajaxçš„æ ·å­ã€‚iframeæ ‡ç­¾</p>
<p>1ã€æ–°å»ºä¸€ä¸ªmodule ï¼šsspringmvc-06-ajax ï¼Œ å¯¼å…¥webæ”¯æŒï¼</p>
<p>2ã€ç¼–å†™ä¸€ä¸ª ajax-frame.html ä½¿ç”¨ iframe æµ‹è¯•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>kuangshen<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;currentTime&#x27;</span>).<span class="property">innerText</span> = myDate.<span class="title function_">getTime</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">function</span> <span class="title function_">LoadPage</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">var</span> targetUrl =  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;url&#x27;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">console</span>.<span class="title function_">log</span>(targetUrl);</span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;iframePosition&quot;</span>).<span class="property">src</span> = targetUrl;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¯·è¾“å…¥è¦åŠ è½½çš„åœ°å€ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;currentTime&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;url&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;https://www.baidu.com/&quot;</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;LoadPage()&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åŠ è½½é¡µé¢ä½ç½®ï¼š<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;iframePosition&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;height: 500px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3ã€ä½¿ç”¨IDEAå¼€æµè§ˆå™¨æµ‹è¯•ä¸€ä¸‹ï¼</p>
<p><strong>åˆ©ç”¨AJAXå¯ä»¥åšï¼š</strong></p>
<ul>
<li>æ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚</li>
<li>ç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯</li>
<li>åˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚</li>
<li>â€¦.ç­‰ç­‰</li>
</ul>
<h2 id="13-3-jQuery-ajax"><a href="#13-3-jQuery-ajax" class="headerlink" title="13.3 jQuery.ajax"></a>13.3 jQuery.ajax</h2><p>çº¯JSåŸç”Ÿå®ç°Ajaxæˆ‘ä»¬ä¸å»è®²è§£è¿™é‡Œï¼Œç›´æ¥ä½¿ç”¨jqueryæä¾›çš„ï¼Œæ–¹ä¾¿å­¦ä¹ å’Œä½¿ç”¨ï¼Œé¿å…é‡å¤é€ è½®å­ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸‹JSåŸç”ŸXMLHttpRequest ï¼</p>
<p>Ajaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ®ã€‚</p>
<p>jQuery æä¾›å¤šä¸ªä¸ AJAX æœ‰å…³çš„æ–¹æ³•ã€‚</p>
<p>é€šè¿‡ jQuery AJAX æ–¹æ³•ï¼Œæ‚¨èƒ½å¤Ÿä½¿ç”¨ HTTP Get å’Œ HTTP Post ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šè¯·æ±‚æ–‡æœ¬ã€HTMLã€XML æˆ– JSON â€“ åŒæ—¶æ‚¨èƒ½å¤ŸæŠŠè¿™äº›å¤–éƒ¨æ•°æ®ç›´æ¥è½½å…¥ç½‘é¡µçš„è¢«é€‰å…ƒç´ ä¸­ã€‚</p>
<p>jQuery ä¸æ˜¯ç”Ÿäº§è€…ï¼Œè€Œæ˜¯å¤§è‡ªç„¶æ¬è¿å·¥ã€‚</p>
<p>jQuery Ajaxæœ¬è´¨å°±æ˜¯ XMLHttpRequestï¼Œå¯¹ä»–è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿è°ƒç”¨ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">jQuery.ajax(...)</span><br><span class="line">      éƒ¨åˆ†å‚æ•°ï¼š</span><br><span class="line">            urlï¼šè¯·æ±‚åœ°å€</span><br><span class="line">            typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ1.9.0ä¹‹åç”¨methodï¼‰</span><br><span class="line">        headersï¼šè¯·æ±‚å¤´</span><br><span class="line">            dataï¼šè¦å‘é€çš„æ•°æ®</span><br><span class="line">    contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;)</span><br><span class="line">          asyncï¼šæ˜¯å¦å¼‚æ­¥</span><br><span class="line">        timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span><br><span class="line">      beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)</span><br><span class="line">        completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)</span><br><span class="line">        successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)</span><br><span class="line">          errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)</span><br><span class="line">        acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯å¯æ¥å—çš„æ•°æ®ç±»å‹</span><br><span class="line">        dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹</span><br><span class="line">          &quot;xml&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼</span><br><span class="line">          &quot;text&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼</span><br><span class="line">          &quot;html&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚</span><br><span class="line">        &quot;script&quot;: å°è¯•å°†è¿”å›å€¼å½“ä½œJavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼</span><br><span class="line">          &quot;json&quot;: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„JavaScriptå¯¹è±¡</span><br><span class="line">        &quot;jsonp&quot;: JSONP æ ¼å¼ä½¿ç”¨ JSONP å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ &quot;myurl?callback=?&quot; jQuery å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•°</span><br></pre></td></tr></table></figure>
<p><strong>æˆ‘ä»¬æ¥ä¸ªç®€å•çš„æµ‹è¯•ï¼Œä½¿ç”¨æœ€åŸå§‹çš„HttpServletResponseå¤„ç† , .æœ€ç®€å• , æœ€é€šç”¨</strong></p>
<p>1ã€é…ç½®web.xml å’Œ springmvcçš„é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶ä¸Šé¢æ¡ˆä¾‹çš„å³å¯ ã€è®°å¾—é™æ€èµ„æºè¿‡æ»¤å’Œæ³¨è§£é©±åŠ¨é…ç½®ä¸Šã€‘</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.kuang.controller&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">id</span>=<span class="string">&quot;internalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- å‰ç¼€ --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- åç¼€ --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2ã€ç¼–å†™ä¸€ä¸ªAjaxController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AjaxController</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/a1&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ajax1</span><span class="params">(String name , HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">       <span class="keyword">if</span> (<span class="string">&quot;admin&quot;</span>.equals(name))&#123;</span><br><span class="line">           response.getWriter().print(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           response.getWriter().print(<span class="string">&quot;false&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3ã€å¯¼å…¥jquery ï¼Œ å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„CDN ï¼Œ ä¹Ÿå¯ä»¥ä¸‹è½½å¯¼å…¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4ã€ç¼–å†™index.jspæµ‹è¯•</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"> &lt;head&gt;</span><br><span class="line">   &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;%--&lt;script src=<span class="string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;--%&gt;</span><br><span class="line">   &lt;script src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">       function <span class="title function_">a1</span><span class="params">()</span>&#123;</span><br><span class="line">           $.post(&#123;</span><br><span class="line">               url:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a1&quot;</span>,</span><br><span class="line">               data:&#123;<span class="string">&#x27;name&#x27;</span>:$(<span class="string">&quot;#txtName&quot;</span>).val()&#125;,</span><br><span class="line">               success:function (data,status) &#123;</span><br><span class="line">                   alert(data);</span><br><span class="line">                   alert(status);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">   &lt;/script&gt;</span><br><span class="line"> &lt;/head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--onblurï¼šå¤±å»ç„¦ç‚¹è§¦å‘äº‹ä»¶--%&gt;</span><br><span class="line">ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;txtName&quot;</span> onblur=<span class="string">&quot;a1()&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line"> &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>5ã€å¯åŠ¨tomcatæµ‹è¯•ï¼æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œå½“æˆ‘ä»¬é¼ æ ‡ç¦»å¼€è¾“å…¥æ¡†çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°å‘å‡ºäº†ä¸€ä¸ªajaxçš„è¯·æ±‚ï¼æ˜¯åå°è¿”å›ç»™æˆ‘ä»¬çš„ç»“æœï¼æµ‹è¯•æˆåŠŸï¼</p>
<h2 id="13-4-SpringMVCå®ç°"><a href="#13-4-SpringMVCå®ç°" class="headerlink" title="13.4 SpringMVCå®ç°"></a>13.4 SpringMVCå®ç°</h2><p>å®ä½“ç±»user</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">   <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥è·å–ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼Œå±•ç¤ºåˆ°å‰ç«¯é¡µé¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/a2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;User&gt; <span class="title function_">ajax2</span><span class="params">()</span>&#123;</span><br><span class="line">   List&lt;User&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;User&gt;();</span><br><span class="line">   list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;ç§¦ç–†1å·&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>));</span><br><span class="line">   list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;ç§¦ç–†2å·&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>));</span><br><span class="line">   list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;ç§¦ç–†3å·&quot;</span>,<span class="number">3</span>,<span class="string">&quot;ç”·&quot;</span>));</span><br><span class="line">   <span class="keyword">return</span> list; <span class="comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†listè½¬æˆjsonæ ¼å¼è¿”å›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‰ç«¯é¡µé¢</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è·å–æ•°æ®&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;80%&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">td</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¹´é¾„<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ€§åˆ«<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">       $(<span class="string">&quot;#btn&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           $.<span class="title function_">post</span>(<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a2&quot;</span>,<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span></span><br><span class="line"><span class="language-javascript">               <span class="keyword">var</span> html=<span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">               <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;data.<span class="property">length</span> ; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                   html+= <span class="string">&quot;&lt;tr&gt;&quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                       <span class="string">&quot;&lt;td&gt;&quot;</span> + data[i].<span class="property">name</span> + <span class="string">&quot;&lt;/td&gt;&quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                       <span class="string">&quot;&lt;td&gt;&quot;</span> + data[i].<span class="property">age</span> + <span class="string">&quot;&lt;/td&gt;&quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                       <span class="string">&quot;&lt;td&gt;&quot;</span> + data[i].<span class="property">sex</span> + <span class="string">&quot;&lt;/td&gt;&quot;</span> +</span></span><br><span class="line"><span class="language-javascript">                       <span class="string">&quot;&lt;/tr&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">               $(<span class="string">&quot;#content&quot;</span>).<span class="title function_">html</span>(html);</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æˆåŠŸå®ç°äº†æ•°æ®å›æ˜¾ï¼å¯ä»¥ä½“ä¼šä¸€ä¸‹Ajaxçš„å¥½å¤„ï¼</strong></p>
<blockquote>
<p>æ³¨å†Œæç¤ºæ•ˆæœ</p>
</blockquote>
<p>æˆ‘ä»¬å†æµ‹è¯•ä¸€ä¸ªå°Demoï¼Œæ€è€ƒä¸€ä¸‹æˆ‘ä»¬å¹³æ—¶æ³¨å†Œæ—¶å€™ï¼Œè¾“å…¥æ¡†åé¢çš„å®æ—¶æç¤ºæ€ä¹ˆåšåˆ°çš„ï¼›å¦‚ä½•ä¼˜åŒ–</p>
<p>æˆ‘ä»¬å†™ä¸€ä¸ªController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/a3&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">ajax3</span><span class="params">(String name,String pwd)</span>&#123;</span><br><span class="line">   <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">   <span class="comment">//æ¨¡æ‹Ÿæ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®</span></span><br><span class="line">   <span class="keyword">if</span> (name!=<span class="literal">null</span>)&#123;</span><br><span class="line">       <span class="keyword">if</span> (<span class="string">&quot;admin&quot;</span>.equals(name))&#123;</span><br><span class="line">           msg = <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           msg = <span class="string">&quot;ç”¨æˆ·åè¾“å…¥é”™è¯¯&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">if</span> (pwd!=<span class="literal">null</span>)&#123;</span><br><span class="line">       <span class="keyword">if</span> (<span class="string">&quot;123456&quot;</span>.equals(pwd))&#123;</span><br><span class="line">           msg = <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           msg = <span class="string">&quot;å¯†ç è¾“å…¥æœ‰è¯¯&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">return</span> msg; <span class="comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†msgè½¬æˆjsonæ ¼å¼è¿”å›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‰ç«¯é¡µé¢ login.jsp</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>ajax<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">a1</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">           $.<span class="title function_">post</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">url</span>:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">data</span>:&#123;<span class="string">&#x27;name&#x27;</span>:$(<span class="string">&quot;#name&quot;</span>).<span class="title function_">val</span>()&#125;,</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">success</span>:<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                   <span class="keyword">if</span> (data.<span class="title function_">toString</span>()==<span class="string">&#x27;OK&#x27;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                       $(<span class="string">&quot;#userInfo&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;green&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                  &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                       $(<span class="string">&quot;#userInfo&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                  &#125;</span></span><br><span class="line"><span class="language-javascript">                   $(<span class="string">&quot;#userInfo&quot;</span>).<span class="title function_">html</span>(data);</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">a2</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">           $.<span class="title function_">post</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">url</span>:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">data</span>:&#123;<span class="string">&#x27;pwd&#x27;</span>:$(<span class="string">&quot;#pwd&quot;</span>).<span class="title function_">val</span>()&#125;,</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">success</span>:<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                   <span class="keyword">if</span> (data.<span class="title function_">toString</span>()==<span class="string">&#x27;OK&#x27;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                       $(<span class="string">&quot;#pwdInfo&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;green&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                  &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                       $(<span class="string">&quot;#pwdInfo&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                  &#125;</span></span><br><span class="line"><span class="language-javascript">                   $(<span class="string">&quot;#pwdInfo&quot;</span>).<span class="title function_">html</span>(data);</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  ç”¨æˆ·å:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">onblur</span>=<span class="string">&quot;a1()&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;userInfo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  å¯†ç :<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">onblur</span>=<span class="string">&quot;a2()&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;pwdInfo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ã€è®°å¾—å¤„ç†jsonä¹±ç é—®é¢˜ã€‘</p>
<p>æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼ŒåŠ¨æ€è¯·æ±‚å“åº”ï¼Œå±€éƒ¨åˆ·æ–°ï¼Œå°±æ˜¯å¦‚æ­¤ï¼</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KZibKx8mbpgp9uicB6eJRNyNtU7ek8sJ1kpbFia5e5IoMRtGFwBiaylw7iakYBws0icEAqyH22l6Y7FMzQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<blockquote>
<p>è·å–baiduæ¥å£Demo</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>JSONPç™¾åº¦æœç´¢<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#q</span>&#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#ul</span>&#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">520px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">margin-top</span>: -<span class="number">1px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#ul</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">background-color</span>: <span class="number">#f60</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// 2.æ­¥éª¤äºŒ</span></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// å®šä¹‰demoå‡½æ•° (åˆ†ææ¥å£ã€æ•°æ®)</span></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params">data</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> <span class="title class_">Ul</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> html = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">// å¦‚æœæœç´¢æ•°æ®å­˜åœ¨ æŠŠå†…å®¹æ·»åŠ è¿›å»</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">if</span> (data.<span class="property">s</span>.<span class="property">length</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">// éšè—æ‰çš„ulæ˜¾ç¤ºå‡ºæ¥</span></span></span><br><span class="line"><span class="language-javascript">               <span class="title class_">Ul</span>.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">// æœç´¢åˆ°çš„æ•°æ®å¾ªç¯è¿½åŠ åˆ°lié‡Œ</span></span></span><br><span class="line"><span class="language-javascript">               <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;data.<span class="property">s</span>.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                   html += <span class="string">&#x27;&lt;li&gt;&#x27;</span>+data.<span class="property">s</span>[i]+<span class="string">&#x27;&lt;/li&gt;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">// å¾ªç¯çš„liå†™å…¥ul</span></span></span><br><span class="line"><span class="language-javascript">               <span class="title class_">Ul</span>.<span class="property">innerHTML</span> = html;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// 1.æ­¥éª¤ä¸€</span></span></span><br><span class="line"><span class="language-javascript">       <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">// è·å–è¾“å…¥æ¡†å’Œul</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> Q = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;q&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> <span class="title class_">Ul</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">           <span class="comment">// äº‹ä»¶é¼ æ ‡æŠ¬èµ·æ—¶å€™</span></span></span><br><span class="line"><span class="language-javascript">           Q.<span class="property">onkeyup</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">// å¦‚æœè¾“å…¥æ¡†ä¸ç­‰äºç©º</span></span></span><br><span class="line"><span class="language-javascript">               <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">value</span> != <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                   <span class="comment">// â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†JSONPzé‡ç‚¹â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†</span></span></span><br><span class="line"><span class="language-javascript">                   <span class="comment">// åˆ›å»ºæ ‡ç­¾</span></span></span><br><span class="line"><span class="language-javascript">                   <span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                   <span class="comment">//ç»™å®šè¦è·¨åŸŸçš„åœ°å€ èµ‹å€¼ç»™src</span></span></span><br><span class="line"><span class="language-javascript">                   <span class="comment">//è¿™é‡Œæ˜¯è¦è¯·æ±‚çš„è·¨åŸŸçš„åœ°å€ æˆ‘å†™çš„æ˜¯ç™¾åº¦æœç´¢çš„è·¨åŸŸåœ°å€</span></span></span><br><span class="line"><span class="language-javascript">                   script.<span class="property">src</span> = <span class="string">&#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&#x27;</span>+<span class="variable language_">this</span>.<span class="property">value</span>+<span class="string">&#x27;&amp;cb=demo&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                   <span class="comment">// å°†ç»„åˆå¥½çš„å¸¦srcçš„scriptæ ‡ç­¾è¿½åŠ åˆ°bodyé‡Œ</span></span></span><br><span class="line"><span class="language-javascript">                   <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script);</span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;q&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ul&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="14-æ‹¦æˆªå™¨"><a href="#14-æ‹¦æˆªå™¨" class="headerlink" title="14 æ‹¦æˆªå™¨"></a>14 æ‹¦æˆªå™¨</h1><h2 id="14-1ç®€ä»‹"><a href="#14-1ç®€ä»‹" class="headerlink" title="14.1ç®€ä»‹"></a>14.1ç®€ä»‹</h2><p>SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚</p>
<p><strong>è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š</strong>æ‹¦æˆªå™¨æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨ã€‚</p>
<p><strong>è¿‡æ»¤å™¨</strong></p>
<ul>
<li>servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨</li>
<li>åœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª</li>
</ul>
<p><strong>æ‹¦æˆªå™¨</strong> </p>
<ul>
<li>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨</li>
<li>æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆª</li>
</ul>
<h2 id="14-2-è‡ªå®šä¹‰æ‹¦æˆªå™¨"><a href="#14-2-è‡ªå®šä¹‰æ‹¦æˆªå™¨" class="headerlink" title="14.2 è‡ªå®šä¹‰æ‹¦æˆªå™¨"></a>14.2 è‡ªå®šä¹‰æ‹¦æˆªå™¨</h2><p>é‚£å¦‚ä½•å®ç°æ‹¦æˆªå™¨å‘¢ï¼Ÿ</p>
<p>æƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®ç° HandlerInterceptor æ¥å£ã€‚</p>
<p>1ã€æ–°å»ºä¸€ä¸ªMoudule ï¼Œ springmvc-07-Interceptor  ï¼Œ æ·»åŠ webæ”¯æŒ</p>
<p>2ã€é…ç½®web.xml å’Œ springmvc-servlet.xml æ–‡ä»¶</p>
<p>3ã€ç¼–å†™ä¸€ä¸ªæ‹¦æˆªå™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//åœ¨è¯·æ±‚å¤„ç†çš„æ–¹æ³•ä¹‹å‰æ‰§è¡Œ</span></span><br><span class="line">   <span class="comment">//å¦‚æœè¿”å›trueæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span></span><br><span class="line">   <span class="comment">//å¦‚æœè¿”å›falseå°±ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;------------å¤„ç†å‰------------&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//åœ¨è¯·æ±‚å¤„ç†æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;------------å¤„ç†å------------&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//åœ¨dispatcherServletå¤„ç†åæ‰§è¡Œ,åšæ¸…ç†å·¥ä½œ.</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;------------æ¸…ç†------------&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4ã€åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„--&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª--&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.interceptor.MyInterceptor&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>5ã€ç¼–å†™ä¸€ä¸ªControllerï¼Œæ¥æ”¶è¯·æ±‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•æ‹¦æˆªå™¨çš„æ§åˆ¶å™¨</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterceptorController</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/interceptor&quot;)</span></span><br><span class="line">   <span class="meta">@ResponseBody</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">testFunction</span><span class="params">()</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6ã€å‰ç«¯ index.jsp</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/interceptor&quot;</span>&gt;</span>æ‹¦æˆªå™¨æµ‹è¯•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>7ã€å¯åŠ¨tomcat æµ‹è¯•ä¸€ä¸‹ï¼</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KshicHhIPa51icXVueiaMfB0HtJH2NsHDlcibyEJuibgomZzDNpHiammcSRt2V87uPMYGC7h0gt5KS2Dcw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p>
<blockquote>
<p>éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)</p>
</blockquote>
<p><strong>å®ç°æ€è·¯</strong></p>
<p>1ã€æœ‰ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œéœ€è¦å†™ä¸€ä¸ªcontrollerè®¿é—®é¡µé¢ã€‚</p>
<p>2ã€ç™»é™†é¡µé¢æœ‰ä¸€æäº¤è¡¨å•çš„åŠ¨ä½œã€‚éœ€è¦åœ¨controllerä¸­å¤„ç†ã€‚åˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ­£ç¡®ï¼Œå‘sessionä¸­å†™å…¥ç”¨æˆ·ä¿¡æ¯ã€‚<em>è¿”å›ç™»é™†æˆåŠŸã€‚</em></p>
<p>3ã€æ‹¦æˆªç”¨æˆ·è¯·æ±‚ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†ã€‚å¦‚æœç”¨æˆ·å·²ç»ç™»é™†ã€‚æ”¾è¡Œï¼Œ å¦‚æœç”¨æˆ·æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢</p>
<p><strong>æµ‹è¯•ï¼š</strong></p>
<p>1ã€ç¼–å†™ä¸€ä¸ªç™»é™†é¡µé¢  login.jsp</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç™»å½•é¡µé¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/login&quot;</span>&gt;</span></span><br><span class="line">  ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2ã€ç¼–å†™ä¸€ä¸ªControllerå¤„ç†è¯·æ±‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//è·³è½¬åˆ°ç™»é™†é¡µé¢</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/jumplogin&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">jumpLogin</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//è·³è½¬åˆ°æˆåŠŸé¡µé¢</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/jumpSuccess&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">jumpSuccess</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ç™»é™†æäº¤</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/login&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">login</span><span class="params">(HttpSession session, String username, String pwd)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">// å‘sessionè®°å½•ç”¨æˆ·èº«ä»½ä¿¡æ¯</span></span><br><span class="line">       System.out.println(<span class="string">&quot;æ¥æ”¶å‰ç«¯===&quot;</span>+username);</span><br><span class="line">       session.setAttribute(<span class="string">&quot;user&quot;</span>, username);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//é€€å‡ºç™»é™†</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;logout&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">logout</span><span class="params">(HttpSession session)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">       <span class="comment">// session è¿‡æœŸ</span></span><br><span class="line">       session.invalidate();</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3ã€ç¼–å†™ä¸€ä¸ªç™»é™†æˆåŠŸçš„é¡µé¢ success.jsp</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç™»å½•æˆåŠŸé¡µé¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">$&#123;user&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/logout&quot;</span>&gt;</span>æ³¨é”€<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4ã€åœ¨ index é¡µé¢ä¸Šæµ‹è¯•è·³è½¬ï¼å¯åŠ¨Tomcat æµ‹è¯•ï¼Œæœªç™»å½•ä¹Ÿå¯ä»¥è¿›å…¥ä¸»é¡µï¼</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>$Title$<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">&lt;%--ç™»å½•--%&gt;</span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/jumplogin&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/user/jumpSuccess&quot;</span>&gt;</span>æˆåŠŸé¡µé¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>5ã€ç¼–å†™ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">       <span class="comment">// å¦‚æœæ˜¯ç™»é™†é¡µé¢åˆ™æ”¾è¡Œ</span></span><br><span class="line">       System.out.println(<span class="string">&quot;uri: &quot;</span> + request.getRequestURI());</span><br><span class="line">       <span class="keyword">if</span> (request.getRequestURI().contains(<span class="string">&quot;login&quot;</span>)) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">       <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line"></span><br><span class="line">       <span class="comment">// å¦‚æœç”¨æˆ·å·²ç™»é™†ä¹Ÿæ”¾è¡Œ</span></span><br><span class="line">       <span class="keyword">if</span>(session.getAttribute(<span class="string">&quot;user&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// ç”¨æˆ·æ²¡æœ‰ç™»é™†è·³è½¬åˆ°ç™»é™†é¡µé¢</span></span><br><span class="line">       request.getRequestDispatcher(<span class="string">&quot;/WEB-INF/jsp/login.jsp&quot;</span>).forward(request, response);</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6ã€åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;loginInterceptor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.interceptor.LoginInterceptor&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>7ã€å†æ¬¡é‡å¯Tomcatæµ‹è¯•ï¼</p>
<p><strong>OKï¼Œæµ‹è¯•ç™»å½•æ‹¦æˆªåŠŸèƒ½æ— è¯¯.</strong></p>
<h1 id="15-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#15-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="15 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>15 æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h1><p>æ–‡ä»¶ä¸Šä¼ æ˜¯é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ ,springMVC å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œä½†æ˜¯SpringMVCä¸Šä¸‹æ–‡ä¸­é»˜è®¤æ²¡æœ‰è£…é…MultipartResolverï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å…¶ä¸èƒ½å¤„ç†æ–‡ä»¶ä¸Šä¼ å·¥ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨Springçš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­é…ç½®MultipartResolverã€‚</p>
<p>å‰ç«¯è¡¨å•è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼›</p>
<p><strong>å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š</strong></p>
<ul>
<li>application/x-www=form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚</li>
<li>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚</li>
<li>text/plainï¼šé™¤äº†æŠŠç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ å·å¤–ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨ç›´æ¥é€šè¿‡è¡¨å•å‘é€é‚®ä»¶ã€‚</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸€æ—¦è®¾ç½®äº†enctypeä¸ºmultipart/form-dataï¼Œæµè§ˆå™¨å³ä¼šé‡‡ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè€Œå¯¹äºæ–‡ä»¶ä¸Šä¼ çš„å¤„ç†åˆ™æ¶‰åŠåœ¨æœåŠ¡å™¨ç«¯è§£æåŸå§‹çš„HTTPå“åº”ã€‚åœ¨2003å¹´ï¼ŒApache Software Foundationå‘å¸ƒäº†å¼€æºçš„Commons FileUploadç»„ä»¶ï¼Œå…¶å¾ˆå¿«æˆä¸ºServlet/JSPç¨‹åºå‘˜ä¸Šä¼ æ–‡ä»¶çš„æœ€ä½³é€‰æ‹©ã€‚</p>
<ul>
<li>Servlet3.0è§„èŒƒå·²ç»æä¾›æ–¹æ³•æ¥å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œä½†è¿™ç§ä¸Šä¼ éœ€è¦åœ¨Servletä¸­å®Œæˆã€‚</li>
<li>è€ŒSpring MVCåˆ™æä¾›äº†æ›´ç®€å•çš„å°è£…ã€‚</li>
<li>Spring MVCä¸ºæ–‡ä»¶ä¸Šä¼ æä¾›äº†ç›´æ¥çš„æ”¯æŒï¼Œè¿™ç§æ”¯æŒæ˜¯ç”¨å³æ’å³ç”¨çš„MultipartResolverå®ç°çš„ã€‚</li>
<li>Spring MVCä½¿ç”¨Apache Commons FileUploadæŠ€æœ¯å®ç°äº†ä¸€ä¸ªMultipartResolverå®ç°ç±»ï¼š</li>
<li>CommonsMultipartResolverã€‚å› æ­¤ï¼ŒSpringMVCçš„æ–‡ä»¶ä¸Šä¼ è¿˜éœ€è¦ä¾èµ–Apache Commons FileUploadçš„ç»„ä»¶ã€‚</li>
</ul>
<blockquote>
<p>æ–‡ä»¶ä¸Šä¼ </p>
</blockquote>
<p>1ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…ï¼Œcommons-fileupload ï¼Œ Mavenä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥ä»–çš„ä¾èµ–åŒ… commons-ioåŒ…ï¼›</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ–‡ä»¶ä¸Šä¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--servlet-apiå¯¼å…¥é«˜ç‰ˆæœ¬çš„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2ã€é…ç½®beanï¼šmultipartResolver</p>
<p>ã€<strong>æ³¨æ„ï¼ï¼ï¼è¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolver ï¼Œ å¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯ï¼åœ¨è¿™é‡Œæ ½è¿‡å‘,æ•™è®­ï¼</strong>ã€‘</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ–‡ä»¶ä¸Šä¼ é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span>  <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;utf-8&quot;</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxUploadSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10485760&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxInMemorySize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;40960&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>CommonsMultipartFile çš„ å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><strong>String getOriginalFilename()ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå</strong></li>
<li><strong>InputStream getInputStream()ï¼šè·å–æ–‡ä»¶æµ</strong></li>
<li><p><strong>void transferTo(File dest)ï¼šå°†ä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­</strong></p>
<p>æˆ‘ä»¬å»å®é™…æµ‹è¯•ä¸€ä¸‹</p>
</li>
</ul>
<p>3ã€ç¼–å†™å‰ç«¯é¡µé¢</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/upload&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;upload&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4ã€<strong>Controller</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.commons.CommonsMultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileController</span> &#123;</span><br><span class="line">   <span class="comment">//@RequestParam(&quot;file&quot;) å°†name=fileæ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆCommonsMultipartFile å¯¹è±¡</span></span><br><span class="line">   <span class="comment">//æ‰¹é‡ä¸Šä¼ CommonsMultipartFileåˆ™ä¸ºæ•°ç»„å³å¯</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/upload&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">fileUpload</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file , HttpServletRequest request)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//è·å–æ–‡ä»¶å : file.getOriginalFilename();</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">uploadFileName</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//å¦‚æœæ–‡ä»¶åä¸ºç©ºï¼Œç›´æ¥å›åˆ°é¦–é¡µï¼</span></span><br><span class="line">       <span class="keyword">if</span> (<span class="string">&quot;&quot;</span>.equals(uploadFileName))&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶å : &quot;</span>+uploadFileName);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> request.getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">       <span class="comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª</span></span><br><span class="line">       <span class="type">File</span> <span class="variable">realPath</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">       <span class="keyword">if</span> (!realPath.exists())&#123;</span><br><span class="line">           realPath.mkdir();</span><br><span class="line">      &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);</span><br><span class="line"></span><br><span class="line">       <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> file.getInputStream(); <span class="comment">//æ–‡ä»¶è¾“å…¥æµ</span></span><br><span class="line">       <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(realPath,uploadFileName)); <span class="comment">//æ–‡ä»¶è¾“å‡ºæµ</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//è¯»å–å†™å‡º</span></span><br><span class="line">       <span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">       <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">       <span class="keyword">while</span> ((len=is.read(buffer))!=-<span class="number">1</span>)&#123;</span><br><span class="line">           os.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">           os.flush();</span><br><span class="line">      &#125;</span><br><span class="line">       os.close();</span><br><span class="line">       is.close();</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>5ã€æµ‹è¯•ä¸Šä¼ æ–‡ä»¶ï¼ŒOKï¼</p>
<p><strong>é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</strong></p>
<p>1ã€ç¼–å†™Controller</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/upload2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String  <span class="title function_">fileUpload2</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file, HttpServletRequest request)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span></span><br><span class="line">   <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> request.getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">   <span class="type">File</span> <span class="variable">realPath</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">   <span class="keyword">if</span> (!realPath.exists())&#123;</span><br><span class="line">       realPath.mkdir();</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="comment">//ä¸Šä¼ æ–‡ä»¶åœ°å€</span></span><br><span class="line">   System.out.println(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰</span></span><br><span class="line">   file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(realPath +<span class="string">&quot;/&quot;</span>+ file.getOriginalFilename()));</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;redirect:/index.jsp&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2ã€å‰ç«¯è¡¨å•æäº¤åœ°å€ä¿®æ”¹</p>
<p>3ã€è®¿é—®æäº¤æµ‹è¯•ï¼ŒOKï¼</p>
<blockquote>
<p>æ–‡ä»¶ä¸‹è½½</p>
</blockquote>
<p><strong>æ–‡ä»¶ä¸‹è½½æ­¥éª¤ï¼š</strong></p>
<p>1ã€è®¾ç½® response å“åº”å¤´</p>
<p>2ã€è¯»å–æ–‡ä»¶ â€” InputStream</p>
<p>3ã€å†™å‡ºæ–‡ä»¶ â€” OutputStream</p>
<p>4ã€æ‰§è¡Œæ“ä½œ</p>
<p>5ã€å…³é—­æµ ï¼ˆå…ˆå¼€åå…³ï¼‰</p>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value=&quot;/download&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">downloads</span><span class="params">(HttpServletResponse response ,HttpServletRequest request)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">   <span class="comment">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€</span></span><br><span class="line">   <span class="type">String</span>  <span class="variable">path</span> <span class="operator">=</span> request.getServletContext().getRealPath(<span class="string">&quot;/upload&quot;</span>);</span><br><span class="line">   <span class="type">String</span>  <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;åŸºç¡€è¯­æ³•.jpg&quot;</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//1ã€è®¾ç½®response å“åº”å¤´</span></span><br><span class="line">   response.reset(); <span class="comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span></span><br><span class="line">   response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>); <span class="comment">//å­—ç¬¦ç¼–ç </span></span><br><span class="line">   response.setContentType(<span class="string">&quot;multipart/form-data&quot;</span>); <span class="comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span></span><br><span class="line">   <span class="comment">//è®¾ç½®å“åº”å¤´</span></span><br><span class="line">   response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,</span><br><span class="line">           <span class="string">&quot;attachment;fileName=&quot;</span>+URLEncoder.encode(fileName, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"></span><br><span class="line">   <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path,fileName);</span><br><span class="line">   <span class="comment">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ</span></span><br><span class="line">   InputStream input=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">   <span class="comment">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ</span></span><br><span class="line">   <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line"></span><br><span class="line">   <span class="type">byte</span>[] buff =<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">   <span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">   <span class="comment">//4ã€æ‰§è¡Œ å†™å‡ºæ“ä½œ</span></span><br><span class="line">   <span class="keyword">while</span>((index= input.read(buff))!= -<span class="number">1</span>)&#123;</span><br><span class="line">       out.write(buff, <span class="number">0</span>, index);</span><br><span class="line">       out.flush();</span><br><span class="line">  &#125;</span><br><span class="line">   out.close();</span><br><span class="line">   input.close();</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‰ç«¯</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/download&quot;</span>&gt;</span>ç‚¹å‡»ä¸‹è½½<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>Bç«™: ç‹‚ç¥è¯´Java  <a href="https://space.bilibili.com/95256449/">https://space.bilibili.com/95256449/</a></p>
<p>ä»£ç : <a href="https://github.com/nuaazz/Java">[nuaazz/Java: Javaå­¦ä¹ ç¬”è®° (github.com)]</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>MVC</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title>å—å¤§ã€Šè½¯ä»¶åˆ†æã€‹03.Data Flow Analysis - Applications I</title>
    <url>/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯å—äº¬å¤§å­¦ææ¨¾ã€è°­æ·»è€å¸ˆçš„ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹çš„ç¬”è®°ã€‚å†…å®¹æ¥è‡ªè¯¾ç¨‹pptä»¥åŠè¯¾ç¨‹è®²è§£ã€‚</p>
<blockquote>
<p>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://tai-e.pascal-lab.net/lectures.html">Static Program Analysis | Tai-e (pascal-lab.net)</a></p>
<p>æˆè¯¾è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1b7411K7P4">è§†é¢‘å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹01ï¼ˆIntroductionï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>è¯¾ç¨‹å®éªŒrepoï¼š<a href="https://github.com/pascal-lab/Tai-e-assignments">pascal-lab/Tai-e-assignments: Tai-e assignments for static program analysis (github.com)</a></p>
</blockquote>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ol>
<li>Overview of Data Flow Analysis </li>
<li>Preliminaries of Data Flow Analysis </li>
<li>Reaching Definitions Analysis </li>
<li>Live Variables Analysis </li>
<li>Available Expressions Analysis</li>
</ol>
<span id="more"></span>
<h1 id="Overview-of-Data-Flow-Analysis"><a href="#Overview-of-Data-Flow-Analysis" class="headerlink" title="Overview of Data Flow Analysis"></a>Overview of Data Flow Analysis</h1><p>Data Flow Analysis -&gt; How Data flows on CFG?</p>
<p>-&gt; How application-specfific Data Flows through the Nodes(BBs/statements) and Edges(control flows) of CFG(a program)?</p>
<ul>
<li>application-specfific Data: Abstraction, + - 0 $\top$ $\bot$</li>
<li>Flows: Safe-approximation. For most stactic analyses are â€œmay analysisâ€<ul>
<li>may analysis: outputs information that may be true (over-approximation)</li>
<li>must analysis: outputs information that must be true (under-approximation)</li>
<li>Over- and under-approximations are both for safety of analysis</li>
</ul>
</li>
<li>Nodes: Transfer function, e.g. (+) + (+) = (+)</li>
<li>Edges: Control-flow handing: Union the sign at merges</li>
</ul>
<p>different data-flow analysis applications have </p>
<p>different data abstraction and </p>
<p>different flow safe-approximation strategies, i.e., </p>
<p>different transfer functions and control-flow handlings</p>
<h1 id="Preliminaries-of-Data-Flow-Analysis"><a href="#Preliminaries-of-Data-Flow-Analysis" class="headerlink" title="Preliminaries of Data Flow Analysis"></a>Preliminaries of Data Flow Analysis</h1><h2 id="Input-and-Output-States"><a href="#Input-and-Output-States" class="headerlink" title="Input and Output States"></a>Input and Output States</h2><ul>
<li>Each execution of an IR statement transforms an input state to a new output state</li>
<li>The input(output) state is associated with program point before(after) the statement</li>
</ul>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/IO.jpg" alt></p>
<p>In each data-flow analysis application, we associate with every program point ==a data-flow value== that represents an ==abstraction== of the set of all possible ==program states== that can be observed for that point.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x = 10;</span><br><span class="line">point  -&gt;    x = +, y = undefine</span><br><span class="line">y = -1;</span><br><span class="line">point  -&gt;    x = +, y = -</span><br><span class="line">x = y;</span><br><span class="line">point  -&gt;    x = -, y = -</span><br><span class="line">x = x / y;</span><br><span class="line">point  -&gt;    x = +, y = -</span><br></pre></td></tr></table></figure>
<p>The set of possible data-flow values is the domain for this application(+ - 0 $\top$ $\bot$)</p>
<p>Data-flow analysis is to ==find a solution== to a set of ==safe-approximation directed constraints== on the IN[s]â€™s and OUT[s]â€™s, for all statements s. </p>
<ul>
<li>constraints based on semantics of statements (transfer functions) </li>
<li>constraints based on the flows of control</li>
</ul>
<h2 id="Notations-for-Transfer-Functionâ€™s-Constraints"><a href="#Notations-for-Transfer-Functionâ€™s-Constraints" class="headerlink" title="Notations for Transfer Functionâ€™s Constraints"></a>Notations for Transfer Functionâ€™s Constraints</h2><ul>
<li>Forward Analysis: $OUT[s] = f_s(IN[s])$</li>
<li>Backward Analysis: $IN[s] = f_s(OUT[s])$</li>
</ul>
<h2 id="Notations-for-Control-Flowâ€™s-Constraints"><a href="#Notations-for-Control-Flowâ€™s-Constraints" class="headerlink" title="Notations for Control Flowâ€™s Constraints"></a>Notations for Control Flowâ€™s Constraints</h2><ul>
<li><p>Control flow within a BB: $In[s_{i+1}] = OUT[s_i], for ~all~i = 1,2,â€¦n-1$</p>
</li>
<li><p>Control flow among BBs:</p>
<p>$IN[B]=IN[s_1]$ </p>
<p>$OUT[B]=OUT[s_n]$</p>
<ul>
<li><p>Forward:</p>
<p>$OUT[B]=f<em>B(IN[B]),f_B=f</em>{s<em>n}\circ â€¦\circ f</em>{s<em>2} \circ f</em>{s_1}$</p>
<p>$IN[B]=\wedge P_{~a~predecessor of B}~OUT[P]$</p>
</li>
<li><p>Backward:</p>
<p>$IN[B]=f<em>B(OUT[B]),f_B=f</em>{s<em>1}\circ f</em>{s<em>2} \circ â€¦\circ f</em>{s_n}$</p>
<p>$OUT[B]=\wedge S_{~a~successor of B}~IN[S]$</p>
</li>
</ul>
</li>
</ul>
<p>The meet operator $\wedge$ is used to summarize the contributions from different paths at the confluence of those paths</p>
<p>Issues Not Covered:</p>
<ul>
<li>Method Calls<ul>
<li>Intra-procedural CFG</li>
<li>Will be introduced in lecture: Inter-procedural Analysis</li>
</ul>
</li>
<li>Aliases<ul>
<li>Variables have no aliases</li>
<li>Will be introduced in lecture: Pointer Analysis</li>
</ul>
</li>
</ul>
<h1 id="Reaching-Definitions-Analysis"><a href="#Reaching-Definitions-Analysis" class="headerlink" title="Reaching Definitions Analysis"></a>Reaching Definitions Analysis</h1><h2 id="Reaching-Definition"><a href="#Reaching-Definition" class="headerlink" title="Reaching Definition"></a>Reaching Definition</h2><p>A ==definition d== at program point p ==reaches== a point q if there is a path from p to q such that ==d== is not â€œkilledâ€ along that path.</p>
<ul>
<li><p>A definition of a variable v is a statement that assigns a value to v</p>
</li>
<li><p>Translated as: definition of variable v at program point p reaches point q if there is a path from p to q such that no new definition of v appears on that path</p>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/ReachingDefinitions.jpg" alt></p>
</li>
</ul>
<ul>
<li>Reaching definitions can be used to ==detect possible undefined variables==. e.g., introduce a dummy definition for each variable v at the entry of CFG, and if th e dummy definition of v reaches a point p where v is used, then v may be used before definition (as undefined reaches v)</li>
</ul>
<h2 id="Understanding-Reaching-Definitions"><a href="#Understanding-Reaching-Definitions" class="headerlink" title="Understanding Reaching Definitions"></a>Understanding Reaching Definitions</h2><p>Abstraction:</p>
<ul>
<li><p>Data Flow Values/Facts</p>
<ul>
<li><p>The definition of all the variables in a program</p>
</li>
<li><p>Can be represented by bit vectors</p>
<p>e.g., D1, D2, D3, D4, â€¦, D100 (100 efinitions)</p>
<p>$\underbrace{0000â€¦0}_{100}$</p>
<p>Bit i from the left represents definition Di</p>
</li>
</ul>
</li>
</ul>
<p>Safe-approximation</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">D: v = x op y</span><br></pre></td></tr></table></figure>
<p>This statement â€œgeneratesâ€ a definition D of variable v and â€œkillsâ€ all the other definitions in the program that define variable v, while leaving the remaining incoming definition unaffected.</p>
<ul>
<li><p>Transfer Function</p>
<p>$OUT[B] = gen_B\cup(IN[B] - kill_B)$</p>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Transfer Function.jpg" alt></p>
</li>
<li><p>Control Flow</p>
<p>$IN[B]=\cup P_{~a~predecessor of B}~OUT[P]$</p>
</li>
</ul>
<h2 id="Algorithm-of-Reaching-Definitions-Analysis"><a href="#Algorithm-of-Reaching-Definitions-Analysis" class="headerlink" title="Algorithm of Reaching Definitions Analysis"></a>Algorithm of Reaching Definitions Analysis</h2><p>INPUT: CFG($kill_B$ and $gen_B$ computed for each basic block B)</p>
<p>OUTPUT: $IN[B]$ and$OUT[B]$ for each basic block B</p>
<p>METHOD:<img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Algorithm.jpg" alt></p>
<p>è§£é‡Šï¼š</p>
<ol>
<li><p>$OUT[entry]=\phi$å«ä¹‰: </p>
<p>entreæ²¡æœ‰statements å’Œ definition</p>
</li>
<li><p>forä¸­each basic block $B\entry$å’Œç¬¬ä¸€è¡Œçš„$OUT[entry]=\phi$ ä¸ºä»€ä¹ˆä¸åˆå¹¶ï¼Ÿ</p>
<p>è¿™æ˜¯ç»å…¸çš„æ¨¡æ¿ç®—æ³•ï¼Œå¹¶éåªå¯¹Reaching Definitioné€‚ç”¨ã€‚</p>
</li>
<li><p>forä¸­ $OUT[B]=\phi$ ?</p>
<p>may analysisä¸€èˆ¬ä¸ºç©º</p>
<p>must analysisä¸€èˆ¬ä¸ºtop($\top$)</p>
</li>
<li><p>ä¸ºä»€ä¹ˆè¿™ä¸ªç®—æ³•æœ€ç»ˆå¯ä»¥åœæ­¢ï¼Ÿ</p>
</li>
</ol>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Eaxmple.jpg" alt></p>
<h3 id="Iteration-0-Init"><a href="#Iteration-0-Init" class="headerlink" title="Iteration 0(Init)"></a>Iteration 0(Init)</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Input</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">entry</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0000 0000</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0000 0000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0000 0000</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0000 0000</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0000 0000</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0000 0000</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Init.jpg" alt></p>
<h3 id="Iteration-1"><a href="#Iteration-1" class="headerlink" title="Iteration  1"></a>Iteration  1</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Input</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">0000 0000</td>
<td style="text-align:center">D1 D2</td>
<td style="text-align:center">D4 D5</td>
<td style="text-align:center">1100 0000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">0000 0000(O[B4]) U 1100 0000(O[B1])</td>
<td style="text-align:center">D3 D4</td>
<td style="text-align:center">D2</td>
<td style="text-align:center">1011 0000</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">1011 0000</td>
<td style="text-align:center">D7</td>
<td style="text-align:center">D1 D5</td>
<td style="text-align:center">0011 0010</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">1011 0000</td>
<td style="text-align:center">D5 D6</td>
<td style="text-align:center">D1 D8</td>
<td style="text-align:center">0011 1100</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">0011 0010(O[B4]) U 0011 1100(O[B3])</td>
<td style="text-align:center">D8</td>
<td style="text-align:center">D6</td>
<td style="text-align:center">0011 1011</td>
</tr>
</tbody>
</table>
</div>
<p>Changes occur in OUT[] of B1,B2,B3,B4,B5</p>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Iteration1.jpg" alt></p>
<h3 id="Iteration-2"><a href="#Iteration-2" class="headerlink" title="Iteration 2"></a>Iteration 2</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Input</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">0000 0000</td>
<td style="text-align:center">D1 D2</td>
<td style="text-align:center">D4 D5</td>
<td style="text-align:center">1100 0000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">0011 1100(O[B4]) U 1100 0000(O[B1])</td>
<td style="text-align:center">D3 D4</td>
<td style="text-align:center">D2</td>
<td style="text-align:center">1011 1100</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">1011 1100</td>
<td style="text-align:center">D7</td>
<td style="text-align:center">D1 D5</td>
<td style="text-align:center">0011 0110</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">1011 1100</td>
<td style="text-align:center">D5 D6</td>
<td style="text-align:center">D1 D8</td>
<td style="text-align:center">0011 1100</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">0011 1100 U 0011 0110</td>
<td style="text-align:center">D8</td>
<td style="text-align:center">D6</td>
<td style="text-align:center">0011 1011</td>
</tr>
</tbody>
</table>
</div>
<p>Changes occur in OUT[] of B2 B3</p>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Iteration2.jpg" alt></p>
<h3 id="Iteration-3"><a href="#Iteration-3" class="headerlink" title="Iteration 3"></a>Iteration 3</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Input</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">0000 0000</td>
<td style="text-align:center">D1 D2</td>
<td style="text-align:center">D4 D5</td>
<td style="text-align:center">1100 0000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">0011 1100(O[B4]) U 1100 0000(O[B1])</td>
<td style="text-align:center">D3 D4</td>
<td style="text-align:center">D2</td>
<td style="text-align:center">1011 1100</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">1011 1100</td>
<td style="text-align:center">D7</td>
<td style="text-align:center">D1 D5</td>
<td style="text-align:center">0011 0110</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">1011 1100</td>
<td style="text-align:center">D5 D6</td>
<td style="text-align:center">D1 D8</td>
<td style="text-align:center">0011 1100</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">0011 1100 U 0011 0110</td>
<td style="text-align:center">D8</td>
<td style="text-align:center">D6</td>
<td style="text-align:center">0011 1011</td>
</tr>
</tbody>
</table>
</div>
<p>No changes occur in any OUT[]. We get the final analysis result.</p>
<p><img src="/2022/04/26/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B03-DataFlowAnalysis1/Iteration3.jpg" alt></p>
<h2 id="Why-this-iterative-can-finally-algorithm-stop"><a href="#Why-this-iterative-can-finally-algorithm-stop" class="headerlink" title="Why this iterative can finally algorithm stop?"></a>Why this iterative can finally algorithm stop?</h2><p>$OUT[S] = gen_S U (IN[S] - kill_S)$;</p>
<ul>
<li>$gen_S$ and $kill_S$ remain unchanged</li>
<li>When more facts flow in $IN[S]$, the â€œmore factsâ€ either<ul>
<li>is killed, or</li>
<li>flows to $OUT<a href="survivor_S">S</a>$</li>
</ul>
</li>
<li>When a fact is added to $OUT[S]$, through either $gen_S$, or $survivor_S$ , it stays there forever</li>
<li>Thus $OUT[S]$ never shrinks(e.g., 0 -&gt; 1, or 1 -&gt; 1)</li>
<li>As the set of facts is finite (e.g., all definitions in the program), there must exist a pass of iteration during which nothing is added to any OUT, and then the algorithm terminates</li>
</ul>
<h2 id="Safe-to-terminate-by-this-condition"><a href="#Safe-to-terminate-by-this-condition" class="headerlink" title="Safe to terminate by this condition?"></a>Safe to terminate by this condition?</h2><ul>
<li>INâ€™s will not change if OUTâ€™s do not change</li>
<li>OUTâ€™s will not change if INâ€™s do not change</li>
<li>Reach a fixed point. Also related with monotonicity(next lectures)</li>
</ul>
]]></content>
      <categories>
        <category>è½¯ä»¶åˆ†æ</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
        <tag>Static Analysis</tag>
        <tag>Data Flow Analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>å—å¤§ã€Šè½¯ä»¶åˆ†æã€‹02.Intermediate Representation</title>
    <url>/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯å—äº¬å¤§å­¦ææ¨¾ã€è°­æ·»è€å¸ˆçš„ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹çš„ç¬”è®°ã€‚å†…å®¹æ¥è‡ªè¯¾ç¨‹pptä»¥åŠè¯¾ç¨‹è®²è§£ã€‚</p>
<blockquote>
<p>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://tai-e.pascal-lab.net/lectures.html">Static Program Analysis | Tai-e (pascal-lab.net)</a></p>
<p>æˆè¯¾è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1b7411K7P4">è§†é¢‘å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹01ï¼ˆIntroductionï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>è¯¾ç¨‹å®éªŒrepoï¼š<a href="https://github.com/pascal-lab/Tai-e-assignments">pascal-lab/Tai-e-assignments: Tai-e assignments for static program analysis (github.com)</a></p>
</blockquote>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ol>
<li>Compilers and Static Analyzers </li>
<li>AST vs. IR </li>
<li>IR: Three-Address Code (3AC) </li>
<li>3AC in Real Static Analyzer </li>
<li>Static Single Assignment (SSA) </li>
<li>Basic Blocks (BB) </li>
<li>Control Flow Graphs (CFG)</li>
</ol>
<span id="more"></span>
<h1 id="Compiler-and-Static-Analyzers"><a href="#Compiler-and-Static-Analyzers" class="headerlink" title="Compiler and Static Analyzers"></a>Compiler and Static Analyzers</h1><p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/CompilerandStaticAnalyzers.png" alt></p>
<h1 id="AST-vs-IR"><a href="#AST-vs-IR" class="headerlink" title="AST vs. IR"></a>AST vs. IR</h1><p>ASTï¼š</p>
<ul>
<li>high-level and closed to grammar structure</li>
<li>usually language dependent</li>
<li>suitable for fast type checking</li>
<li>lack of control flow information</li>
</ul>
<p>IRï¼š</p>
<ul>
<li>low-level and closed to machine code</li>
<li>usually language independent</li>
<li>compact and uniform</li>
<li>contains control flow information</li>
<li>usually considered as the basis for static analysis</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/ASTandIR.png" alt></p>
<h1 id="Intermediate-Representation-IR"><a href="#Intermediate-Representation-IR" class="headerlink" title="Intermediate Representation(IR)"></a>Intermediate Representation(IR)</h1><h2 id="3-Address-Code-3AC"><a href="#3-Address-Code-3AC" class="headerlink" title="3-Address Code(3AC)"></a>3-Address Code(3AC)</h2><p> There is at most one operator on the right side of an instruction</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">t = a + b + 3</span><br><span class="line">â†“</span><br><span class="line">t1 = a + b</span><br><span class="line">t2 = t1 + 3</span><br></pre></td></tr></table></figure>
<p>Each 3AC contains at most 3 addresses:</p>
<ul>
<li>Name: a, b</li>
<li>Constant: 3</li>
<li>Compiler-generated temporary: t1, t2</li>
</ul>
<h2 id="Some-Common-3AC-Forms"><a href="#Some-Common-3AC-Forms" class="headerlink" title="Some Common 3AC Forms"></a>Some Common 3AC Forms</h2><ul>
<li>x, y, z: addresses</li>
<li>bop: binary arithmetic or logical operation</li>
<li>uop: unary operation(minus, negation, casting)</li>
<li>L: a label to represent a program location</li>
<li>rop: relational operator(&gt;,&lt;,==,&gt;=,&lt;=, etc.)</li>
<li>goto L: unconditional jump</li>
<li>if â€¦ goto L: conditional jump</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x = y bop z</span><br><span class="line">x = uop y</span><br><span class="line">x = y</span><br><span class="line">goto L</span><br><span class="line">if x goto L</span><br><span class="line">if x rop y goto L</span><br></pre></td></tr></table></figure>
<h1 id="Soot-and-Its-IR-Jimple"><a href="#Soot-and-Its-IR-Jimple" class="headerlink" title="Soot and Its IR: Jimple"></a>Soot and Its IR: Jimple</h1><p>Soot: Most popular static analysis framework for Java </p>
<blockquote>
<p><a href="https://github.com/Sable/soot/wiki/Tutorials">https://github.com/Sable/soot/wiki/Tutorials</a> </p>
<p><a href="https://github.com/Sable/soot">https://github.com/Sable/soot</a> </p>
</blockquote>
<p>Sootâ€™s IR is Jimple: typed 3-address code</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java Src</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForLoop3AC</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">            x = x + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3AC(jimple)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(java.lang.String[])</span></span><br><span class="line">&#123;</span><br><span class="line">    java.lang.String[] r0;</span><br><span class="line">    <span class="type">int</span> i1;</span><br><span class="line">    </span><br><span class="line">    r0 := <span class="meta">@parameter0</span>: java.lang.String[];</span><br><span class="line">    i1 = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">label1:</span><br><span class="line">    <span class="keyword">if</span> i1 &gt;= <span class="number">10</span> goto label2;</span><br><span class="line">    i1 = i1 + <span class="number">1</span>;</span><br><span class="line">    goto label1;</span><br><span class="line"></span><br><span class="line">label2:</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java Src</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DoWhileLoop3AC</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            i = i + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">while</span> (arr[i] &lt; <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3AC(jimple)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(java.lang.String[])</span></span><br><span class="line">&#123;</span><br><span class="line">    java.lang.String[] r0;</span><br><span class="line">    <span class="type">int</span>[] r1;</span><br><span class="line">    <span class="type">int</span> $i0, i1;</span><br><span class="line">    </span><br><span class="line">    r0 := <span class="meta">@parameter0</span>: java.lang.String[];</span><br><span class="line">    r1 = newarray (<span class="type">int</span>)[<span class="number">10</span>];</span><br><span class="line">    i1 = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">label1:</span><br><span class="line">    i1 = i1 + <span class="number">1</span>;</span><br><span class="line">    $i0 = r1[i1];</span><br><span class="line">    <span class="keyword">if</span> $i0 &lt; <span class="number">10</span> goto label1;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java Src</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForLoop3AC</span> &#123;</span><br><span class="line">    String <span class="title function_">foo</span><span class="params">(String para1, String para2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> para1 + <span class="string">&quot; &quot;</span> + para2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">MethodCall3AC</span> <span class="variable">mc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MethodCall3AC</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> mc.foo(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3AC(jimple)</span></span><br><span class="line">java.lang.String <span class="title function_">foo</span><span class="params">(java.lang.String, java.lang.String)</span></span><br><span class="line">&#123;</span><br><span class="line">	nju.sa.examples.MethodCal13AC r0;</span><br><span class="line">	java.lang.String r1, r2, $r7;</span><br><span class="line">	java.lang.StringBuilder $r3, $r4, $r5, $r6;</span><br><span class="line">	r0 := <span class="meta">@this</span>: nju.sa.examples.MethodCall3AC;</span><br><span class="line">	r1 := <span class="meta">@parameter0</span>: java.lang.String;</span><br><span class="line">	r2 := <span class="meta">@parameter1</span>: java.lang.String;</span><br><span class="line">	$r3 = <span class="keyword">new</span> <span class="title class_">java</span>.lang.StringBuilder;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// method signature &lt;&gt;</span></span><br><span class="line">    specialinvoke $r3.&lt;java.lang.StringBuilder: <span class="keyword">void</span> &lt;init&gt;()&gt;();</span><br><span class="line">	$r4 = virtualinvoke $r3.&lt;java.lang.StringBuilder: java.lang.StringBuilder <span class="title function_">append</span><span class="params">(java.lang.String)</span>&gt;(r1);</span><br><span class="line">    $r5 = virtualinoke $r4.&lt;java.lang.StringBuilder: java.lang.StringBuilder append java.lang.String)&gt;(<span class="string">&quot; &quot;</span>);</span><br><span class="line">    $r6 = virtualinvoke $r5.&lt;java.lang.StringBuilder: java.lang.StringBuilder <span class="title function_">append</span><span class="params">(java.lang.String)</span>&gt;(r2);</span><br><span class="line">    $r7 = virtualinvoke $r6.&lt;java.lang.StringBuilder: java.lang.String <span class="title function_">toString</span><span class="params">()</span>&gt;();</span><br><span class="line">    <span class="keyword">return</span> $r7;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(java.lang.String[])</span></span><br><span class="line">&#123;</span><br><span class="line">	java.lang.String[] r0;</span><br><span class="line">    nju.sa.examples.MethodCall3AC $r3;</span><br><span class="line">    </span><br><span class="line">    r0 := <span class="meta">@parameter0</span>: java.lang.String[]; </span><br><span class="line">    $r3 = <span class="keyword">new</span> <span class="title class_">nju</span>.sa.example.MethodCall3AC;</span><br><span class="line">    </span><br><span class="line">    specialinvoke $r3.&lt;nju.sa.example.MethodCall3AC: <span class="keyword">void</span> &lt;init&gt;()&gt;();</span><br><span class="line">    virtualinvoke $r3.&lt;nju.sa.example.MethodCall3AC: java.lang.String <span class="title function_">foo</span><span class="params">(java.lang.String, java.lang.String)</span>&gt;(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>invokespecial: call constructor, call superclass methods, call private methods</p>
<p>invokevirutal: instance methods call (virtual dispatch)</p>
<p>invokeinterface: cannot optimizationï¼Œchecking interface implementation</p>
<p>invokestatic: call static methods</p>
<p>Java 7: invokedynamic -&gt; Java static typing , dynamic language runs on JVM</p>
<p>method signature: class name, return type, method name(parameter types)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java Src</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Class3AC</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">pi</span> <span class="operator">=</span> <span class="number">3.14</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3AC(jimple)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">nju</span>.sa.examples.Class3AC <span class="keyword">extends</span> <span class="title class_">java</span>.lang.Object</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> pi;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> &lt;init&gt;()</span><br><span class="line">	&#123;</span><br><span class="line">		nju.sa.examples.Class3AC r0;</span><br><span class="line">		r0 := <span class="meta">@this</span>: nju.sa.examples.Class3AC;</span><br><span class="line">		specialinvoke r0.&lt;java.lang.0bject: <span class="keyword">void</span> &lt;init&gt;()&gt;();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(java.lang.String[])</span></span><br><span class="line">	&#123;</span><br><span class="line">		java.lang.String[] r0;</span><br><span class="line">		r0 := <span class="meta">@parameter0</span>: java.lang.String[];</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> &lt;clinit&gt;()</span><br><span class="line">	&#123;</span><br><span class="line">		&lt;nju.sa.examples.Class3AC: <span class="type">double</span> pi&gt; = <span class="number">3.14</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Static-Single-Assignment-SSA"><a href="#Static-Single-Assignment-SSA" class="headerlink" title="Static Single Assignment(SSA)"></a>Static Single Assignment(SSA)</h1><ul>
<li>All assignments in SSA are to variables with distinct names<ul>
<li>Give each definition a fresh name</li>
<li>Propagate fresh name to subsequent uses</li>
<li>Every variable has exactly on definition</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>3AC</th>
<th>SSA</th>
</tr>
</thead>
<tbody>
<tr>
<td>p = a + b</td>
<td>p1 = a + b</td>
</tr>
<tr>
<td>q = p - c</td>
<td>q1 = p1 - c</td>
</tr>
<tr>
<td>p = q * d</td>
<td>p2 = q1 * d</td>
</tr>
<tr>
<td>p = e - p</td>
<td>p3 = e - p2</td>
</tr>
<tr>
<td>q = p + q</td>
<td>q2 = p3 + q1</td>
</tr>
</tbody>
</table>
</div>
<p>What if a variable use is at control flow merges?</p>
<ul>
<li>A special merge operator,$\phi$ (called phi-function), is introduced to select the values at merge nodes</li>
<li>$\phi(x0, x1)$has the value x0 if the control flow passes through the true part of the conditional and the value x1 otherwise</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/SSA.png" alt></p>
<p>Why SSA?</p>
<ul>
<li><p>Flow information is indirectly incorporated into the unique variable names</p>
<p>May help deliver some simpler analyses, e.g., flow-insensitive analysis gains partial precision of flow-sensitive analysis via SSA</p>
</li>
<li><p>Define-and-Use pairs are explicit</p>
<p>Enable more effective data facts storage and propagation in some on-demand tasks </p>
<p>Some optimization tasks perform better on SSA (e.g., conditional constant propagation, global value numbering)</p>
</li>
</ul>
<p>Why not SSA?</p>
<ul>
<li>may introduce too many variables and phi-functions</li>
<li>May introduce inefficiency problem when translating to machine code (due to copy operationsï¼‰</li>
</ul>
<h1 id="Control-Flow-Analysis"><a href="#Control-Flow-Analysis" class="headerlink" title="Control Flow Analysis"></a>Control Flow Analysis</h1><ul>
<li>Usually refer to building Control Flow Graph (CFG) </li>
<li>CFG serves as the basic structure for static analysis </li>
<li>The node in CFG can be an individual 3-address instruction, or (usually) a Basic Block (BB)</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/CFG.png" alt></p>
<h1 id="Basic-Blocks-BB"><a href="#Basic-Blocks-BB" class="headerlink" title="Basic Blocks(BB)"></a>Basic Blocks(BB)</h1><p>Basic block(BB) are maximal sequences of consecutive three-address instruction with theproperties that</p>
<ul>
<li>It can be entered only at the beginning, i.e., the first instruction in the block </li>
<li>It can be exited only at the end, i.e., the last instruction in the block</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/BB.png" alt></p>
<h1 id="Design-the-algorithm-to-build-BBs"><a href="#Design-the-algorithm-to-build-BBs" class="headerlink" title="Design the algorithm to build BBs"></a>Design the algorithm to build BBs</h1><h2 id="How-to-build-Basic-Blocks"><a href="#How-to-build-Basic-Blocks" class="headerlink" title="How to build Basic Blocks?"></a>How to build Basic Blocks?</h2><p>INPUT: A sequence of three-address instructions of P </p>
<p>OUTPUT: A list of basic blocks of P </p>
<p>METHOD: </p>
<ol>
<li>Determine the leaders in P<ul>
<li>The first instruction in P is a leader</li>
<li>Any target instruction of a conditional or unconditional jump is a leader </li>
<li>Any instruction that immediately follows a conditional or unconditional jump is a leader</li>
</ul>
</li>
<li>Build BBs for P<ul>
<li>A BB consists of a leader and all its subsequent instructions until the next leader</li>
</ul>
</li>
</ol>
<p>Example: </p>
<p>Input: 3AC of P</p>
<ol>
<li>x = input</li>
<li>y = x - 1</li>
<li>z = x * y</li>
<li>if z &lt; x goto (7)</li>
<li>p = x / y</li>
<li>q = p + y</li>
<li>a = q</li>
<li>b = x + a</li>
<li>c = 2a - b</li>
<li>if p == q goto 12</li>
<li>goto 3</li>
<li>return </li>
</ol>
<p>Output: BBs of P</p>
<ol>
<li>Determine the leaders of P<ul>
<li>(1) (first instruction)</li>
<li>(3) (7) (12) (target instruction of a conditional or unconditional jump)</li>
<li>(5) (11) (12) (instruction that follows a conditional or unconditional jump)</li>
</ul>
</li>
<li>Build BBs of P<ul>
<li>B1 {(1), (2)}</li>
<li>B2 {(3), (4)}</li>
<li>B3 {(5), (6)}</li>
<li>B4 {(7), (8), (9), (10)}</li>
<li>B5 {(11)}</li>
<li>B6 {(12)}</li>
</ul>
</li>
</ol>
<h1 id="Control-Flow-Graph-CFG"><a href="#Control-Flow-Graph-CFG" class="headerlink" title="Control Flow Graph(CFG)"></a>Control Flow Graph(CFG)</h1><ul>
<li>The nodes of CFG are basic blocks</li>
<li>There is an edge from block A to block B if and only if<ul>
<li>There is a conditional or unconditional jump from the end of A to the beginning of B</li>
<li>B immediately follows A in the original order of instructions an A does not end in an unconditional jump</li>
</ul>
</li>
<li>It is normal to replace the jumps to instruction lables by jumps to basic blocks</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/CFGedge.png" alt></p>
<p>So, we can get:</p>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/CFG2.png" alt></p>
<p>And Usually we add two nodes, Entry and Exit. </p>
<ul>
<li>They do not correspond to executable IR</li>
<li>A edge from Entry to the BB containing the first instruction of IR</li>
<li>A edge to Exit from any BB containing an instruction that could be the last instruction of IR</li>
</ul>
<p><img src="/2022/04/25/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B02-IntermediateRepresentation/CFG3.png" alt></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åˆ†æ</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
        <tag>Static Analysis</tag>
        <tag>IR</tag>
        <tag>3AC</tag>
        <tag>SSA</tag>
        <tag>Basic Block</tag>
      </tags>
  </entry>
  <entry>
    <title>å—å¤§ã€Šè½¯ä»¶åˆ†æã€‹04.Data Flow Analysis - Applications II</title>
    <url>/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯å—äº¬å¤§å­¦ææ¨¾ã€è°­æ·»è€å¸ˆçš„ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹çš„ç¬”è®°ã€‚å†…å®¹æ¥è‡ªè¯¾ç¨‹pptä»¥åŠè¯¾ç¨‹è®²è§£ã€‚</p>
<blockquote>
<p>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://tai-e.pascal-lab.net/lectures.html">Static Program Analysis | Tai-e (pascal-lab.net)</a></p>
<p>æˆè¯¾è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1b7411K7P4">è§†é¢‘å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹01ï¼ˆIntroductionï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>è¯¾ç¨‹å®éªŒrepoï¼š<a href="https://github.com/pascal-lab/Tai-e-assignments">pascal-lab/Tai-e-assignments: Tai-e assignments for static program analysis (github.com)</a></p>
</blockquote>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ol>
<li>Overview of Data Flow Analysis </li>
<li>Preliminaries of Data Flow Analysis </li>
<li>Reaching Definitions Analysis </li>
<li>Live Variables Analysis </li>
<li>Available Expressions Analysis</li>
</ol>
<span id="more"></span>
<h1 id="Live-Variables-Analysis"><a href="#Live-Variables-Analysis" class="headerlink" title="Live Variables Analysis"></a>Live Variables Analysis</h1><h2 id="Live-Variables-Analysis-1"><a href="#Live-Variables-Analysis-1" class="headerlink" title="Live Variables Analysis"></a>Live Variables Analysis</h2><p>Live variables analysis tells whether the value of variable v at program point p could be used along some path in CFG starting at p. If so, v is live at p; otherwise, v is dead at p.</p>
<ul>
<li>Information of live variables can be used for register allocations. e.g., at some point all registers are full and we need to use one, then we should favor using a register with a dead value.</li>
</ul>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/LiveVariablesAnalysis.jpg" alt></p>
<h2 id="Understanding-Live-Variables-Analysis"><a href="#Understanding-Live-Variables-Analysis" class="headerlink" title="Understanding Live Variables Analysis"></a>Understanding Live Variables Analysis</h2><p>Abstraction</p>
<ul>
<li><p>Data Flow Values/Facts</p>
<ul>
<li><p>All the variables in a program</p>
</li>
<li><p>Can be represented by bit vertors</p>
<p>e.g., V1, V2, V3, V4, â€¦, V100(100 variables)</p>
<p>$\underbrace{0000â€¦0}_{100}$</p>
<p>Bit i from the left represents variable Vi</p>
</li>
</ul>
</li>
</ul>
<p>Safe-approximation</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/TransferFunction.png" alt></p>
<h2 id="Algorithm-of-Live-Variables-Analysis"><a href="#Algorithm-of-Live-Variables-Analysis" class="headerlink" title="Algorithm of Live Variables Analysis"></a>Algorithm of Live Variables Analysis</h2><p>INPUT: CFGï¼ˆ$def_B$ and $use_B$ computed for each basic block Bï¼‰</p>
<p>OUTPUT: $IN[B]$ and $OUT[B]$ for each basic block B</p>
<p>METHOD: <img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Algorithm.jpg" alt></p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Example.jpg" alt></p>
<h3 id="Iteration-0-Init"><a href="#Iteration-0-Init" class="headerlink" title="Iteration 0(Init)"></a>Iteration 0(Init)</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">OUTPUT</th>
<th style="text-align:center">use</th>
<th style="text-align:center">def</th>
<th style="text-align:center">INPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">exit</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Init.jpg" alt></p>
<h3 id="Iteration-1"><a href="#Iteration-1" class="headerlink" title="Iteration 1"></a>Iteration 1</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">OUTPUT</th>
<th style="text-align:center">use</th>
<th style="text-align:center">def</th>
<th style="text-align:center">INPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">exit</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">000 0000</td>
<td style="text-align:center">p</td>
<td style="text-align:center">z</td>
<td style="text-align:center">000 1000</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">000 0000 U 000 1000</td>
<td style="text-align:center">y</td>
<td style="text-align:center">x q</td>
<td style="text-align:center">010 1000</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">000 1000</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
<td style="text-align:center">100 1000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">010 1000 U 100 1000</td>
<td style="text-align:center">k</td>
<td style="text-align:center">m y</td>
<td style="text-align:center">100 1001</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">100 1001</td>
<td style="text-align:center">p q z</td>
<td style="text-align:center">y x</td>
<td style="text-align:center">001 1101</td>
</tr>
</tbody>
</table>
</div>
<p>Changes occur in IN[] of B1, B2, B3, B4, B5</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Iteration1.jpg" alt></p>
<h3 id="Iteration-2"><a href="#Iteration-2" class="headerlink" title="Iteration 2"></a>Iteration 2</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">OUTPUT</th>
<th style="text-align:center">use</th>
<th style="text-align:center">def</th>
<th style="text-align:center">INPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">exit</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">000 0000</td>
<td style="text-align:center">p</td>
<td style="text-align:center">z</td>
<td style="text-align:center">000 1000</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">100 1001 U 000 1000</td>
<td style="text-align:center">y</td>
<td style="text-align:center">x q</td>
<td style="text-align:center">010 1001</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">000 1000</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
<td style="text-align:center">100 1000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">010 1001 U 100 1000</td>
<td style="text-align:center">k</td>
<td style="text-align:center">m y</td>
<td style="text-align:center">100 1001</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">100 1001</td>
<td style="text-align:center">p q z</td>
<td style="text-align:center">y x</td>
<td style="text-align:center">001 1101</td>
</tr>
</tbody>
</table>
</div>
<p>Changes orrcur in IN[] of B4</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Iteration2.jpg" alt></p>
<h3 id="Iteration-3"><a href="#Iteration-3" class="headerlink" title="Iteration 3"></a>Iteration 3</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">OUTPUT</th>
<th style="text-align:center">use</th>
<th style="text-align:center">def</th>
<th style="text-align:center">INPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">exit</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">000 0000</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">000 0000</td>
<td style="text-align:center">p</td>
<td style="text-align:center">z</td>
<td style="text-align:center">000 1000</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">100 1001 U 000 1000</td>
<td style="text-align:center">y</td>
<td style="text-align:center">x q</td>
<td style="text-align:center">010 1001</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">000 1000</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
<td style="text-align:center">100 1000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">010 1001 U 100 1000</td>
<td style="text-align:center">k</td>
<td style="text-align:center">m y</td>
<td style="text-align:center">100 1001</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">100 1001</td>
<td style="text-align:center">p q z</td>
<td style="text-align:center">y x</td>
<td style="text-align:center">001 1101</td>
</tr>
</tbody>
</table>
</div>
<p>No changes occur in any IN[]</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Iteration3.jpg" alt></p>
<h1 id="Avaliable-Expression-Analysis"><a href="#Avaliable-Expression-Analysis" class="headerlink" title="Avaliable Expression Analysis"></a>Avaliable Expression Analysis</h1><h2 id="Avaliable-Expression-Analysis-1"><a href="#Avaliable-Expression-Analysis-1" class="headerlink" title="Avaliable Expression Analysis"></a>Avaliable Expression Analysis</h2><p>An expression x op y is available at program point p if (1) all paths from the entry to p must pass through the evaluation of x op y, and (2) after the last evaluation of x op y, there is no redefinition of x or y</p>
<ul>
<li>This definition means at program p, we can replace expression x op y by the result of its last evaluation</li>
<li>The information of available expressions can be used for detecting global common subexpressions</li>
</ul>
<h2 id="Understanding-Avaliable-Expression-Analysis"><a href="#Understanding-Avaliable-Expression-Analysis" class="headerlink" title="Understanding Avaliable Expression Analysis"></a>Understanding Avaliable Expression Analysis</h2><p>Abstraction</p>
<ul>
<li><p>Data Flow Values/Facts </p>
<ul>
<li><p>All the expressions in a program</p>
</li>
<li><p>Can be represented by bit vectors </p>
<p>e.g., E1, E2, E3, E4, â€¦, E100 (100 expressions)</p>
<p>$\underbrace{0000â€¦0}_{100}$</p>
<p>Bit i from the left represents expression Ei</p>
</li>
</ul>
</li>
</ul>
<p>Safe-approximation</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Safe-approximation.png" alt></p>
<ul>
<li>Add to OUT the expression x op y(gen)</li>
<li>Delete from IN any expression involving variable a(kill)</li>
</ul>
<p>$OUT[B] = gen_B \cup(IN[B] - kill_B)$</p>
<p>$IN[B] = \cap_{P~a~predecessor~of~B }OUT[P]$</p>
<p>$\cap$ : All paths from entry to point p must pass through the evaluation of x op y</p>
<p>For safety of the analysis, it may report an expression as unavailable even if it is availabe(must analysis -&gt; under-approximation)</p>
<h2 id="Algorithm-of-Avaliable-Expressions-Analysis"><a href="#Algorithm-of-Avaliable-Expressions-Analysis" class="headerlink" title="Algorithm of Avaliable Expressions Analysis"></a>Algorithm of Avaliable Expressions Analysis</h2><p>INPUT: CFG($kill_B$ and $gen_B$ computed for each basic block B)</p>
<p>OUTPUT: IN[B] and OUT[B] for each basic block B</p>
<p>METHOD:<img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Algorithm2.png" alt></p>
<h2 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h2><h3 id="Iteration-0-Init-1"><a href="#Iteration-0-Init-1" class="headerlink" title="Iteration 0(Init)"></a>Iteration 0(Init)</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">INPUT</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">OUTPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">entry</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">00000</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">11111</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">11111</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">11111</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">11111</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">11111</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Init2.jpg" alt></p>
<h3 id="Iteration-1-1"><a href="#Iteration-1-1" class="headerlink" title="Iteration 1"></a>Iteration 1</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">INPUT</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">OUTPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">entry</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">00000</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">00000</td>
<td style="text-align:center">p-1</td>
<td style="text-align:center">y</td>
<td style="text-align:center">10000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">11111 $\cap$ 10000</td>
<td style="text-align:center">z/5  $e^7*x$</td>
<td style="text-align:center">k,p</td>
<td style="text-align:center">01010</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">01010</td>
<td style="text-align:center">y + 3</td>
<td style="text-align:center">z</td>
<td style="text-align:center">00011</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">01010</td>
<td style="text-align:center">2*y $e^7*x$</td>
<td style="text-align:center">x q</td>
<td style="text-align:center">01110</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">00011 $\cap$ 01110</td>
<td style="text-align:center">$e^7*x$ z/5</td>
<td style="text-align:center">m y</td>
<td style="text-align:center">01010</td>
</tr>
</tbody>
</table>
</div>
<p>Changes occur in OUT[] of B1 B2 B3 B4 B5</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Iteration1_2.jpg" alt></p>
<h3 id="Iteration-2-1"><a href="#Iteration-2-1" class="headerlink" title="Iteration 2"></a>Iteration 2</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">INPUT</th>
<th style="text-align:center">gen</th>
<th style="text-align:center">kill</th>
<th style="text-align:center">OUTPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">entry</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">00000</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:center">00000</td>
<td style="text-align:center">p-1</td>
<td style="text-align:center">y</td>
<td style="text-align:center">10000</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:center">01110 $\cap$ 10000</td>
<td style="text-align:center">z/5  $e^7*x$</td>
<td style="text-align:center">k,p</td>
<td style="text-align:center">01010</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:center">01010</td>
<td style="text-align:center">y + 3</td>
<td style="text-align:center">z</td>
<td style="text-align:center">00011</td>
</tr>
<tr>
<td style="text-align:center">B4</td>
<td style="text-align:center">01010</td>
<td style="text-align:center">2*y $e^7*x$</td>
<td style="text-align:center">x q</td>
<td style="text-align:center">01110</td>
</tr>
<tr>
<td style="text-align:center">B5</td>
<td style="text-align:center">00011 $\cap$ 01110</td>
<td style="text-align:center">$e^7*x$ z/5</td>
<td style="text-align:center">m y</td>
<td style="text-align:center">01010</td>
</tr>
</tbody>
</table>
</div>
<p>No changes occur in any OUT[]</p>
<p><img src="/2022/04/27/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B04-DataFlowAnalysis2/Iteration2_2.jpg" alt></p>
<h1 id="Analysis-Comparison"><a href="#Analysis-Comparison" class="headerlink" title="Analysis Comparison"></a>Analysis Comparison</h1><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Reaching Definitions</th>
<th style="text-align:center">Live Variables</th>
<th style="text-align:center">Available Expressions</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Domain</td>
<td style="text-align:center">Set of definitions</td>
<td style="text-align:center">Set of variables</td>
<td style="text-align:center">Set of expressions</td>
</tr>
<tr>
<td style="text-align:center">Direction</td>
<td style="text-align:center">Forwards</td>
<td style="text-align:center">Backwards</td>
<td style="text-align:center">Forwards</td>
</tr>
<tr>
<td style="text-align:center">Mat/Must</td>
<td style="text-align:center">May</td>
<td style="text-align:center">May</td>
<td style="text-align:center">Must</td>
</tr>
<tr>
<td style="text-align:center">Boundary</td>
<td style="text-align:center">$OUT[entry]=\phi$</td>
<td style="text-align:center">$IN[exit]=\phi$</td>
<td style="text-align:center">$OUT[entry]=\phi$</td>
</tr>
<tr>
<td style="text-align:center">Initialization</td>
<td style="text-align:center">$OUT[B]=\phi$</td>
<td style="text-align:center">$IN[B]=\phi$</td>
<td style="text-align:center">$OUT[B]=\cup$</td>
</tr>
<tr>
<td style="text-align:center">Transfer function</td>
<td style="text-align:center">$OUT=gen\cup(IN-kill)$</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">Meet</td>
<td style="text-align:center">$\cup$</td>
<td style="text-align:center">$\cup$</td>
<td style="text-align:center">$\cap$</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <categories>
        <category>è½¯ä»¶åˆ†æ</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
        <tag>Static Analysis</tag>
        <tag>Data Flow Analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>å—å¤§ã€Šè½¯ä»¶åˆ†æã€‹05.Data Flow Analysis Foundation I</title>
    <url>/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯å—äº¬å¤§å­¦ææ¨¾ã€è°­æ·»è€å¸ˆçš„ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹çš„ç¬”è®°ã€‚å†…å®¹æ¥è‡ªè¯¾ç¨‹pptä»¥åŠè¯¾ç¨‹è®²è§£ã€‚</p>
<blockquote>
<p>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://tai-e.pascal-lab.net/lectures.html">Static Program Analysis | Tai-e (pascal-lab.net)</a></p>
<p>æˆè¯¾è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1b7411K7P4">è§†é¢‘å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹01ï¼ˆIntroductionï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>è¯¾ç¨‹å®éªŒrepoï¼š<a href="https://github.com/pascal-lab/Tai-e-assignments">pascal-lab/Tai-e-assignments: Tai-e assignments for static program analysis (github.com)</a></p>
</blockquote>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ol>
<li>Iterative Algorithm, Another View</li>
<li>Partial Order</li>
<li>Upper and Lower Bounds</li>
<li>Lattice, Semilattice, Complete and Product Lattice </li>
<li>Data Flow Analysis Framework via Lattice</li>
<li>Monotonicity and Fixed Point Theorem</li>
<li>Relate Iterative Algorithm to Fixed Point Theorem</li>
<li>May/Must Analysis, A Lattice View</li>
<li>MOP and Distributivity</li>
<li>Constant Propagation</li>
<li>Worklist Algorithm</li>
</ol>
<span id="more"></span>
<h1 id="Iterative-Algorithm-Anthor-View"><a href="#Iterative-Algorithm-Anthor-View" class="headerlink" title="Iterative Algorithm, Anthor View"></a>Iterative Algorithm, Anthor View</h1><ul>
<li><p>Given a CFG (program) with k nodes, the iterative algorithm updates OUT[n] for every node n in each iteration. </p>
</li>
<li><p>Assume the domain of the values in data flow analysis is V, then we can define a k-tuple</p>
<p>$(OUT[n_1], OUT[n_2], â€¦, OUT[n_k])$</p>
<p>as an element of set $(V_1 Ã— V_2 Ã— â€¦ Ã— V_3)$denoted as $V^k$ , to hold the values of the analysis after each iteration</p>
</li>
<li><p>Each iteration can be considered as taking an action to map an element of Vk to a new element of Vk , through applying the transfer functions and control-flow handing, abstracted as a function$F: V^k \rightarrow V^k$</p>
</li>
<li><p>Then the algorithm outputs a series of k-tuples iteratively until a k-tuple is the same as the last one in two consecutive iterations</p>
</li>
</ul>
<p>Given a CFG (program) with $k$ nodes, the iterative algorithm updates $OUT[n]$ for every node n in each iteration.</p>
<p>Each iteration takes an action$F: V^k \rightarrow V^k$</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/IterationAlgorithm.jpg" alt></p>
<ul>
<li>init â†’ $(\bot, \bot â€¦, \bot) = X_0$</li>
<li>iter 1 â†’ $(v_1^1, v_2^1, â€¦, v_k^1) = X_1 = F(X_0)$</li>
<li>iter 2 â†’ $(v_1^2, v_2^2, â€¦, v_k^2) = X_2 = F(X_1)$</li>
<li>â€¦</li>
<li>iter i â†’ $(v<em>1^i, v_2^i, â€¦, v_k^i) = X_i = F(X</em>{i-1})\because X<em>i=X</em>{i+1}$ </li>
<li>iter i+1 â†’ $(v<em>1^i, v_2^i, â€¦, v_k^i) = X</em>{i+1} = F(X<em>{i})\therefore X_i=X</em>{i+1}=F(X_i)$</li>
</ul>
<p>X is a fied of function F if $X=F(X)$</p>
<p>The iterative algorithm reaches a fixed point</p>
<p>The iterative algorithm (or the IN/OUT equation system) produces a solution to a data flow analysis</p>
<ul>
<li>Is the algorithm guaranteed to terminate or reach the fixed point, or does it always have a solution?</li>
<li>If so, is there only one solution or only one fixed point? If more than one, is our solution the best one (most precise)?</li>
<li>When will the algorithm reach the fixed point, or when can we get the solution?</li>
</ul>
<h1 id="Partial-Order"><a href="#Partial-Order" class="headerlink" title="Partial Order"></a>Partial Order</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>We define poset as a pair (P, âŠ‘) where âŠ‘ is a binary relation that defines a partial ordering over P, and âŠ‘ has the following properties:</p>
<ol>
<li>âˆ€x âˆˆ P, x âŠ‘ x (Reflexivity)</li>
<li>âˆ€x, y âˆˆ P, x âŠ‘ y âˆ§ y âŠ‘ x âŸ¹ x = y (Antisymmetry)</li>
<li>âˆ€x, y, z âˆˆ P, x âŠ‘ y âˆ§ y âŠ‘ z âŸ¹ x âŠ‘ z (Transitivity)</li>
</ol>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h3><p>Is (S, âŠ‘) a poset where S is a set of integers and âŠ‘ represents â‰¤ (less than or equal to)?</p>
<ol>
<li>Reflexivity 1 â‰¤ 1ï¼Œ 2 â‰¤ 2 âˆš</li>
<li>Antisymmetry x â‰¤ y âˆ§ y â‰¤ x then x = y  âˆš</li>
<li>Transitivity 1 â‰¤ 2 âˆ§ 2 â‰¤ 3 then 1 â‰¤ 3  âˆš</li>
</ol>
<h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h3><p>Is (S, âŠ‘) a poset where S is a set of integers and âŠ‘ represents &lt; (less than)?</p>
<p>(1) Reflexivity 1 &lt; 1, 2&lt; 2  Ã—</p>
<h3 id="Example-3"><a href="#Example-3" class="headerlink" title="Example 3"></a>Example 3</h3><p>Is (S, âŠ‘) a poset where S is a set of English words and âŠ‘ represents the substring relation, i.e., s1 âŠ‘ s2 means s1 is a substring of s2?</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/StringExample.jpg" alt></p>
<ol>
<li>Reflexivity âˆš</li>
<li>Antisymmetry âˆš</li>
<li>Transitivity âˆš</li>
</ol>
<h3 id="Example-4"><a href="#Example-4" class="headerlink" title="Example 4"></a>Example 4</h3><p> Is (S, âŠ‘) a poset where S is the power set of set {a,b,c} and âŠ‘ represents âŠ† (subset)?</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/SubSetExample.jpg" alt></p>
<ol>
<li>Reflexivity âˆš</li>
<li>Antisymmetry âˆš</li>
<li>Transitivity âˆš</li>
</ol>
<h1 id="Upper-and-Lower-Bounds"><a href="#Upper-and-Lower-Bounds" class="headerlink" title="Upper and Lower Bounds"></a>Upper and Lower Bounds</h1><p>Given a poset (P, âŠ‘) and its subset S that S âŠ† P, we say that u âˆˆ P is an upper bound of S, if âˆ€x âˆˆ S, x âŠ‘ u. Similarly, l âˆˆ P is an lower bound of S, if âˆ€x âˆˆ S, l âŠ‘ x.</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/UPandLowBound.png" alt></p>
<p>We define the least upper bound (lub or join) of S, written âŠ”S, if for every upper bound of S, say u, âŠ”S âŠ‘ u. Similarly, We define the greatest lower bound (glb, or meet) of S, written âŠ“S, if for every lower bound of S, say l, l âŠ‘ âŠ“S.</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/LubGlb.png" alt></p>
<p>Usually, if S contains only two elements a and b (S = {a, b}), then âŠ”S can be written a âŠ” b (the join of a and b) âŠ“S can be written a âŠ“ b (the meet of a and b)</p>
<h2 id="Some-Properties"><a href="#Some-Properties" class="headerlink" title="Some Properties"></a>Some Properties</h2><ul>
<li><p>Not every poset has lub or glb</p>
</li>
<li><p>But if a poset has lub or glb, it will be unique</p>
<p>Proof:</p>
<p>assume g1 and g2 are both glbs of poset P </p>
<p>according to the definition of glb </p>
<p>g1 âŠ‘ (g2 = âŠ“P) and g2 âŠ‘ (g1 = âŠ“P) </p>
<p>by the antisymmetry of partial order âŠ‘ </p>
<p>g1 = g2</p>
</li>
</ul>
<h1 id="Lattice-Semilattice-Complete-and-Product-Lattice"><a href="#Lattice-Semilattice-Complete-and-Product-Lattice" class="headerlink" title="Lattice, Semilattice, Complete and Product Lattice"></a>Lattice, Semilattice, Complete and Product Lattice</h1><h2 id="Lattice"><a href="#Lattice" class="headerlink" title="Lattice"></a>Lattice</h2><p>Given a poset (P, âŠ‘), âˆ€a, b âˆˆ P, if a âŠ” b and a âŠ“ b exist, then (P, âŠ‘) is called a lattice</p>
<p>A poset is a lattice if every pair of its elements has a least upper bound and a greatest lower bound</p>
<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><h4 id="Example-1-1"><a href="#Example-1-1" class="headerlink" title="Example 1"></a>Example 1</h4><p>Is (S, âŠ‘) a lattice where S is a set of integers and âŠ‘ represents â‰¤ (less than or equal to)?</p>
<p>The âŠ” operator means â€œmaxâ€ and âŠ“ operator means â€œminâ€ âˆš</p>
<h4 id="Example-2-1"><a href="#Example-2-1" class="headerlink" title="Example 2"></a>Example 2</h4><p>s (S, âŠ‘) a lattice where S is a set of English words and âŠ‘ represents the substring relation, i.e., s1 âŠ‘ s2 means s1 is a substring of s2?</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/StringExample.jpg" alt></p>
<p>pin âŠ” sin = ? Ã—</p>
<h4 id="Example-3-1"><a href="#Example-3-1" class="headerlink" title="Example 3"></a>Example 3</h4><p> Is (S, âŠ‘) a lattice where S is the power set of set {a,b,c} and âŠ‘ represents âŠ† (subset)?</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/SubSetExample.jpg" alt></p>
<p>The âŠ” operator means âˆª and âŠ“ operator means âˆ© âˆš</p>
<h2 id="Semilattice"><a href="#Semilattice" class="headerlink" title="Semilattice"></a>Semilattice</h2><p>Given a poset (P, âŠ‘), âˆ€a, b âˆˆ P, if only a âŠ” b exists, then (P, âŠ‘) is called a join semilattice if only a âŠ“ b exists, then (P, âŠ‘) is called a meet semilattice</p>
<h2 id="Complete-Lattice"><a href="#Complete-Lattice" class="headerlink" title="Complete Lattice"></a>Complete Lattice</h2><p>Given a lattice (P, âŠ‘), for arbitrary subset S of P, if âŠ”S and âŠ“S exist, then (P, âŠ‘) is called a complete lattice</p>
<p>All subsets of a lattice have a least upper bound and a greatest lower bound</p>
<h2 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h2><h3 id="Example-1-2"><a href="#Example-1-2" class="headerlink" title="Example 1"></a>Example 1</h3><p>Is (S, âŠ‘) a complete lattice where S is a set of integers and âŠ‘ represents â‰¤ (less than or equal to)?</p>
<p>For a subset $S^+$ including all positive integers, it has no âŠ”$S^+$ (+âˆ)</p>
<h3 id="Example-2-2"><a href="#Example-2-2" class="headerlink" title="Example 2"></a>Example 2</h3><p>Is (S, âŠ‘) a complete lattice where S is the power set of set {a,b,c} and âŠ‘ represents âŠ† (subset)?</p>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/SubSetExample.jpg" alt></p>
<p>âˆš</p>
<p>Note: the definition of bounds implies that the bounds are not necessarily in the subsets (but they must be in the lattice)</p>
<p>Every complete lattice (P, âŠ‘) has a greatest element = âŠ”P called top and a least element âŠ¥ = âŠ“P called bottom</p>
<p>Every finite lattice (P is finite) is a complete lattice</p>
<h2 id="Product-Lattice"><a href="#Product-Lattice" class="headerlink" title="Product Lattice"></a>Product Lattice</h2><p>Given lattices L1 = (P1, $âŠ‘_1$), L2 = (P2, $âŠ‘_2$), â€¦, Ln = (Pn, $âŠ‘_n$), if for all i, (Pi , $âŠ‘_i$ ) has $âŠ”_i$ (least upper bound) and $âŠ“_i$ (greatest lower bound), then we can have a product lattice $L^n = (P, âŠ‘)$ that is defined by:</p>
<ul>
<li>$P = P_1 Ã— â€¦ Ã— P_n$</li>
<li>$(x_1,â€¦,x_n)âŠ‘(y_1,â€¦,y_n)\Leftrightarrow(x_1âŠ‘y_1)âˆ§â€¦âˆ§(x_nâŠ‘y_n)$</li>
<li>$(x_1,â€¦,x_n)âŠ”(y_1,â€¦,y_n)=(x_1âŠ”_1y_1,â€¦,x_nâŠ”_ny_n)$</li>
<li><p>$(x_1,â€¦,x_n)âŠ“(y_1,â€¦,y_n)=(x_1âŠ“ _1y_1,â€¦,x_nâŠ“ _ny_n)$</p>
</li>
<li><p>A product lattice is a lattice</p>
</li>
<li>If a product lattice L is a product of complete lattices, then L is also complete</li>
</ul>
<h1 id="Data-Flow-Analysis-Framework-via-Lattice"><a href="#Data-Flow-Analysis-Framework-via-Lattice" class="headerlink" title="Data Flow Analysis Framework via Lattice"></a>Data Flow Analysis Framework via Lattice</h1><p>A data flow analysis framework (D, L, F) consists of:</p>
<ul>
<li>D: a direction of data flow: forwards or backwards</li>
<li>L: a lattice including domain of the values V and a meet âŠ“ or join âŠ” operator</li>
<li>F: a family of transfer functions from V to V</li>
</ul>
<p><img src="/2022/04/30/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B05-DataFlowAnalysisFoundation1/DFAviaLattice.png" alt></p>
<p>Data flow analysis can be seen as iteratively applying transfer functions and meet/join operations on the values of a lattice</p>
<h1 id="Monotonicity-and-Fixed-Point-Theorem"><a href="#Monotonicity-and-Fixed-Point-Theorem" class="headerlink" title="Monotonicity and Fixed Point Theorem"></a>Monotonicity and Fixed Point Theorem</h1><h2 id="Monotonicity"><a href="#Monotonicity" class="headerlink" title="Monotonicity"></a>Monotonicity</h2><p>A function f: L â†’ L (L is a lattice) is monotonic if âˆ€x, y âˆˆ L, x âŠ‘ y âŸ¹ f(x) âŠ‘ f(y)</p>
<h2 id="Fixed-Point-Theorem"><a href="#Fixed-Point-Theorem" class="headerlink" title="Fixed-Point Theorem"></a>Fixed-Point Theorem</h2><p>Given a complete lattice (L, âŠ‘), if </p>
<p>(1) f: L â†’ L is monotonic and (2) L is finite, </p>
<p>then the least fixed point of f can be found by iterating $f(âŠ¥), f(f(âŠ¥)), â€¦, f^k(âŠ¥)$ until a fixed point is reached the greatest fixed point of f can be found by iterating $f( ), f(f( )), â€¦, f^k( )$ until a fixed point is reached</p>
<h2 id="Prove-Existence-of-fixed-point"><a href="#Prove-Existence-of-fixed-point" class="headerlink" title="Prove: Existence of fixed point"></a>Prove: Existence of fixed point</h2><p>Proof:</p>
<p>By the definition of âŠ¥ and f: L â†’ L, we have $âŠ¥ âŠ‘ f(âŠ¥)$</p>
<p>As f is monotonic, we have $f(âŠ¥) âŠ‘ f(f(âŠ¥)) = f^2(âŠ¥)$</p>
<p>By repeatedly applying f, we have an ascending chain $âŠ¥ âŠ‘ f(âŠ¥) âŠ‘ f^2(âŠ¥) âŠ‘ â€¦ âŠ‘ f^i (âŠ¥)$</p>
<p>As L is finite (its height is H), the values are bounded among $âŠ¥ , f(âŠ¥) , f^2(âŠ¥) â€¦ f^H(âŠ¥)$</p>
<p>When i &gt; H, by pigeonhole principle, there exists k and j that $f^k(âŠ¥) = f^j (âŠ¥) (assume k &lt; j â‰¤ H+1)$</p>
<p>Further as fk(âŠ¥) âŠ‘ â€¦ âŠ‘ fj (âŠ¥), we have $f^{Fix} = f^k(âŠ¥) = f^{k+1}(âŠ¥) = f^j (âŠ¥)$</p>
<p>Thus, the fixed point exists.</p>
<h2 id="Prove-Least-Fixed-Point"><a href="#Prove-Least-Fixed-Point" class="headerlink" title="Prove: Least Fixed Point"></a>Prove: Least Fixed Point</h2><p>Proof:</p>
<p>Assume we have another fixed point x, i.e., x = f(x)</p>
<p>By the definition of âŠ¥, we have âŠ¥ âŠ‘ x</p>
<p>Induction begins:</p>
<p>As f is monotonic, we have f(âŠ¥) âŠ‘ f(x)</p>
<p>Assume $f^i (âŠ¥) âŠ‘ f^i (x)$, as f is monotonic, we have $f^{i+1}(âŠ¥) âŠ‘ f{i+1}(x)$</p>
<p>Thus by induction, we have $f^i (âŠ¥) âŠ‘ f^i (x)$</p>
<p>Thus  $f^i (âŠ¥) âŠ‘ f^i (x) = x$, then we have $f^{Fix} = f^k(âŠ¥) âŠ‘ x$ </p>
<p>Thus the fixed point is the least</p>
<p>Now what we have just seen is the property (fixed point theorem) for the function on a lattice. We cannot say our iterative algorithm also has that property unless we can relate the algorithm to the fixed point theorem, if possible</p>
]]></content>
      <categories>
        <category>è½¯ä»¶åˆ†æ</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
        <tag>Static Analysis</tag>
        <tag>Data Flow Analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>å—å¤§ã€Šè½¯ä»¶åˆ†æã€‹06.DadaFlowAnalysisFoundation II</title>
    <url>/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯å—äº¬å¤§å­¦ææ¨¾ã€è°­æ·»è€å¸ˆçš„ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹çš„ç¬”è®°ã€‚å†…å®¹æ¥è‡ªè¯¾ç¨‹pptä»¥åŠè¯¾ç¨‹è®²è§£ã€‚</p>
<blockquote>
<p>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://tai-e.pascal-lab.net/lectures.html">Static Program Analysis | Tai-e (pascal-lab.net)</a></p>
<p>æˆè¯¾è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1b7411K7P4">è§†é¢‘å—äº¬å¤§å­¦ã€Šè½¯ä»¶åˆ†æã€‹è¯¾ç¨‹01ï¼ˆIntroductionï¼‰_å“”å“©å“”å“©_bilibili</a></p>
<p>è¯¾ç¨‹å®éªŒrepoï¼š<a href="https://github.com/pascal-lab/Tai-e-assignments">pascal-lab/Tai-e-assignments: Tai-e assignments for static program analysis (github.com)</a></p>
</blockquote>
<h1 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h1><ol>
<li>Iterative Algorithm, Another View</li>
<li>Partial Order</li>
<li>Upper and Lower Bounds</li>
<li>Lattice, Semilattice, Complete and Product Lattice </li>
<li>Data Flow Analysis Framework via Lattice</li>
<li>Monotonicity and Fixed Point Theorem</li>
<li>Relate Iterative Algorithm to Fixed Point Theorem</li>
<li>May/Must Analysis, A Lattice View</li>
<li>MOP and Distributivity</li>
<li>Constant Propagation</li>
<li>Worklist Algorithm</li>
</ol>
<span id="more"></span>
<h1 id="Review-The-Questions-We-Have-Seen-Before"><a href="#Review-The-Questions-We-Have-Seen-Before" class="headerlink" title="Review The Questions We Have Seen Before"></a>Review The Questions We Have Seen Before</h1><p>The iterative algorithm (or the IN/OUT equation system) produces a solution to a data flow analysis</p>
<ul>
<li>Is the algorithm guaranteed to terminate or reach the fixed point, or does it always have a solution?</li>
<li>If so, is there only one solution or only one fixed point? If more than one, is our solution the best one (most precise)?</li>
<li>When will the algorithm reach the fixed point, or when can we get the solution?</li>
</ul>
<p>Now what we have just seen is the property (fixed point theorem) for the function on a lattice. We cannot say our iterative algorithm also has that property unless we can relate the algorithm to the fixed point theorem, if possible</p>
<h1 id="Relate-Iterative-Algorithm-to-Fixed-Point-Theorem"><a href="#Relate-Iterative-Algorithm-to-Fixed-Point-Theorem" class="headerlink" title="Relate Iterative Algorithm to Fixed-Point Theorem"></a>Relate Iterative Algorithm to Fixed-Point Theorem</h1><ul>
<li>â€‹         â†’ $(\bot, \bot â€¦, \bot)$</li>
<li>iter 1 â†’ $(v_1^1, v_2^1, â€¦, v_k^1)$</li>
<li>iter 2 â†’ $(v_1^2, v_2^2, â€¦, v_k^2)$</li>
<li>â€¦</li>
<li>iter i â†’ $(v_1^i, v_2^i, â€¦, v_k^i)$ </li>
<li>iter i+1 â†’ $(v_1^i, v_2^i, â€¦, v_k^i)$</li>
</ul>
<p>Given a complete lattice (L, âŠ‘), if </p>
<p>(1) f: L â†’ L is monotonic and (2) L is finite, </p>
<p>then the least fixed point of f can be found by iterating $f(âŠ¥), f(f(âŠ¥)), â€¦, f^k(âŠ¥)$ until a fixed point is reached the greatest fixed point of f can be found by iterating $f( ), f(f( )), â€¦, f^k( )$ until a fixed point is reached</p>
<p>If a product lattice $L^k$ is a product of complete (and finite) lattices, i.e., (L, L, â€¦, L), then $L^k$ is also complete (and finite)</p>
<p>In each iteration, it is equivalent to think that we apply function F which consists of (1) transfer function fi : L â†’ L for every node (2) join/meet function âŠ”/âŠ“: LÃ—L â†’ L for control-flow confluence</p>
<p>Now the remaining issue is to prove that function F is monotonic</p>
<h2 id="Prove-Function-F-is-Monotonic"><a href="#Prove-Function-F-is-Monotonic" class="headerlink" title="Prove Function F is Monotonic"></a>Prove Function F is Monotonic</h2><p>In each iteration, it is equivalent to think that we apply function F which consists of </p>
<ol>
<li><p>transfer function fi : L â†’ L for every node</p>
<p>Gen/Kill function is monotonic</p>
</li>
<li><p>join/meet function âŠ”/âŠ“: LÃ—L â†’ L for control-flow confluence</p>
<p>Actually the binary operator is a basic case of L Ã— L Ã—â€¦ Ã— L, we want show that âŠ” is monotonic</p>
</li>
</ol>
<blockquote>
<p>Proof. </p>
<p>âˆ€x, y, z âˆˆ L, x âŠ‘ y, we want to prove x âŠ” z âŠ‘ y âŠ” z </p>
<p>by the definition of âŠ”, y âŠ‘ y âŠ” z </p>
<p>by transitivity of âŠ‘, x âŠ‘ y âŠ” z </p>
<p>thus y âŠ” z is an upper bound for x, and also for z (by âŠ”â€™s definition) as x âŠ” z is the least upper bound of x and z </p>
<p>thus x âŠ” z âŠ‘ y âŠ” z</p>
</blockquote>
<p>Thus the fixed point theorem applies to the iterative algorithm for data flow analysis.</p>
<h2 id="When-Will-the-Algorithm-Reach-the-Fixed-Point"><a href="#When-Will-the-Algorithm-Reach-the-Fixed-Point" class="headerlink" title="When Will the Algorithm Reach the Fixed Point?"></a>When Will the Algorithm Reach the Fixed Point?</h2><p>The height of a lattice h is the length of the longest path from Top to Bottom in the lattice.</p>
<p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/height.png" alt></p>
<p>The maximum iterations i needed to reach the fixed point</p>
<p>In each iteration, assume only one step in the lattice (upwards or downwards) is made in one node (e.g., one 0-&gt;1 in RD) </p>
<p>Assume the lattice height is h and the number of nodes in CFG is k </p>
<p>We need at most i = h*k iterations</p>
<h1 id="May-and-Must-Analyses-a-Lattice-View"><a href="#May-and-Must-Analyses-a-Lattice-View" class="headerlink" title="May and Must Analyses, a Lattice View"></a>May and Must Analyses, a Lattice View</h1><p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/MayandMust1.jpg" alt></p>
<p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/MayandMust2.jpg" alt></p>
<h1 id="MOP-and-Distributivity"><a href="#MOP-and-Distributivity" class="headerlink" title="MOP and Distributivity"></a>MOP and Distributivity</h1><h2 id="How-Precise-Is-Our-Solution"><a href="#How-Precise-Is-Our-Solution" class="headerlink" title="How Precise Is Our Solution?"></a>How Precise Is Our Solution?</h2><p>Meet-Over-All-Paths Solution(MOP)</p>
<p>$P = Entry \rightarrow S_1 \rightarrow S_2 \rightarrow \dots \rightarrow S_i$</p>
<p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/MOP.jpg" alt></p>
<p>Transfer function $F<em>P$ for a path P (from Entry to $S_i$ ) is a composition of transfer functions for all statements on that path: $f</em>{S1}$, $f<em>{S2}$, â€¦, $f</em>{S_{i-1}}$</p>
<p>$MOP[S_i]=âŠ”/âŠ“ F_P(OUT[Entry])$</p>
<p>MOP computes the data-flow values at the end of each path and apply join / meet operator to these values to find their lub / glb</p>
<p>Some paths may be not executable -&gt; not fully precise</p>
<p>Unbounded, and not enumerable -&gt; impratical</p>
<h2 id="Ours-Iterative-Alorithm-vs-MOP"><a href="#Ours-Iterative-Alorithm-vs-MOP" class="headerlink" title="Ours(Iterative Alorithm) vs. MOP"></a>Ours(Iterative Alorithm) vs. MOP</h2><p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/ItervsMOP.png" alt></p>
<p>$IN[S<em>4]=f</em>{s<em>3}(f</em>{s<em>1}(OUT[Entry])âŠ”f</em>{s_2}(OUT[Entry]))$</p>
<p>$MOP[S<em>4]=f</em>{s<em>3}(f</em>{s<em>1}(OUT[Entry]))âŠ”f</em>{s<em>3}(f</em>{s_2}(OUT[Entry]))$</p>
<p>Ours = F(xâŠ”y),  MOP = F(x) âŠ” F(y)</p>
<blockquote>
<p>By definition of lub âŠ”, we have </p>
<p>x âŠ‘ x âŠ” y and y âŠ‘ x âŠ” y </p>
<p>As transfer function F is monotonic, we have </p>
<p>F(x) âŠ‘ F(x âŠ” y) and F(y) âŠ‘ F(x âŠ” y) </p>
<p>That means F(x âŠ” y) is an upper bound of F(x) and F(y) </p>
<p>As F(x) âŠ” F(y) is the lub of F(x) and F(y), we have </p>
<p>F(x) âŠ” F(y) âŠ‘ F(x âŠ” y) </p>
<p>MOP âŠ‘ Ours </p>
<p>(Ours is less precise than MOP) </p>
</blockquote>
<p>When F is distributive, i.e., F(x âŠ” y) = F(x) âŠ” F(y), MOP=Ours(Ours is as precise as MOP)</p>
<p>Bit-vector or Gen/Kill problems (set union /intersection for join/meet) are distributive, but some analyses are not distributie.</p>
<h1 id="Constant-Propagation"><a href="#Constant-Propagation" class="headerlink" title="Constant Propagation"></a>Constant Propagation</h1><p>Given a variable x at program point p, determine whether x is guaranteed to hold a constant value at p.</p>
<p>The OUT of each node in CFG, includes a set of pairs (x, v) where x is a variable and v is the value held by x after that node</p>
<p>A  data flow analysis framework (D, L, F) consists of: </p>
<ul>
<li>D: a direction of data flow: forwards or backwards</li>
<li>L: a lattice including domain of the values V and a meet âŠ“ or join âŠ” operator</li>
<li>F: a family of transfer functions from V to V</li>
</ul>
<h2 id="Lattice"><a href="#Lattice" class="headerlink" title="Lattice"></a>Lattice</h2><ul>
<li><p>Domain of the values V</p>
<p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/domain.jpg" alt></p>
</li>
<li><p>Meet Operator âŠ“</p>
<ul>
<li>NAC âŠ“ v = NAC</li>
<li>UNDEF âŠ“ v = v</li>
<li>c âŠ“ c = c</li>
<li>c1 âŠ“ c2 = NAC</li>
</ul>
</li>
</ul>
<h2 id="Transfer-Function"><a href="#Transfer-Function" class="headerlink" title="Transfer Function"></a>Transfer Function</h2><p>Given a statement s: x = â€¦, we define its transfer function F as</p>
<p>$F:OUT[s]=gen \cup (IN[s] - {(x,_)})$</p>
<p>(we use val(x) to denote the lattice value that variable x holds)</p>
<ul>
<li>s: x = c // c is a constant gen = {x,c}</li>
<li>s: x = y  gen = {(x, val(y))}</li>
<li>s: x = y op z gen = {(x,f(y,z))}</li>
</ul>
<p>f{y,z} = </p>
<ul>
<li>val(y) op val(z) // if val(y) and val(z) are constants</li>
<li>NAC // if val(y) or val(z) is NAC</li>
<li>UNDEF // otherwise</li>
</ul>
<p>(if s is not an assignment statement, F is the identity function)</p>
<h2 id="Nondistributivity"><a href="#Nondistributivity" class="headerlink" title="Nondistributivity"></a>Nondistributivity</h2><p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/Nondistributivity.jpg" alt></p>
<p>F(X âŠ“ Y) = {(a,NAC), (b,NAC), (c,NAC)}</p>
<p>F(x) âŠ“ F(Y) = {(a, NAC), (b, NAC), (c,10)} </p>
<p>F(X âŠ“ Y) â‰  F(x) âŠ“ F(Y)  and F(X âŠ“ Y) âŠ‘ F(x) âŠ“ F(Y)</p>
<h1 id="Worklist-Algorithm-an-optimization-of-Iterative-Algorithm"><a href="#Worklist-Algorithm-an-optimization-of-Iterative-Algorithm" class="headerlink" title="Worklist Algorithm, an optimization of Iterative Algorithm"></a>Worklist Algorithm, an optimization of Iterative Algorithm</h1><h2 id="Review-Iterative-Algorithm-for-May-amp-Forward-Analysis"><a href="#Review-Iterative-Algorithm-for-May-amp-Forward-Analysis" class="headerlink" title="Review Iterative Algorithm for May&amp;Forward Analysis"></a>Review Iterative Algorithm for May&amp;Forward Analysis</h2><p>INPUT: CFG($kill_B$ and $gen_B$ computed for each basic block B)</p>
<p>OUTPUT: $IN[B]$ and$OUT[B]$ for each basic block B</p>
<p>METHOD:<img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/Algorithm.jpg" alt></p>
<h2 id="WorkList-Algorithm"><a href="#WorkList-Algorithm" class="headerlink" title="WorkList Algorithm"></a>WorkList Algorithm</h2><p><img src="/2022/05/04/%E5%8D%97%E5%A4%A7%E3%80%8A%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E3%80%8B06-DadaFlowAnalysisFoundation2/WorklistAlgorithm.jpg" alt></p>
]]></content>
      <categories>
        <category>è½¯ä»¶åˆ†æ</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
        <tag>Static Analysis</tag>
        <tag>Data Flow Analysis</tag>
      </tags>
  </entry>
</search>
